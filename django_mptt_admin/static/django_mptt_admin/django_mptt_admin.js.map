{"version":3,"file":"django_mptt_admin.js","mappings":"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","sources":["webpack://django-mptt-admin/./node_modules/.pnpm/cookie@0.4.1/node_modules/cookie/index.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/dataLoader.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/dragAndDropHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/elementsRenderer.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/keyHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/mouse.widget.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/node.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/nodeElement.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/saveStateHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/scrollHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/selectNodeHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/simple.widget.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/tree.jquery.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/util.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.6.2/node_modules/jqtree/lib/version.js","webpack://django-mptt-admin/webpack/bootstrap","webpack://django-mptt-admin/./node_modules/.pnpm/spin.js@4.1.1/node_modules/spin.js/spin.js","webpack://django-mptt-admin/./django_mptt_admin.ts"],"sourcesContent":["/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DataLoader = /*#__PURE__*/function () {\n  function DataLoader(treeWidget) {\n    _classCallCheck(this, DataLoader);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    this.treeWidget = treeWidget;\n  }\n\n  _createClass(DataLoader, [{\n    key: \"loadFromUrl\",\n    value: function loadFromUrl(urlInfo, parentNode, onFinished) {\n      var _this = this;\n\n      if (!urlInfo) {\n        return;\n      }\n\n      var $el = this.getDomElement(parentNode);\n      this.addLoadingClass($el);\n      this.notifyLoading(true, parentNode, $el);\n\n      var stopLoading = function stopLoading() {\n        _this.removeLoadingClass($el);\n\n        _this.notifyLoading(false, parentNode, $el);\n      };\n\n      var handleSuccess = function handleSuccess(data) {\n        stopLoading();\n\n        _this.treeWidget.loadData(_this.parseData(data), parentNode);\n\n        if (onFinished && typeof onFinished === \"function\") {\n          onFinished();\n        }\n      };\n\n      var handleError = function handleError(jqXHR) {\n        stopLoading();\n\n        if (_this.treeWidget.options.onLoadFailed) {\n          _this.treeWidget.options.onLoadFailed(jqXHR);\n        }\n      };\n\n      this.submitRequest(urlInfo, handleSuccess, handleError);\n    }\n  }, {\n    key: \"addLoadingClass\",\n    value: function addLoadingClass($el) {\n      if ($el) {\n        $el.addClass(\"jqtree-loading\");\n      }\n    }\n  }, {\n    key: \"removeLoadingClass\",\n    value: function removeLoadingClass($el) {\n      if ($el) {\n        $el.removeClass(\"jqtree-loading\");\n      }\n    }\n  }, {\n    key: \"getDomElement\",\n    value: function getDomElement(parentNode) {\n      if (parentNode) {\n        return jQuery(parentNode.element);\n      } else {\n        return this.treeWidget.element;\n      }\n    }\n  }, {\n    key: \"notifyLoading\",\n    value: function notifyLoading(isLoading, node, $el) {\n      if (this.treeWidget.options.onLoading) {\n        this.treeWidget.options.onLoading(isLoading, node, $el);\n      }\n\n      this.treeWidget._triggerEvent(\"tree.loading_data\", {\n        isLoading: isLoading,\n        node: node,\n        $el: $el\n      });\n    }\n  }, {\n    key: \"submitRequest\",\n    value: function submitRequest(urlInfoInput, handleSuccess, handleError) {\n      var _ajaxSettings$method;\n\n      var urlInfo = typeof urlInfoInput === \"string\" ? {\n        url: urlInfoInput\n      } : urlInfoInput;\n\n      var ajaxSettings = _objectSpread({\n        method: \"GET\",\n        cache: false,\n        dataType: \"json\",\n        success: handleSuccess,\n        error: handleError\n      }, urlInfo);\n\n      ajaxSettings.method = ((_ajaxSettings$method = ajaxSettings.method) === null || _ajaxSettings$method === void 0 ? void 0 : _ajaxSettings$method.toUpperCase()) || \"GET\";\n      void jQuery.ajax(ajaxSettings);\n    }\n  }, {\n    key: \"parseData\",\n    value: function parseData(data) {\n      var dataFilter = this.treeWidget.options.dataFilter;\n\n      var getParsedData = function getParsedData() {\n        if (typeof data === \"string\") {\n          return JSON.parse(data);\n        } else {\n          return data;\n        }\n      };\n\n      var parsedData = getParsedData();\n\n      if (dataFilter) {\n        return dataFilter(parsedData);\n      } else {\n        return parsedData;\n      }\n    }\n  }]);\n\n  return DataLoader;\n}();\n\nexports[\"default\"] = DataLoader;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HitAreasGenerator = exports.DragAndDropHandler = void 0;\n\nvar _node = require(\"./node\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } Object.defineProperty(subClass, \"prototype\", { value: Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }), writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DragAndDropHandler = /*#__PURE__*/function () {\n  function DragAndDropHandler(treeWidget) {\n    _classCallCheck(this, DragAndDropHandler);\n\n    _defineProperty(this, \"hitAreas\", void 0);\n\n    _defineProperty(this, \"isDragging\", void 0);\n\n    _defineProperty(this, \"currentItem\", void 0);\n\n    _defineProperty(this, \"hoveredArea\", void 0);\n\n    _defineProperty(this, \"positionInfo\", void 0);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"dragElement\", void 0);\n\n    _defineProperty(this, \"previousGhost\", void 0);\n\n    _defineProperty(this, \"openFolderTimer\", void 0);\n\n    this.treeWidget = treeWidget;\n    this.hoveredArea = null;\n    this.hitAreas = [];\n    this.isDragging = false;\n    this.currentItem = null;\n    this.positionInfo = null;\n  }\n\n  _createClass(DragAndDropHandler, [{\n    key: \"mouseCapture\",\n    value: function mouseCapture(positionInfo) {\n      var $element = jQuery(positionInfo.target);\n\n      if (!this.mustCaptureElement($element)) {\n        return null;\n      }\n\n      if (this.treeWidget.options.onIsMoveHandle && !this.treeWidget.options.onIsMoveHandle($element)) {\n        return null;\n      }\n\n      var nodeElement = this.treeWidget._getNodeElement($element);\n\n      if (nodeElement && this.treeWidget.options.onCanMove) {\n        if (!this.treeWidget.options.onCanMove(nodeElement.node)) {\n          nodeElement = null;\n        }\n      }\n\n      this.currentItem = nodeElement;\n      return this.currentItem != null;\n    }\n  }, {\n    key: \"mouseStart\",\n    value: function mouseStart(positionInfo) {\n      var _this$treeWidget$opti;\n\n      if (!this.currentItem || positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return false;\n      }\n\n      this.refresh();\n      var offset = jQuery(positionInfo.target).offset();\n      var left = offset ? offset.left : 0;\n      var top = offset ? offset.top : 0;\n      var node = this.currentItem.node;\n      this.dragElement = new DragElement(node.name, positionInfo.pageX - left, positionInfo.pageY - top, this.treeWidget.element, (_this$treeWidget$opti = this.treeWidget.options.autoEscape) !== null && _this$treeWidget$opti !== void 0 ? _this$treeWidget$opti : true);\n      this.isDragging = true;\n      this.positionInfo = positionInfo;\n      this.currentItem.$element.addClass(\"jqtree-moving\");\n      return true;\n    }\n  }, {\n    key: \"mouseDrag\",\n    value: function mouseDrag(positionInfo) {\n      if (!this.currentItem || !this.dragElement || positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return false;\n      }\n\n      this.dragElement.move(positionInfo.pageX, positionInfo.pageY);\n      this.positionInfo = positionInfo;\n      var area = this.findHoveredArea(positionInfo.pageX, positionInfo.pageY);\n\n      if (area && this.canMoveToArea(area)) {\n        if (!area.node.isFolder()) {\n          this.stopOpenFolderTimer();\n        }\n\n        if (this.hoveredArea !== area) {\n          this.hoveredArea = area; // If this is a closed folder, start timer to open it\n\n          if (this.mustOpenFolderTimer(area)) {\n            this.startOpenFolderTimer(area.node);\n          } else {\n            this.stopOpenFolderTimer();\n          }\n\n          this.updateDropHint();\n        }\n      } else {\n        this.removeDropHint();\n        this.stopOpenFolderTimer();\n        this.hoveredArea = area;\n      }\n\n      if (!area) {\n        if (this.treeWidget.options.onDragMove) {\n          this.treeWidget.options.onDragMove(this.currentItem.node, positionInfo.originalEvent);\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"mouseStop\",\n    value: function mouseStop(positionInfo) {\n      this.moveItem(positionInfo);\n      this.clear();\n      this.removeHover();\n      this.removeDropHint();\n      this.removeHitAreas();\n      var currentItem = this.currentItem;\n\n      if (this.currentItem) {\n        this.currentItem.$element.removeClass(\"jqtree-moving\");\n        this.currentItem = null;\n      }\n\n      this.isDragging = false;\n      this.positionInfo = null;\n\n      if (!this.hoveredArea && currentItem) {\n        if (this.treeWidget.options.onDragStop) {\n          this.treeWidget.options.onDragStop(currentItem.node, positionInfo.originalEvent);\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.removeHitAreas();\n\n      if (this.currentItem) {\n        this.generateHitAreas();\n        this.currentItem = this.treeWidget._getNodeElementForNode(this.currentItem.node);\n\n        if (this.isDragging) {\n          this.currentItem.$element.addClass(\"jqtree-moving\");\n        }\n      }\n    }\n  }, {\n    key: \"generateHitAreas\",\n    value: function generateHitAreas() {\n      if (!this.currentItem) {\n        this.hitAreas = [];\n      } else {\n        var hitAreasGenerator = new HitAreasGenerator(this.treeWidget.tree, this.currentItem.node, this.getTreeDimensions().bottom);\n        this.hitAreas = hitAreasGenerator.generate();\n      }\n    }\n  }, {\n    key: \"mustCaptureElement\",\n    value: function mustCaptureElement($element) {\n      return !$element.is(\"input,select,textarea\");\n    }\n  }, {\n    key: \"canMoveToArea\",\n    value: function canMoveToArea(area) {\n      if (!this.treeWidget.options.onCanMoveTo) {\n        return true;\n      }\n\n      if (!this.currentItem) {\n        return false;\n      }\n\n      var positionName = (0, _node.getPositionName)(area.position);\n      return this.treeWidget.options.onCanMoveTo(this.currentItem.node, area.node, positionName);\n    }\n  }, {\n    key: \"removeHitAreas\",\n    value: function removeHitAreas() {\n      this.hitAreas = [];\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.dragElement) {\n        this.dragElement.remove();\n        this.dragElement = null;\n      }\n    }\n  }, {\n    key: \"removeDropHint\",\n    value: function removeDropHint() {\n      if (this.previousGhost) {\n        this.previousGhost.remove();\n      }\n    }\n  }, {\n    key: \"removeHover\",\n    value: function removeHover() {\n      this.hoveredArea = null;\n    }\n  }, {\n    key: \"findHoveredArea\",\n    value: function findHoveredArea(x, y) {\n      var dimensions = this.getTreeDimensions();\n\n      if (x < dimensions.left || y < dimensions.top || x > dimensions.right || y > dimensions.bottom) {\n        return null;\n      }\n\n      var low = 0;\n      var high = this.hitAreas.length;\n\n      while (low < high) {\n        var mid = low + high >> 1;\n        var area = this.hitAreas[mid];\n\n        if (y < area.top) {\n          high = mid;\n        } else if (y > area.bottom) {\n          low = mid + 1;\n        } else {\n          return area;\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"mustOpenFolderTimer\",\n    value: function mustOpenFolderTimer(area) {\n      var node = area.node;\n      return node.isFolder() && !node.is_open && area.position === _node.Position.Inside;\n    }\n  }, {\n    key: \"updateDropHint\",\n    value: function updateDropHint() {\n      if (!this.hoveredArea) {\n        return;\n      } // remove previous drop hint\n\n\n      this.removeDropHint(); // add new drop hint\n\n      var nodeElement = this.treeWidget._getNodeElementForNode(this.hoveredArea.node);\n\n      this.previousGhost = nodeElement.addDropHint(this.hoveredArea.position);\n    }\n  }, {\n    key: \"startOpenFolderTimer\",\n    value: function startOpenFolderTimer(folder) {\n      var _this = this;\n\n      var openFolder = function openFolder() {\n        _this.treeWidget._openNode(folder, _this.treeWidget.options.slide, function () {\n          _this.refresh();\n\n          _this.updateDropHint();\n        });\n      };\n\n      this.stopOpenFolderTimer();\n      this.openFolderTimer = window.setTimeout(openFolder, this.treeWidget.options.openFolderDelay);\n    }\n  }, {\n    key: \"stopOpenFolderTimer\",\n    value: function stopOpenFolderTimer() {\n      if (this.openFolderTimer) {\n        clearTimeout(this.openFolderTimer);\n        this.openFolderTimer = null;\n      }\n    }\n  }, {\n    key: \"moveItem\",\n    value: function moveItem(positionInfo) {\n      var _this2 = this;\n\n      if (this.currentItem && this.hoveredArea && this.hoveredArea.position !== _node.Position.None && this.canMoveToArea(this.hoveredArea)) {\n        var movedNode = this.currentItem.node;\n        var targetNode = this.hoveredArea.node;\n        var position = this.hoveredArea.position;\n        var previousParent = movedNode.parent;\n\n        if (position === _node.Position.Inside) {\n          this.hoveredArea.node.is_open = true;\n        }\n\n        var doMove = function doMove() {\n          _this2.treeWidget.tree.moveNode(movedNode, targetNode, position);\n\n          _this2.treeWidget.element.empty();\n\n          _this2.treeWidget._refreshElements(null);\n        };\n\n        var event = this.treeWidget._triggerEvent(\"tree.move\", {\n          move_info: {\n            moved_node: movedNode,\n            target_node: targetNode,\n            position: (0, _node.getPositionName)(position),\n            previous_parent: previousParent,\n            do_move: doMove,\n            original_event: positionInfo.originalEvent\n          }\n        });\n\n        if (!event.isDefaultPrevented()) {\n          doMove();\n        }\n      }\n    }\n  }, {\n    key: \"getTreeDimensions\",\n    value: function getTreeDimensions() {\n      // Return the dimensions of the tree. Add a margin to the bottom to allow\n      // to drag-and-drop after the last element.\n      var offset = this.treeWidget.element.offset();\n\n      if (!offset) {\n        return {\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0\n        };\n      } else {\n        var el = this.treeWidget.element;\n        var width = el.width() || 0;\n        var height = el.height() || 0;\n\n        var left = offset.left + this.treeWidget._getScrollLeft();\n\n        return {\n          left: left,\n          top: offset.top,\n          right: left + width,\n          bottom: offset.top + height + 16\n        };\n      }\n    }\n  }]);\n\n  return DragAndDropHandler;\n}();\n\nexports.DragAndDropHandler = DragAndDropHandler;\n\nvar VisibleNodeIterator = /*#__PURE__*/function () {\n  function VisibleNodeIterator(tree) {\n    _classCallCheck(this, VisibleNodeIterator);\n\n    _defineProperty(this, \"tree\", void 0);\n\n    this.tree = tree;\n  }\n\n  _createClass(VisibleNodeIterator, [{\n    key: \"iterate\",\n    value: function iterate() {\n      var _this3 = this;\n\n      var isFirstNode = true;\n\n      var _iterateNode = function _iterateNode(node, nextNode) {\n        var mustIterateInside = (node.is_open || !node.element) && node.hasChildren();\n        var $element = null;\n\n        if (node.element) {\n          $element = jQuery(node.element);\n\n          if (!$element.is(\":visible\")) {\n            return;\n          }\n\n          if (isFirstNode) {\n            _this3.handleFirstNode(node);\n\n            isFirstNode = false;\n          }\n\n          if (!node.hasChildren()) {\n            _this3.handleNode(node, nextNode, $element);\n          } else if (node.is_open) {\n            if (!_this3.handleOpenFolder(node, $element)) {\n              mustIterateInside = false;\n            }\n          } else {\n            _this3.handleClosedFolder(node, nextNode, $element);\n          }\n        }\n\n        if (mustIterateInside) {\n          var childrenLength = node.children.length;\n          node.children.forEach(function (_, i) {\n            if (i === childrenLength - 1) {\n              _iterateNode(node.children[i], null);\n            } else {\n              _iterateNode(node.children[i], node.children[i + 1]);\n            }\n          });\n\n          if (node.is_open && $element) {\n            _this3.handleAfterOpenFolder(node, nextNode);\n          }\n        }\n      };\n\n      _iterateNode(this.tree, null);\n    }\n  }]);\n\n  return VisibleNodeIterator;\n}();\n\nvar HitAreasGenerator = /*#__PURE__*/function (_VisibleNodeIterator) {\n  _inherits(HitAreasGenerator, _VisibleNodeIterator);\n\n  var _super = _createSuper(HitAreasGenerator);\n\n  function HitAreasGenerator(tree, currentNode, treeBottom) {\n    var _this4;\n\n    _classCallCheck(this, HitAreasGenerator);\n\n    _this4 = _super.call(this, tree);\n\n    _defineProperty(_assertThisInitialized(_this4), \"currentNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"treeBottom\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"positions\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"lastTop\", void 0);\n\n    _this4.currentNode = currentNode;\n    _this4.treeBottom = treeBottom;\n    return _this4;\n  }\n\n  _createClass(HitAreasGenerator, [{\n    key: \"generate\",\n    value: function generate() {\n      this.positions = [];\n      this.lastTop = 0;\n      this.iterate();\n      return this.generateHitAreas(this.positions);\n    }\n  }, {\n    key: \"generateHitAreas\",\n    value: function generateHitAreas(positions) {\n      var previousTop = -1;\n      var group = [];\n      var hitAreas = [];\n\n      var _iterator = _createForOfIteratorHelper(positions),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var position = _step.value;\n\n          if (position.top !== previousTop && group.length) {\n            if (group.length) {\n              this.generateHitAreasForGroup(hitAreas, group, previousTop, position.top);\n            }\n\n            previousTop = position.top;\n            group = [];\n          }\n\n          group.push(position);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.generateHitAreasForGroup(hitAreas, group, previousTop, this.treeBottom);\n      return hitAreas;\n    }\n  }, {\n    key: \"handleOpenFolder\",\n    value: function handleOpenFolder(node, $element) {\n      if (node === this.currentNode) {\n        // Cannot move inside current item\n        // Stop iterating\n        return false;\n      } // Cannot move before current item\n\n\n      if (node.children[0] !== this.currentNode) {\n        this.addPosition(node, _node.Position.Inside, this.getTop($element));\n      } // Continue iterating\n\n\n      return true;\n    }\n  }, {\n    key: \"handleClosedFolder\",\n    value: function handleClosedFolder(node, nextNode, $element) {\n      var top = this.getTop($element);\n\n      if (node === this.currentNode) {\n        // Cannot move after current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.Inside, top); // Cannot move before current item\n\n        if (nextNode !== this.currentNode) {\n          this.addPosition(node, _node.Position.After, top);\n        }\n      }\n    }\n  }, {\n    key: \"handleFirstNode\",\n    value: function handleFirstNode(node) {\n      if (node !== this.currentNode) {\n        this.addPosition(node, _node.Position.Before, this.getTop(jQuery(node.element)));\n      }\n    }\n  }, {\n    key: \"handleAfterOpenFolder\",\n    value: function handleAfterOpenFolder(node, nextNode) {\n      if (node === this.currentNode || nextNode === this.currentNode) {\n        // Cannot move before or after current item\n        this.addPosition(node, _node.Position.None, this.lastTop);\n      } else {\n        this.addPosition(node, _node.Position.After, this.lastTop);\n      }\n    }\n  }, {\n    key: \"handleNode\",\n    value: function handleNode(node, nextNode, $element) {\n      var top = this.getTop($element);\n\n      if (node === this.currentNode) {\n        // Cannot move inside current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.Inside, top);\n      }\n\n      if (nextNode === this.currentNode || node === this.currentNode) {\n        // Cannot move before or after current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.After, top);\n      }\n    }\n  }, {\n    key: \"getTop\",\n    value: function getTop($element) {\n      var offset = $element.offset();\n      return offset ? offset.top : 0;\n    }\n  }, {\n    key: \"addPosition\",\n    value: function addPosition(node, position, top) {\n      var area = {\n        top: top,\n        bottom: 0,\n        node: node,\n        position: position\n      };\n      this.positions.push(area);\n      this.lastTop = top;\n    }\n  }, {\n    key: \"generateHitAreasForGroup\",\n    value: function generateHitAreasForGroup(hitAreas, positionsInGroup, top, bottom) {\n      // limit positions in group\n      var positionCount = Math.min(positionsInGroup.length, 4);\n      var areaHeight = Math.round((bottom - top) / positionCount);\n      var areaTop = top;\n      var i = 0;\n\n      while (i < positionCount) {\n        var position = positionsInGroup[i];\n        hitAreas.push({\n          top: areaTop,\n          bottom: areaTop + areaHeight,\n          node: position.node,\n          position: position.position\n        });\n        areaTop += areaHeight;\n        i += 1;\n      }\n    }\n  }]);\n\n  return HitAreasGenerator;\n}(VisibleNodeIterator);\n\nexports.HitAreasGenerator = HitAreasGenerator;\n\nvar DragElement = /*#__PURE__*/function () {\n  function DragElement(nodeName, offsetX, offsetY, $tree, autoEscape) {\n    _classCallCheck(this, DragElement);\n\n    _defineProperty(this, \"offsetX\", void 0);\n\n    _defineProperty(this, \"offsetY\", void 0);\n\n    _defineProperty(this, \"$element\", void 0);\n\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    this.$element = jQuery(\"<span>\").addClass(\"jqtree-title jqtree-dragging\");\n\n    if (autoEscape) {\n      this.$element.text(nodeName);\n    } else {\n      this.$element.html(nodeName);\n    }\n\n    this.$element.css(\"position\", \"absolute\");\n    $tree.append(this.$element);\n  }\n\n  _createClass(DragElement, [{\n    key: \"move\",\n    value: function move(pageX, pageY) {\n      this.$element.offset({\n        left: pageX - this.offsetX,\n        top: pageY - this.offsetY\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      this.$element.remove();\n    }\n  }]);\n\n  return DragElement;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _util = require(\"./util\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ElementsRenderer = /*#__PURE__*/function () {\n  function ElementsRenderer(treeWidget) {\n    _classCallCheck(this, ElementsRenderer);\n\n    _defineProperty(this, \"openedIconElement\", void 0);\n\n    _defineProperty(this, \"closedIconElement\", void 0);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    this.treeWidget = treeWidget;\n    this.openedIconElement = this.createButtonElement(treeWidget.options.openedIcon || \"+\");\n    this.closedIconElement = this.createButtonElement(treeWidget.options.closedIcon || \"-\");\n  }\n\n  _createClass(ElementsRenderer, [{\n    key: \"render\",\n    value: function render(fromNode) {\n      if (fromNode && fromNode.parent) {\n        this.renderFromNode(fromNode);\n      } else {\n        this.renderFromRoot();\n      }\n    }\n  }, {\n    key: \"renderFromRoot\",\n    value: function renderFromRoot() {\n      var $element = this.treeWidget.element;\n      $element.empty();\n      this.createDomElements($element[0], this.treeWidget.tree.children, true, 1);\n    }\n  }, {\n    key: \"renderFromNode\",\n    value: function renderFromNode(node) {\n      // remember current li\n      var $previousLi = jQuery(node.element); // create element\n\n      var li = this.createLi(node, node.getLevel());\n      this.attachNodeData(node, li); // add element to dom\n\n      $previousLi.after(li); // remove previous li\n\n      $previousLi.remove(); // create children\n\n      if (node.children) {\n        this.createDomElements(li, node.children, false, node.getLevel() + 1);\n      }\n    }\n  }, {\n    key: \"createDomElements\",\n    value: function createDomElements(element, children, isRootNode, level) {\n      var ul = this.createUl(isRootNode);\n      element.appendChild(ul);\n\n      var _iterator = _createForOfIteratorHelper(children),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n          var li = this.createLi(child, level);\n          ul.appendChild(li);\n          this.attachNodeData(child, li);\n\n          if (child.hasChildren()) {\n            this.createDomElements(li, child.children, false, level + 1);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"attachNodeData\",\n    value: function attachNodeData(node, li) {\n      node.element = li;\n      jQuery(li).data(\"node\", node);\n    }\n  }, {\n    key: \"createUl\",\n    value: function createUl(isRootNode) {\n      var classString;\n      var role;\n\n      if (!isRootNode) {\n        classString = \"\";\n        role = \"group\";\n      } else {\n        classString = \"jqtree-tree\";\n        role = \"tree\";\n\n        if (this.treeWidget.options.rtl) {\n          classString += \" jqtree-rtl\";\n        }\n      }\n\n      if (this.treeWidget.options.dragAndDrop) {\n        classString += \" jqtree-dnd\";\n      }\n\n      var ul = document.createElement(\"ul\");\n      ul.className = \"jqtree_common \".concat(classString);\n      ul.setAttribute(\"role\", role);\n      return ul;\n    }\n  }, {\n    key: \"createLi\",\n    value: function createLi(node, level) {\n      var isSelected = Boolean(this.treeWidget.selectNodeHandler.isNodeSelected(node));\n      var mustShowFolder = node.isFolder() || node.isEmptyFolder && this.treeWidget.options.showEmptyFolder;\n      var li = mustShowFolder ? this.createFolderLi(node, level, isSelected) : this.createNodeLi(node, level, isSelected);\n\n      if (this.treeWidget.options.onCreateLi) {\n        this.treeWidget.options.onCreateLi(node, jQuery(li), isSelected);\n      }\n\n      return li;\n    }\n  }, {\n    key: \"createFolderLi\",\n    value: function createFolderLi(node, level, isSelected) {\n      var buttonClasses = this.getButtonClasses(node);\n      var folderClasses = this.getFolderClasses(node, isSelected);\n      var iconElement = node.is_open ? this.openedIconElement : this.closedIconElement; // li\n\n      var li = document.createElement(\"li\");\n      li.className = \"jqtree_common \".concat(folderClasses);\n      li.setAttribute(\"role\", \"presentation\"); // div\n\n      var div = document.createElement(\"div\");\n      div.className = \"jqtree-element jqtree_common\";\n      div.setAttribute(\"role\", \"presentation\");\n      li.appendChild(div); // button link\n\n      var buttonLink = document.createElement(\"a\");\n      buttonLink.className = buttonClasses;\n      buttonLink.appendChild(iconElement.cloneNode(true));\n      buttonLink.setAttribute(\"role\", \"presentation\");\n      buttonLink.setAttribute(\"aria-hidden\", \"true\");\n\n      if (this.treeWidget.options.buttonLeft) {\n        div.appendChild(buttonLink);\n      } // title span\n\n\n      div.appendChild(this.createTitleSpan(node.name, level, isSelected, node.is_open, true));\n\n      if (!this.treeWidget.options.buttonLeft) {\n        div.appendChild(buttonLink);\n      }\n\n      return li;\n    }\n  }, {\n    key: \"createNodeLi\",\n    value: function createNodeLi(node, level, isSelected) {\n      var liClasses = [\"jqtree_common\"];\n\n      if (isSelected) {\n        liClasses.push(\"jqtree-selected\");\n      }\n\n      var classString = liClasses.join(\" \"); // li\n\n      var li = document.createElement(\"li\");\n      li.className = classString;\n      li.setAttribute(\"role\", \"presentation\"); // div\n\n      var div = document.createElement(\"div\");\n      div.className = \"jqtree-element jqtree_common\";\n      div.setAttribute(\"role\", \"presentation\");\n      li.appendChild(div); // title span\n\n      div.appendChild(this.createTitleSpan(node.name, level, isSelected, node.is_open, false));\n      return li;\n    }\n  }, {\n    key: \"createTitleSpan\",\n    value: function createTitleSpan(nodeName, level, isSelected, isOpen, isFolder) {\n      var titleSpan = document.createElement(\"span\");\n      var classes = \"jqtree-title jqtree_common\";\n\n      if (isFolder) {\n        classes += \" jqtree-title-folder\";\n      }\n\n      classes += \" jqtree-title-button-\".concat(this.treeWidget.options.buttonLeft ? \"left\" : \"right\");\n      titleSpan.className = classes;\n      titleSpan.setAttribute(\"role\", \"treeitem\");\n      titleSpan.setAttribute(\"aria-level\", \"\".concat(level));\n      titleSpan.setAttribute(\"aria-selected\", (0, _util.getBoolString)(isSelected));\n      titleSpan.setAttribute(\"aria-expanded\", (0, _util.getBoolString)(isOpen));\n\n      if (isSelected) {\n        var tabIndex = this.treeWidget.options.tabIndex;\n\n        if (tabIndex !== undefined) {\n          titleSpan.setAttribute(\"tabindex\", \"\".concat(tabIndex));\n        }\n      }\n\n      if (this.treeWidget.options.autoEscape) {\n        titleSpan.textContent = nodeName;\n      } else {\n        titleSpan.innerHTML = nodeName;\n      }\n\n      return titleSpan;\n    }\n  }, {\n    key: \"getButtonClasses\",\n    value: function getButtonClasses(node) {\n      var classes = [\"jqtree-toggler\", \"jqtree_common\"];\n\n      if (!node.is_open) {\n        classes.push(\"jqtree-closed\");\n      }\n\n      if (this.treeWidget.options.buttonLeft) {\n        classes.push(\"jqtree-toggler-left\");\n      } else {\n        classes.push(\"jqtree-toggler-right\");\n      }\n\n      return classes.join(\" \");\n    }\n  }, {\n    key: \"getFolderClasses\",\n    value: function getFolderClasses(node, isSelected) {\n      var classes = [\"jqtree-folder\"];\n\n      if (!node.is_open) {\n        classes.push(\"jqtree-closed\");\n      }\n\n      if (isSelected) {\n        classes.push(\"jqtree-selected\");\n      }\n\n      if (node.is_loading) {\n        classes.push(\"jqtree-loading\");\n      }\n\n      return classes.join(\" \");\n    }\n  }, {\n    key: \"createButtonElement\",\n    value: function createButtonElement(value) {\n      if (typeof value === \"string\") {\n        // convert value to html\n        var div = document.createElement(\"div\");\n        div.innerHTML = value;\n        return document.createTextNode(div.innerHTML);\n      } else {\n        return jQuery(value)[0];\n      }\n    }\n  }]);\n\n  return ElementsRenderer;\n}();\n\nexports[\"default\"] = ElementsRenderer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar KeyHandler = /*#__PURE__*/function () {\n  function KeyHandler(treeWidget) {\n    var _this = this;\n\n    _classCallCheck(this, KeyHandler);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"handleKeyDown\", function (e) {\n      if (!_this.canHandleKeyboard()) {\n        return true;\n      }\n\n      var selectedNode = _this.treeWidget.getSelectedNode();\n\n      if (!selectedNode) {\n        return true;\n      }\n\n      var key = e.which;\n\n      switch (key) {\n        case KeyHandler.DOWN:\n          return _this.moveDown(selectedNode);\n\n        case KeyHandler.UP:\n          return _this.moveUp(selectedNode);\n\n        case KeyHandler.RIGHT:\n          return _this.moveRight(selectedNode);\n\n        case KeyHandler.LEFT:\n          return _this.moveLeft(selectedNode);\n\n        default:\n          return true;\n      }\n    });\n\n    this.treeWidget = treeWidget;\n\n    if (treeWidget.options.keyboardSupport) {\n      jQuery(document).on(\"keydown.jqtree\", this.handleKeyDown);\n    }\n  }\n\n  _createClass(KeyHandler, [{\n    key: \"deinit\",\n    value: function deinit() {\n      jQuery(document).off(\"keydown.jqtree\");\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown(selectedNode) {\n      return this.selectNode(selectedNode.getNextNode());\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp(selectedNode) {\n      return this.selectNode(selectedNode.getPreviousNode());\n    }\n  }, {\n    key: \"moveRight\",\n    value: function moveRight(selectedNode) {\n      if (!selectedNode.isFolder()) {\n        return true;\n      } else {\n        // folder node\n        if (selectedNode.is_open) {\n          // Right moves to the first child of an open node\n          return this.selectNode(selectedNode.getNextNode());\n        } else {\n          // Right expands a closed node\n          this.treeWidget.openNode(selectedNode);\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"moveLeft\",\n    value: function moveLeft(selectedNode) {\n      if (selectedNode.isFolder() && selectedNode.is_open) {\n        // Left on an open node closes the node\n        this.treeWidget.closeNode(selectedNode);\n        return false;\n      } else {\n        // Left on a closed or end node moves focus to the node's parent\n        return this.selectNode(selectedNode.getParent());\n      }\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(node) {\n      if (!node) {\n        return true;\n      } else {\n        this.treeWidget.selectNode(node);\n\n        if (!this.treeWidget.scrollHandler.isScrolledIntoView(jQuery(node.element).find(\".jqtree-element\"))) {\n          this.treeWidget.scrollToNode(node);\n        }\n\n        return false;\n      }\n    }\n  }, {\n    key: \"canHandleKeyboard\",\n    value: function canHandleKeyboard() {\n      return (this.treeWidget.options.keyboardSupport || false) && this.treeWidget.selectNodeHandler.isFocusOnTree();\n    }\n  }]);\n\n  return KeyHandler;\n}();\n\nexports[\"default\"] = KeyHandler;\n\n_defineProperty(KeyHandler, \"LEFT\", 37);\n\n_defineProperty(KeyHandler, \"UP\", 38);\n\n_defineProperty(KeyHandler, \"RIGHT\", 39);\n\n_defineProperty(KeyHandler, \"DOWN\", 40);","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _simple = _interopRequireDefault(require(\"./simple.widget\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } Object.defineProperty(subClass, \"prototype\", { value: Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }), writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar getPositionInfoFromMouseEvent = function getPositionInfoFromMouseEvent(e) {\n  return {\n    pageX: e.pageX,\n    pageY: e.pageY,\n    target: e.target,\n    originalEvent: e\n  };\n};\n\nvar getPositionInfoFromTouch = function getPositionInfoFromTouch(touch, e) {\n  return {\n    pageX: touch.pageX,\n    pageY: touch.pageY,\n    target: touch.target,\n    originalEvent: e\n  };\n};\n\nvar MouseWidget = /*#__PURE__*/function (_SimpleWidget) {\n  _inherits(MouseWidget, _SimpleWidget);\n\n  var _super = _createSuper(MouseWidget);\n\n  function MouseWidget() {\n    var _this;\n\n    _classCallCheck(this, MouseWidget);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"isMouseStarted\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseDownInfo\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseDelayTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"isMouseDelayMet\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseDown\", function (e) {\n      // Left mouse button?\n      if (e.button !== 0) {\n        return;\n      }\n\n      var result = _this.handleMouseDown(getPositionInfoFromMouseEvent(e));\n\n      if (result && e.cancelable) {\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseMove\", function (e) {\n      _this.handleMouseMove(e, getPositionInfoFromMouseEvent(e));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseUp\", function (e) {\n      _this.handleMouseUp(getPositionInfoFromMouseEvent(e));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"touchStart\", function (e) {\n      if (!e) {\n        return;\n      }\n\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      var touch = e.changedTouches[0];\n\n      _this.handleMouseDown(getPositionInfoFromTouch(touch, e));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"touchMove\", function (e) {\n      if (!e) {\n        return;\n      }\n\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      var touch = e.changedTouches[0];\n\n      _this.handleMouseMove(e, getPositionInfoFromTouch(touch, e));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"touchEnd\", function (e) {\n      if (!e) {\n        return;\n      }\n\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      var touch = e.changedTouches[0];\n\n      _this.handleMouseUp(getPositionInfoFromTouch(touch, e));\n    });\n\n    return _this;\n  }\n\n  _createClass(MouseWidget, [{\n    key: \"init\",\n    value: function init() {\n      var element = this.$el.get(0);\n\n      if (element) {\n        element.addEventListener(\"mousedown\", this.mouseDown, {\n          passive: false\n        });\n        element.addEventListener(\"touchstart\", this.touchStart, {\n          passive: false\n        });\n      }\n\n      this.isMouseStarted = false;\n      this.mouseDelayTimer = null;\n      this.isMouseDelayMet = false;\n      this.mouseDownInfo = null;\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      var el = this.$el.get(0);\n\n      if (el) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n        el.removeEventListener(\"mousedown\", this.mouseDown, {\n          passive: false\n        }); // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\n        el.removeEventListener(\"touchstart\", this.touchStart, {\n          passive: false\n        });\n      }\n\n      this.removeMouseMoveEventListeners();\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(positionInfo) {\n      // We may have missed mouseup (out of window)\n      if (this.isMouseStarted) {\n        this.handleMouseUp(positionInfo);\n      }\n\n      this.mouseDownInfo = positionInfo;\n\n      if (!this.mouseCapture(positionInfo)) {\n        return false;\n      }\n\n      this.handleStartMouse();\n      return true;\n    }\n  }, {\n    key: \"handleStartMouse\",\n    value: function handleStartMouse() {\n      document.addEventListener(\"mousemove\", this.mouseMove, {\n        passive: false\n      });\n      document.addEventListener(\"touchmove\", this.touchMove, {\n        passive: false\n      });\n      document.addEventListener(\"mouseup\", this.mouseUp, {\n        passive: false\n      });\n      document.addEventListener(\"touchend\", this.touchEnd, {\n        passive: false\n      });\n      var mouseDelay = this.getMouseDelay();\n\n      if (mouseDelay) {\n        this.startMouseDelayTimer(mouseDelay);\n      } else {\n        this.isMouseDelayMet = true;\n      }\n    }\n  }, {\n    key: \"startMouseDelayTimer\",\n    value: function startMouseDelayTimer(mouseDelay) {\n      var _this2 = this;\n\n      if (this.mouseDelayTimer) {\n        clearTimeout(this.mouseDelayTimer);\n      }\n\n      this.mouseDelayTimer = window.setTimeout(function () {\n        if (_this2.mouseDownInfo) {\n          _this2.isMouseDelayMet = true;\n        }\n      }, mouseDelay);\n      this.isMouseDelayMet = false;\n    }\n  }, {\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(e, positionInfo) {\n      if (this.isMouseStarted) {\n        this.mouseDrag(positionInfo);\n\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n\n        return;\n      }\n\n      if (!this.isMouseDelayMet) {\n        return;\n      }\n\n      if (this.mouseDownInfo) {\n        this.isMouseStarted = this.mouseStart(this.mouseDownInfo) !== false;\n      }\n\n      if (this.isMouseStarted) {\n        this.mouseDrag(positionInfo);\n\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n      } else {\n        this.handleMouseUp(positionInfo);\n      }\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp(positionInfo) {\n      this.removeMouseMoveEventListeners();\n      this.isMouseDelayMet = false;\n      this.mouseDownInfo = null;\n\n      if (this.isMouseStarted) {\n        this.isMouseStarted = false;\n        this.mouseStop(positionInfo);\n      }\n    }\n  }, {\n    key: \"removeMouseMoveEventListeners\",\n    value: function removeMouseMoveEventListeners() {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"mousemove\", this.mouseMove, {\n        passive: false\n      }); // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\n      document.removeEventListener(\"touchmove\", this.touchMove, {\n        passive: false\n      }); // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\n      document.removeEventListener(\"mouseup\", this.mouseUp, {\n        passive: false\n      }); // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\n      document.removeEventListener(\"touchend\", this.touchEnd, {\n        passive: false\n      });\n    }\n  }]);\n\n  return MouseWidget;\n}(_simple[\"default\"]);\n\nvar _default = MouseWidget;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPositionName = exports.getPosition = exports.Position = exports.Node = void 0;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar Position;\nexports.Position = Position;\n\n(function (Position) {\n  Position[Position[\"Before\"] = 1] = \"Before\";\n  Position[Position[\"After\"] = 2] = \"After\";\n  Position[Position[\"Inside\"] = 3] = \"Inside\";\n  Position[Position[\"None\"] = 4] = \"None\";\n})(Position || (exports.Position = Position = {}));\n\nvar positionNames = {\n  before: Position.Before,\n  after: Position.After,\n  inside: Position.Inside,\n  none: Position.None\n};\n\nvar getPositionName = function getPositionName(position) {\n  for (var name in positionNames) {\n    if (Object.prototype.hasOwnProperty.call(positionNames, name)) {\n      if (positionNames[name] === position) {\n        return name;\n      }\n    }\n  }\n\n  return \"\";\n};\n\nexports.getPositionName = getPositionName;\n\nvar getPosition = function getPosition(name) {\n  return positionNames[name];\n};\n\nexports.getPosition = getPosition;\n\nvar isNodeRecordWithChildren = function isNodeRecordWithChildren(data) {\n  return _typeof(data) === \"object\" && \"children\" in data && data[\"children\"] instanceof Array;\n};\n\nvar Node = /*#__PURE__*/function () {\n  function Node() {\n    var o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var isRoot = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var nodeClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Node;\n\n    _classCallCheck(this, Node);\n\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"children\", void 0);\n\n    _defineProperty(this, \"parent\", void 0);\n\n    _defineProperty(this, \"idMapping\", void 0);\n\n    _defineProperty(this, \"tree\", void 0);\n\n    _defineProperty(this, \"nodeClass\", void 0);\n\n    _defineProperty(this, \"load_on_demand\", void 0);\n\n    _defineProperty(this, \"is_open\", void 0);\n\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"is_loading\", void 0);\n\n    _defineProperty(this, \"isEmptyFolder\", void 0);\n\n    this.name = \"\";\n    this.isEmptyFolder = false;\n    this.load_on_demand = false;\n    this.setData(o);\n    this.children = [];\n    this.parent = null;\n\n    if (isRoot) {\n      this.idMapping = new Map();\n      this.tree = this;\n      this.nodeClass = nodeClass;\n    }\n  }\n  /*\n  Set the data of this node.\n   setData(string): set the name of the node\n  setdata(object): set attributes of the node\n   Examples:\n      setdata('node1')\n       setData({ name: 'node1', id: 1});\n       setData({ name: 'node2', id: 2, color: 'green'});\n   * This is an internal function; it is not in the docs\n  * Does not remove existing node values\n  */\n\n\n  _createClass(Node, [{\n    key: \"setData\",\n    value: function setData(o) {\n      if (!o) {\n        return;\n      } else if (typeof o === \"string\") {\n        this.name = o;\n      } else if (_typeof(o) === \"object\") {\n        for (var _key in o) {\n          if (Object.prototype.hasOwnProperty.call(o, _key)) {\n            var value = o[_key];\n\n            if (_key === \"label\" || _key === \"name\") {\n              // You can use the 'label' key instead of 'name'; this is a legacy feature\n              if (typeof value === \"string\") {\n                this.name = value;\n              }\n            } else if (_key !== \"children\" && _key !== \"parent\") {\n              // You can't update the children or the parent using this function\n              this[_key] = value;\n            }\n          }\n        }\n      }\n    }\n    /*\n    Create tree from data.\n     Structure of data is:\n    [\n        {\n            name: 'node1',\n            children: [\n                { name: 'child1' },\n                { name: 'child2' }\n            ]\n        },\n        {\n            name: 'node2'\n        }\n    ]\n    */\n\n  }, {\n    key: \"loadFromData\",\n    value: function loadFromData(data) {\n      this.removeChildren();\n\n      var _iterator = _createForOfIteratorHelper(data),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var o = _step.value;\n\n          var _node = this.createNode(o);\n\n          this.addChild(_node);\n\n          if (isNodeRecordWithChildren(o)) {\n            if (o.children.length === 0) {\n              _node.isEmptyFolder = true;\n            } else {\n              _node.loadFromData(o.children);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return this;\n    }\n    /*\n    Add child.\n     tree.addChild(\n        new Node('child1')\n    );\n    */\n\n  }, {\n    key: \"addChild\",\n    value: function addChild(node) {\n      this.children.push(node);\n      node.setParent(this);\n    }\n    /*\n    Add child at position. Index starts at 0.\n     tree.addChildAtPosition(\n        new Node('abc'),\n        1\n    );\n    */\n\n  }, {\n    key: \"addChildAtPosition\",\n    value: function addChildAtPosition(node, index) {\n      this.children.splice(index, 0, node);\n      node.setParent(this);\n    }\n    /*\n    Remove child. This also removes the children of the node.\n     tree.removeChild(tree.children[0]);\n    */\n\n  }, {\n    key: \"removeChild\",\n    value: function removeChild(node) {\n      // remove children from the index\n      node.removeChildren();\n      this.doRemoveChild(node);\n    }\n    /*\n    Get child index.\n     var index = getChildIndex(node);\n    */\n\n  }, {\n    key: \"getChildIndex\",\n    value: function getChildIndex(node) {\n      return this.children.indexOf(node);\n    }\n    /*\n    Does the tree have children?\n     if (tree.hasChildren()) {\n        //\n    }\n    */\n\n  }, {\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return this.children.length !== 0;\n    }\n  }, {\n    key: \"isFolder\",\n    value: function isFolder() {\n      return this.hasChildren() || this.load_on_demand;\n    }\n    /*\n    Iterate over all the nodes in the tree.\n     Calls callback with (node, level).\n     The callback must return true to continue the iteration on current node.\n     tree.iterate(\n        function(node, level) {\n           console.log(node.name);\n            // stop iteration after level 2\n           return (level <= 2);\n        }\n    );\n     */\n\n  }, {\n    key: \"iterate\",\n    value: function iterate(callback) {\n      var _iterate = function _iterate(node, level) {\n        if (node.children) {\n          var _iterator2 = _createForOfIteratorHelper(node.children),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var child = _step2.value;\n              var result = callback(child, level);\n\n              if (result && child.hasChildren()) {\n                _iterate(child, level + 1);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      };\n\n      _iterate(this, 0);\n    }\n    /*\n    Move node relative to another node.\n     Argument position: Position.BEFORE, Position.AFTER or Position.Inside\n     // move node1 after node2\n    tree.moveNode(node1, node2, Position.AFTER);\n    */\n\n  }, {\n    key: \"moveNode\",\n    value: function moveNode(movedNode, targetNode, position) {\n      if (!movedNode.parent || movedNode.isParentOf(targetNode)) {\n        // - Node is parent of target node\n        // - Or, parent is empty\n        return false;\n      } else {\n        movedNode.parent.doRemoveChild(movedNode);\n\n        switch (position) {\n          case Position.After:\n            {\n              if (targetNode.parent) {\n                targetNode.parent.addChildAtPosition(movedNode, targetNode.parent.getChildIndex(targetNode) + 1);\n                return true;\n              }\n\n              return false;\n            }\n\n          case Position.Before:\n            {\n              if (targetNode.parent) {\n                targetNode.parent.addChildAtPosition(movedNode, targetNode.parent.getChildIndex(targetNode));\n                return true;\n              }\n\n              return false;\n            }\n\n          case Position.Inside:\n            {\n              // move inside as first child\n              targetNode.addChildAtPosition(movedNode, 0);\n              return true;\n            }\n\n          default:\n            return false;\n        }\n      }\n    }\n    /*\n    Get the tree as data.\n    */\n\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var includeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var getDataFromNodes = function getDataFromNodes(nodes) {\n        return nodes.map(function (node) {\n          var tmpNode = {};\n\n          for (var k in node) {\n            if ([\"parent\", \"children\", \"element\", \"idMapping\", \"load_on_demand\", \"nodeClass\", \"tree\", \"isEmptyFolder\"].indexOf(k) === -1 && Object.prototype.hasOwnProperty.call(node, k)) {\n              var v = node[k];\n              tmpNode[k] = v;\n            }\n          }\n\n          if (node.hasChildren()) {\n            tmpNode[\"children\"] = getDataFromNodes(node.children);\n          }\n\n          return tmpNode;\n        });\n      };\n\n      if (includeParent) {\n        return getDataFromNodes([this]);\n      } else {\n        return getDataFromNodes(this.children);\n      }\n    }\n  }, {\n    key: \"getNodeByName\",\n    value: function getNodeByName(name) {\n      return this.getNodeByCallback(function (node) {\n        return node.name === name;\n      });\n    }\n  }, {\n    key: \"getNodeByNameMustExist\",\n    value: function getNodeByNameMustExist(name) {\n      var node = this.getNodeByCallback(function (n) {\n        return n.name === name;\n      });\n\n      if (!node) {\n        throw \"Node with name \".concat(name, \" not found\");\n      }\n\n      return node;\n    }\n  }, {\n    key: \"getNodeByCallback\",\n    value: function getNodeByCallback(callback) {\n      var result = null;\n      this.iterate(function (node) {\n        if (result) {\n          return false;\n        } else if (callback(node)) {\n          result = node;\n          return false;\n        } else {\n          return true;\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"addAfter\",\n    value: function addAfter(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var _node2 = this.createNode(nodeInfo);\n\n        var childIndex = this.parent.getChildIndex(this);\n        this.parent.addChildAtPosition(_node2, childIndex + 1);\n\n        if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n          _node2.loadFromData(nodeInfo.children);\n        }\n\n        return _node2;\n      }\n    }\n  }, {\n    key: \"addBefore\",\n    value: function addBefore(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var _node3 = this.createNode(nodeInfo);\n\n        var childIndex = this.parent.getChildIndex(this);\n        this.parent.addChildAtPosition(_node3, childIndex);\n\n        if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n          _node3.loadFromData(nodeInfo.children);\n        }\n\n        return _node3;\n      }\n    }\n  }, {\n    key: \"addParent\",\n    value: function addParent(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var newParent = this.createNode(nodeInfo);\n\n        if (this.tree) {\n          newParent.setParent(this.tree);\n        }\n\n        var originalParent = this.parent;\n\n        var _iterator3 = _createForOfIteratorHelper(originalParent.children),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var child = _step3.value;\n            newParent.addChild(child);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        originalParent.children = [];\n        originalParent.addChild(newParent);\n        return newParent;\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n        this.parent = null;\n      }\n    }\n  }, {\n    key: \"append\",\n    value: function append(nodeInfo) {\n      var node = this.createNode(nodeInfo);\n      this.addChild(node);\n\n      if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n        node.loadFromData(nodeInfo.children);\n      }\n\n      return node;\n    }\n  }, {\n    key: \"prepend\",\n    value: function prepend(nodeInfo) {\n      var node = this.createNode(nodeInfo);\n      this.addChildAtPosition(node, 0);\n\n      if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n        node.loadFromData(nodeInfo.children);\n      }\n\n      return node;\n    }\n  }, {\n    key: \"isParentOf\",\n    value: function isParentOf(node) {\n      var parent = node.parent;\n\n      while (parent) {\n        if (parent === this) {\n          return true;\n        }\n\n        parent = parent.parent;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      var level = 0;\n      var node = this; // eslint-disable-line @typescript-eslint/no-this-alias\n\n      while (node.parent) {\n        level += 1;\n        node = node.parent;\n      }\n\n      return level;\n    }\n  }, {\n    key: \"getNodeById\",\n    value: function getNodeById(nodeId) {\n      return this.idMapping.get(nodeId) || null;\n    }\n  }, {\n    key: \"addNodeToIndex\",\n    value: function addNodeToIndex(node) {\n      if (node.id != null) {\n        this.idMapping.set(node.id, node);\n      }\n    }\n  }, {\n    key: \"removeNodeFromIndex\",\n    value: function removeNodeFromIndex(node) {\n      if (node.id != null) {\n        this.idMapping[\"delete\"](node.id);\n      }\n    }\n  }, {\n    key: \"removeChildren\",\n    value: function removeChildren() {\n      var _this = this;\n\n      this.iterate(function (child) {\n        var _this$tree;\n\n        (_this$tree = _this.tree) === null || _this$tree === void 0 ? void 0 : _this$tree.removeNodeFromIndex(child);\n        return true;\n      });\n      this.children = [];\n    }\n  }, {\n    key: \"getPreviousSibling\",\n    value: function getPreviousSibling() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousIndex = this.parent.getChildIndex(this) - 1;\n\n        if (previousIndex >= 0) {\n          return this.parent.children[previousIndex];\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"getNextSibling\",\n    value: function getNextSibling() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var nextIndex = this.parent.getChildIndex(this) + 1;\n\n        if (nextIndex < this.parent.children.length) {\n          return this.parent.children[nextIndex];\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"getNodesByProperty\",\n    value: function getNodesByProperty(key, value) {\n      return this.filter(function (node) {\n        return node[key] === value;\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(f) {\n      var result = [];\n      this.iterate(function (node) {\n        if (f(node)) {\n          result.push(node);\n        }\n\n        return true;\n      });\n      return result;\n    }\n  }, {\n    key: \"getNextNode\",\n    value: function getNextNode() {\n      var includeChildren = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (includeChildren && this.hasChildren() && this.is_open) {\n        // First child\n        return this.children[0];\n      } else {\n        if (!this.parent) {\n          return null;\n        } else {\n          var nextSibling = this.getNextSibling();\n\n          if (nextSibling) {\n            // Next sibling\n            return nextSibling;\n          } else {\n            // Next node of parent\n            return this.parent.getNextNode(false);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getPreviousNode\",\n    value: function getPreviousNode() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousSibling = this.getPreviousSibling();\n\n        if (previousSibling) {\n          if (!previousSibling.hasChildren() || !previousSibling.is_open) {\n            // Previous sibling\n            return previousSibling;\n          } else {\n            // Last child of previous sibling\n            return previousSibling.getLastChild();\n          }\n        } else {\n          return this.getParent();\n        }\n      }\n    }\n  }, {\n    key: \"getParent\",\n    value: function getParent() {\n      // Return parent except if it is the root node\n      if (!this.parent) {\n        return null;\n      } else if (!this.parent.parent) {\n        // Root node -> null\n        return null;\n      } else {\n        return this.parent;\n      }\n    }\n  }, {\n    key: \"getLastChild\",\n    value: function getLastChild() {\n      if (!this.hasChildren()) {\n        return null;\n      } else {\n        var lastChild = this.children[this.children.length - 1];\n\n        if (!(lastChild.hasChildren() && lastChild.is_open)) {\n          return lastChild;\n        } else {\n          return lastChild.getLastChild();\n        }\n      }\n    } // Init Node from data without making it the root of the tree\n\n  }, {\n    key: \"initFromData\",\n    value: function initFromData(data) {\n      var _this2 = this;\n\n      var addNode = function addNode(nodeData) {\n        _this2.setData(nodeData);\n\n        if (isNodeRecordWithChildren(nodeData) && nodeData.children.length) {\n          addChildren(nodeData.children);\n        }\n      };\n\n      var addChildren = function addChildren(childrenData) {\n        var _iterator4 = _createForOfIteratorHelper(childrenData),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var child = _step4.value;\n\n            var _node4 = _this2.createNode();\n\n            _node4.initFromData(child);\n\n            _this2.addChild(_node4);\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      };\n\n      addNode(data);\n    }\n  }, {\n    key: \"setParent\",\n    value: function setParent(parent) {\n      var _this$tree2;\n\n      this.parent = parent;\n      this.tree = parent.tree;\n      (_this$tree2 = this.tree) === null || _this$tree2 === void 0 ? void 0 : _this$tree2.addNodeToIndex(this);\n    }\n  }, {\n    key: \"doRemoveChild\",\n    value: function doRemoveChild(node) {\n      var _this$tree3;\n\n      this.children.splice(this.getChildIndex(node), 1);\n      (_this$tree3 = this.tree) === null || _this$tree3 === void 0 ? void 0 : _this$tree3.removeNodeFromIndex(node);\n    }\n  }, {\n    key: \"getNodeClass\",\n    value: function getNodeClass() {\n      var _this$tree4;\n\n      return this.nodeClass || (this === null || this === void 0 ? void 0 : (_this$tree4 = this.tree) === null || _this$tree4 === void 0 ? void 0 : _this$tree4.nodeClass) || Node;\n    }\n  }, {\n    key: \"createNode\",\n    value: function createNode(nodeData) {\n      var nodeClass = this.getNodeClass();\n      return new nodeClass(nodeData);\n    }\n  }]);\n\n  return Node;\n}();\n\nexports.Node = Node;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NodeElement = exports.FolderElement = exports.BorderDropHint = void 0;\n\nvar _node = require(\"./node\");\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } Object.defineProperty(subClass, \"prototype\", { value: Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }), writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NodeElement = /*#__PURE__*/function () {\n  function NodeElement(node, treeWidget) {\n    _classCallCheck(this, NodeElement);\n\n    _defineProperty(this, \"node\", void 0);\n\n    _defineProperty(this, \"$element\", void 0);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    this.init(node, treeWidget);\n  }\n\n  _createClass(NodeElement, [{\n    key: \"init\",\n    value: function init(node, treeWidget) {\n      this.node = node;\n      this.treeWidget = treeWidget;\n\n      if (!node.element) {\n        var element = this.treeWidget.element.get(0);\n\n        if (element) {\n          node.element = element;\n        }\n      }\n\n      if (node.element) {\n        this.$element = jQuery(node.element);\n      }\n    }\n  }, {\n    key: \"addDropHint\",\n    value: function addDropHint(position) {\n      if (this.mustShowBorderDropHint(position)) {\n        return new BorderDropHint(this.$element, this.treeWidget._getScrollLeft());\n      } else {\n        return new GhostDropHint(this.node, this.$element, position);\n      }\n    }\n  }, {\n    key: \"select\",\n    value: function select(mustSetFocus) {\n      var _this$treeWidget$opti;\n\n      var $li = this.getLi();\n      $li.addClass(\"jqtree-selected\");\n      $li.attr(\"aria-selected\", \"true\");\n      var $span = this.getSpan();\n      $span.attr(\"tabindex\", (_this$treeWidget$opti = this.treeWidget.options.tabIndex) !== null && _this$treeWidget$opti !== void 0 ? _this$treeWidget$opti : null);\n\n      if (mustSetFocus) {\n        $span.trigger(\"focus\");\n      }\n    }\n  }, {\n    key: \"deselect\",\n    value: function deselect() {\n      var $li = this.getLi();\n      $li.removeClass(\"jqtree-selected\");\n      $li.attr(\"aria-selected\", \"false\");\n      var $span = this.getSpan();\n      $span.removeAttr(\"tabindex\");\n      $span.blur();\n    }\n  }, {\n    key: \"getUl\",\n    value: function getUl() {\n      return this.$element.children(\"ul:first\");\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan() {\n      return this.$element.children(\".jqtree-element\").find(\"span.jqtree-title\");\n    }\n  }, {\n    key: \"getLi\",\n    value: function getLi() {\n      return this.$element;\n    }\n  }, {\n    key: \"mustShowBorderDropHint\",\n    value: function mustShowBorderDropHint(position) {\n      return position === _node.Position.Inside;\n    }\n  }]);\n\n  return NodeElement;\n}();\n\nexports.NodeElement = NodeElement;\n\nvar FolderElement = /*#__PURE__*/function (_NodeElement) {\n  _inherits(FolderElement, _NodeElement);\n\n  var _super = _createSuper(FolderElement);\n\n  function FolderElement() {\n    _classCallCheck(this, FolderElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FolderElement, [{\n    key: \"open\",\n    value: function open(onFinished) {\n      var _this = this;\n\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var animationSpeed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"fast\";\n\n      if (this.node.is_open) {\n        return;\n      }\n\n      this.node.is_open = true;\n      var $button = this.getButton();\n      $button.removeClass(\"jqtree-closed\");\n      $button.html(\"\");\n      var buttonEl = $button.get(0);\n\n      if (buttonEl) {\n        var icon = this.treeWidget.renderer.openedIconElement.cloneNode(true);\n        buttonEl.appendChild(icon);\n      }\n\n      var doOpen = function doOpen() {\n        var $li = _this.getLi();\n\n        $li.removeClass(\"jqtree-closed\");\n\n        var $span = _this.getSpan();\n\n        $span.attr(\"aria-expanded\", \"true\");\n\n        if (onFinished) {\n          onFinished(_this.node);\n        }\n\n        _this.treeWidget._triggerEvent(\"tree.open\", {\n          node: _this.node\n        });\n      };\n\n      if (slide) {\n        this.getUl().slideDown(animationSpeed, doOpen);\n      } else {\n        this.getUl().show();\n        doOpen();\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this2 = this;\n\n      var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var animationSpeed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"fast\";\n\n      if (!this.node.is_open) {\n        return;\n      }\n\n      this.node.is_open = false;\n      var $button = this.getButton();\n      $button.addClass(\"jqtree-closed\");\n      $button.html(\"\");\n      var buttonEl = $button.get(0);\n\n      if (buttonEl) {\n        var icon = this.treeWidget.renderer.closedIconElement.cloneNode(true);\n        buttonEl.appendChild(icon);\n      }\n\n      var doClose = function doClose() {\n        var $li = _this2.getLi();\n\n        $li.addClass(\"jqtree-closed\");\n\n        var $span = _this2.getSpan();\n\n        $span.attr(\"aria-expanded\", \"false\");\n\n        _this2.treeWidget._triggerEvent(\"tree.close\", {\n          node: _this2.node\n        });\n      };\n\n      if (slide) {\n        this.getUl().slideUp(animationSpeed, doClose);\n      } else {\n        this.getUl().hide();\n        doClose();\n      }\n    }\n  }, {\n    key: \"mustShowBorderDropHint\",\n    value: function mustShowBorderDropHint(position) {\n      return !this.node.is_open && position === _node.Position.Inside;\n    }\n  }, {\n    key: \"getButton\",\n    value: function getButton() {\n      return this.$element.children(\".jqtree-element\").find(\"a.jqtree-toggler\");\n    }\n  }]);\n\n  return FolderElement;\n}(NodeElement);\n\nexports.FolderElement = FolderElement;\n\nvar BorderDropHint = /*#__PURE__*/function () {\n  function BorderDropHint($element, scrollLeft) {\n    _classCallCheck(this, BorderDropHint);\n\n    _defineProperty(this, \"$hint\", void 0);\n\n    var $div = $element.children(\".jqtree-element\");\n    var elWidth = $element.width() || 0;\n    var width = Math.max(elWidth + scrollLeft - 4, 0);\n    var elHeight = $div.outerHeight() || 0;\n    var height = Math.max(elHeight - 4, 0);\n    this.$hint = jQuery('<span class=\"jqtree-border\"></span>');\n    $div.append(this.$hint);\n    this.$hint.css({\n      width: width,\n      height: height\n    });\n  }\n\n  _createClass(BorderDropHint, [{\n    key: \"remove\",\n    value: function remove() {\n      this.$hint.remove();\n    }\n  }]);\n\n  return BorderDropHint;\n}();\n\nexports.BorderDropHint = BorderDropHint;\n\nvar GhostDropHint = /*#__PURE__*/function () {\n  function GhostDropHint(node, $element, position) {\n    _classCallCheck(this, GhostDropHint);\n\n    _defineProperty(this, \"$element\", void 0);\n\n    _defineProperty(this, \"node\", void 0);\n\n    _defineProperty(this, \"$ghost\", void 0);\n\n    this.$element = $element;\n    this.node = node;\n    this.$ghost = jQuery(\"<li class=\\\"jqtree_common jqtree-ghost\\\"><span class=\\\"jqtree_common jqtree-circle\\\"></span>\\n            <span class=\\\"jqtree_common jqtree-line\\\"></span></li>\");\n\n    if (position === _node.Position.After) {\n      this.moveAfter();\n    } else if (position === _node.Position.Before) {\n      this.moveBefore();\n    } else if (position === _node.Position.Inside) {\n      if (node.isFolder() && node.is_open) {\n        this.moveInsideOpenFolder();\n      } else {\n        this.moveInside();\n      }\n    }\n  }\n\n  _createClass(GhostDropHint, [{\n    key: \"remove\",\n    value: function remove() {\n      this.$ghost.remove();\n    }\n  }, {\n    key: \"moveAfter\",\n    value: function moveAfter() {\n      this.$element.after(this.$ghost);\n    }\n  }, {\n    key: \"moveBefore\",\n    value: function moveBefore() {\n      this.$element.before(this.$ghost);\n    }\n  }, {\n    key: \"moveInsideOpenFolder\",\n    value: function moveInsideOpenFolder() {\n      var childElement = this.node.children[0].element;\n\n      if (childElement) {\n        jQuery(childElement).before(this.$ghost);\n      }\n    }\n  }, {\n    key: \"moveInside\",\n    value: function moveInside() {\n      this.$element.after(this.$ghost);\n      this.$ghost.addClass(\"jqtree-inside\");\n    }\n  }]);\n\n  return GhostDropHint;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _util = require(\"./util\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar SaveStateHandler = /*#__PURE__*/function () {\n  function SaveStateHandler(treeWidget) {\n    _classCallCheck(this, SaveStateHandler);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"_supportsLocalStorage\", void 0);\n\n    this.treeWidget = treeWidget;\n  }\n\n  _createClass(SaveStateHandler, [{\n    key: \"saveState\",\n    value: function saveState() {\n      var state = JSON.stringify(this.getState());\n\n      if (this.treeWidget.options.onSetStateFromStorage) {\n        this.treeWidget.options.onSetStateFromStorage(state);\n      } else if (this.supportsLocalStorage()) {\n        localStorage.setItem(this.getKeyName(), state);\n      }\n    }\n  }, {\n    key: \"getStateFromStorage\",\n    value: function getStateFromStorage() {\n      var jsonData = this.loadFromStorage();\n\n      if (jsonData) {\n        return this.parseState(jsonData);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      var _this = this;\n\n      var getOpenNodeIds = function getOpenNodeIds() {\n        var openNodes = [];\n\n        _this.treeWidget.tree.iterate(function (node) {\n          if (node.is_open && node.id && node.hasChildren()) {\n            openNodes.push(node.id);\n          }\n\n          return true;\n        });\n\n        return openNodes;\n      };\n\n      var getSelectedNodeIds = function getSelectedNodeIds() {\n        var selectedNodeIds = [];\n\n        _this.treeWidget.getSelectedNodes().forEach(function (node) {\n          if (node.id != null) {\n            selectedNodeIds.push(node.id);\n          }\n        });\n\n        return selectedNodeIds;\n      };\n\n      return {\n        open_nodes: getOpenNodeIds(),\n        selected_node: getSelectedNodeIds()\n      };\n    }\n    /*\n    Set initial state\n    Don't handle nodes that are loaded on demand\n     result: must load on demand\n    */\n\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState(state) {\n      if (!state) {\n        return false;\n      } else {\n        var mustLoadOnDemand = false;\n\n        if (state.open_nodes) {\n          mustLoadOnDemand = this.openInitialNodes(state.open_nodes);\n        }\n\n        if (state.selected_node) {\n          this.resetSelection();\n          this.selectInitialNodes(state.selected_node);\n        }\n\n        return mustLoadOnDemand;\n      }\n    }\n  }, {\n    key: \"setInitialStateOnDemand\",\n    value: function setInitialStateOnDemand(state, cbFinished) {\n      if (state) {\n        this.doSetInitialStateOnDemand(state.open_nodes, state.selected_node, cbFinished);\n      } else {\n        cbFinished();\n      }\n    }\n  }, {\n    key: \"getNodeIdToBeSelected\",\n    value: function getNodeIdToBeSelected() {\n      var state = this.getStateFromStorage();\n\n      if (state && state.selected_node) {\n        return state.selected_node[0];\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"parseState\",\n    value: function parseState(jsonData) {\n      var state = JSON.parse(jsonData); // Check if selected_node is an int (instead of an array)\n\n      if (state && state.selected_node && (0, _util.isInt)(state.selected_node)) {\n        // Convert to array\n        state.selected_node = [state.selected_node];\n      }\n\n      return state;\n    }\n  }, {\n    key: \"loadFromStorage\",\n    value: function loadFromStorage() {\n      if (this.treeWidget.options.onGetStateFromStorage) {\n        return this.treeWidget.options.onGetStateFromStorage();\n      } else if (this.supportsLocalStorage()) {\n        return localStorage.getItem(this.getKeyName());\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"openInitialNodes\",\n    value: function openInitialNodes(nodeIds) {\n      var mustLoadOnDemand = false;\n\n      var _iterator = _createForOfIteratorHelper(nodeIds),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var nodeId = _step.value;\n          var node = this.treeWidget.getNodeById(nodeId);\n\n          if (node) {\n            if (!node.load_on_demand) {\n              node.is_open = true;\n            } else {\n              mustLoadOnDemand = true;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return mustLoadOnDemand;\n    }\n  }, {\n    key: \"selectInitialNodes\",\n    value: function selectInitialNodes(nodeIds) {\n      var selectCount = 0;\n\n      var _iterator2 = _createForOfIteratorHelper(nodeIds),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var nodeId = _step2.value;\n          var node = this.treeWidget.getNodeById(nodeId);\n\n          if (node) {\n            selectCount += 1;\n            this.treeWidget.selectNodeHandler.addToSelection(node);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return selectCount !== 0;\n    }\n  }, {\n    key: \"resetSelection\",\n    value: function resetSelection() {\n      var selectNodeHandler = this.treeWidget.selectNodeHandler;\n      var selectedNodes = selectNodeHandler.getSelectedNodes();\n      selectedNodes.forEach(function (node) {\n        selectNodeHandler.removeFromSelection(node);\n      });\n    }\n  }, {\n    key: \"doSetInitialStateOnDemand\",\n    value: function doSetInitialStateOnDemand(nodeIdsParam, selectedNodes, cbFinished) {\n      var _this2 = this;\n\n      var loadingCount = 0;\n      var nodeIds = nodeIdsParam;\n\n      var openNodes = function openNodes() {\n        var newNodesIds = [];\n\n        var _iterator3 = _createForOfIteratorHelper(nodeIds),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var nodeId = _step3.value;\n\n            var node = _this2.treeWidget.getNodeById(nodeId);\n\n            if (!node) {\n              newNodesIds.push(nodeId);\n            } else {\n              if (!node.is_loading) {\n                if (node.load_on_demand) {\n                  loadAndOpenNode(node);\n                } else {\n                  _this2.treeWidget._openNode(node, false, null);\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        nodeIds = newNodesIds;\n\n        if (_this2.selectInitialNodes(selectedNodes)) {\n          _this2.treeWidget._refreshElements(null);\n        }\n\n        if (loadingCount === 0) {\n          cbFinished();\n        }\n      };\n\n      var loadAndOpenNode = function loadAndOpenNode(node) {\n        loadingCount += 1;\n\n        _this2.treeWidget._openNode(node, false, function () {\n          loadingCount -= 1;\n          openNodes();\n        });\n      };\n\n      openNodes();\n    }\n  }, {\n    key: \"getKeyName\",\n    value: function getKeyName() {\n      if (typeof this.treeWidget.options.saveState === \"string\") {\n        return this.treeWidget.options.saveState;\n      } else {\n        return \"tree\";\n      }\n    }\n  }, {\n    key: \"supportsLocalStorage\",\n    value: function supportsLocalStorage() {\n      var testSupport = function testSupport() {\n        // Is local storage supported?\n        if (localStorage == null) {\n          return false;\n        } else {\n          // Check if it's possible to store an item. Safari does not allow this in private browsing mode.\n          try {\n            var key = \"_storage_test\";\n            sessionStorage.setItem(key, \"value\");\n            sessionStorage.removeItem(key);\n          } catch (error) {\n            return false;\n          }\n\n          return true;\n        }\n      };\n\n      if (this._supportsLocalStorage == null) {\n        this._supportsLocalStorage = testSupport();\n      }\n\n      return this._supportsLocalStorage;\n    }\n  }]);\n\n  return SaveStateHandler;\n}();\n\nexports[\"default\"] = SaveStateHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ScrollHandler = /*#__PURE__*/function () {\n  function ScrollHandler(treeWidget) {\n    _classCallCheck(this, ScrollHandler);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"previousTop\", void 0);\n\n    _defineProperty(this, \"isInitialized\", void 0);\n\n    _defineProperty(this, \"$scrollParent\", void 0);\n\n    _defineProperty(this, \"scrollParentTop\", void 0);\n\n    this.treeWidget = treeWidget;\n    this.previousTop = -1;\n    this.isInitialized = false;\n  }\n\n  _createClass(ScrollHandler, [{\n    key: \"checkScrolling\",\n    value: function checkScrolling() {\n      this.ensureInit();\n      this.checkVerticalScrolling();\n      this.checkHorizontalScrolling();\n    }\n  }, {\n    key: \"scrollToY\",\n    value: function scrollToY(top) {\n      this.ensureInit();\n\n      if (this.$scrollParent) {\n        this.$scrollParent[0].scrollTop = top;\n      } else {\n        var offset = this.treeWidget.$el.offset();\n        var treeTop = offset ? offset.top : 0;\n        jQuery(document).scrollTop(top + treeTop);\n      }\n    }\n  }, {\n    key: \"isScrolledIntoView\",\n    value: function isScrolledIntoView($element) {\n      this.ensureInit();\n      var elementBottom;\n      var viewBottom;\n      var elementTop;\n      var viewTop;\n      var elHeight = $element.height() || 0;\n\n      if (this.$scrollParent) {\n        viewTop = 0;\n        viewBottom = this.$scrollParent.height() || 0;\n        var offset = $element.offset();\n        var originalTop = offset ? offset.top : 0;\n        elementTop = originalTop - this.scrollParentTop;\n        elementBottom = elementTop + elHeight;\n      } else {\n        viewTop = jQuery(window).scrollTop() || 0;\n        var windowHeight = jQuery(window).height() || 0;\n        viewBottom = viewTop + windowHeight;\n\n        var _offset = $element.offset();\n\n        elementTop = _offset ? _offset.top : 0;\n        elementBottom = elementTop + elHeight;\n      }\n\n      return elementBottom <= viewBottom && elementTop >= viewTop;\n    }\n  }, {\n    key: \"getScrollLeft\",\n    value: function getScrollLeft() {\n      if (!this.$scrollParent) {\n        return 0;\n      } else {\n        return this.$scrollParent.scrollLeft() || 0;\n      }\n    }\n  }, {\n    key: \"initScrollParent\",\n    value: function initScrollParent() {\n      var _this = this;\n\n      var getParentWithOverflow = function getParentWithOverflow() {\n        var cssAttributes = [\"overflow\", \"overflow-y\"];\n\n        var hasOverFlow = function hasOverFlow($el) {\n          var _iterator = _createForOfIteratorHelper(cssAttributes),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var attr = _step.value;\n              var overflowValue = $el.css(attr);\n\n              if (overflowValue === \"auto\" || overflowValue === \"scroll\") {\n                return true;\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n\n          return false;\n        };\n\n        if (hasOverFlow(_this.treeWidget.$el)) {\n          return _this.treeWidget.$el;\n        }\n\n        var _iterator2 = _createForOfIteratorHelper(_this.treeWidget.$el.parents().get()),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var el = _step2.value;\n            var $el = jQuery(el);\n\n            if (hasOverFlow($el)) {\n              return $el;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        return null;\n      };\n\n      var setDocumentAsScrollParent = function setDocumentAsScrollParent() {\n        _this.scrollParentTop = 0;\n        _this.$scrollParent = null;\n      };\n\n      if (this.treeWidget.$el.css(\"position\") === \"fixed\") {\n        setDocumentAsScrollParent();\n      }\n\n      var $scrollParent = getParentWithOverflow();\n\n      if ($scrollParent && $scrollParent.length && $scrollParent[0].tagName !== \"HTML\") {\n        this.$scrollParent = $scrollParent;\n        var offset = this.$scrollParent.offset();\n        this.scrollParentTop = offset ? offset.top : 0;\n      } else {\n        setDocumentAsScrollParent();\n      }\n\n      this.isInitialized = true;\n    }\n  }, {\n    key: \"ensureInit\",\n    value: function ensureInit() {\n      if (!this.isInitialized) {\n        this.initScrollParent();\n      }\n    }\n  }, {\n    key: \"handleVerticalScrollingWithScrollParent\",\n    value: function handleVerticalScrollingWithScrollParent(area) {\n      var scrollParent = this.$scrollParent && this.$scrollParent[0];\n\n      if (!scrollParent) {\n        return;\n      }\n\n      var distanceBottom = this.scrollParentTop + scrollParent.offsetHeight - area.bottom;\n\n      if (distanceBottom < 20) {\n        scrollParent.scrollTop += 20;\n        this.treeWidget.refreshHitAreas();\n        this.previousTop = -1;\n      } else if (area.top - this.scrollParentTop < 20) {\n        scrollParent.scrollTop -= 20;\n        this.treeWidget.refreshHitAreas();\n        this.previousTop = -1;\n      }\n    }\n  }, {\n    key: \"handleVerticalScrollingWithDocument\",\n    value: function handleVerticalScrollingWithDocument(area) {\n      var scrollTop = jQuery(document).scrollTop() || 0;\n      var distanceTop = area.top - scrollTop;\n\n      if (distanceTop < 20) {\n        jQuery(document).scrollTop(scrollTop - 20);\n      } else {\n        var windowHeight = jQuery(window).height() || 0;\n\n        if (windowHeight - (area.bottom - scrollTop) < 20) {\n          jQuery(document).scrollTop(scrollTop + 20);\n        }\n      }\n    }\n  }, {\n    key: \"checkVerticalScrolling\",\n    value: function checkVerticalScrolling() {\n      var hoveredArea = this.treeWidget.dndHandler.hoveredArea;\n\n      if (hoveredArea && hoveredArea.top !== this.previousTop) {\n        this.previousTop = hoveredArea.top;\n\n        if (this.$scrollParent) {\n          this.handleVerticalScrollingWithScrollParent(hoveredArea);\n        } else {\n          this.handleVerticalScrollingWithDocument(hoveredArea);\n        }\n      }\n    }\n  }, {\n    key: \"checkHorizontalScrolling\",\n    value: function checkHorizontalScrolling() {\n      var positionInfo = this.treeWidget.dndHandler.positionInfo;\n\n      if (!positionInfo) {\n        return;\n      }\n\n      if (this.$scrollParent) {\n        this.handleHorizontalScrollingWithParent(positionInfo);\n      } else {\n        this.handleHorizontalScrollingWithDocument(positionInfo);\n      }\n    }\n  }, {\n    key: \"handleHorizontalScrollingWithParent\",\n    value: function handleHorizontalScrollingWithParent(positionInfo) {\n      if (positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return;\n      }\n\n      var $scrollParent = this.$scrollParent;\n      var scrollParentOffset = $scrollParent && $scrollParent.offset();\n\n      if (!($scrollParent && scrollParentOffset)) {\n        return;\n      }\n\n      var scrollParent = $scrollParent[0];\n      var canScrollRight = scrollParent.scrollLeft + scrollParent.clientWidth < scrollParent.scrollWidth;\n      var canScrollLeft = scrollParent.scrollLeft > 0;\n      var rightEdge = scrollParentOffset.left + scrollParent.clientWidth;\n      var leftEdge = scrollParentOffset.left;\n      var isNearRightEdge = positionInfo.pageX > rightEdge - 20;\n      var isNearLeftEdge = positionInfo.pageX < leftEdge + 20;\n\n      if (isNearRightEdge && canScrollRight) {\n        scrollParent.scrollLeft = Math.min(scrollParent.scrollLeft + 20, scrollParent.scrollWidth);\n      } else if (isNearLeftEdge && canScrollLeft) {\n        scrollParent.scrollLeft = Math.max(scrollParent.scrollLeft - 20, 0);\n      }\n    }\n  }, {\n    key: \"handleHorizontalScrollingWithDocument\",\n    value: function handleHorizontalScrollingWithDocument(positionInfo) {\n      if (positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return;\n      }\n\n      var $document = jQuery(document);\n      var scrollLeft = $document.scrollLeft() || 0;\n      var windowWidth = jQuery(window).width() || 0;\n      var canScrollLeft = scrollLeft > 0;\n      var isNearRightEdge = positionInfo.pageX > windowWidth - 20;\n      var isNearLeftEdge = positionInfo.pageX - scrollLeft < 20;\n\n      if (isNearRightEdge) {\n        $document.scrollLeft(scrollLeft + 20);\n      } else if (isNearLeftEdge && canScrollLeft) {\n        $document.scrollLeft(Math.max(scrollLeft - 20, 0));\n      }\n    }\n  }]);\n\n  return ScrollHandler;\n}();\n\nexports[\"default\"] = ScrollHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar SelectNodeHandler = /*#__PURE__*/function () {\n  function SelectNodeHandler(treeWidget) {\n    _classCallCheck(this, SelectNodeHandler);\n\n    _defineProperty(this, \"treeWidget\", void 0);\n\n    _defineProperty(this, \"selectedNodes\", void 0);\n\n    _defineProperty(this, \"selectedSingleNode\", void 0);\n\n    this.treeWidget = treeWidget;\n    this.selectedNodes = new Set();\n    this.clear();\n  }\n\n  _createClass(SelectNodeHandler, [{\n    key: \"getSelectedNode\",\n    value: function getSelectedNode() {\n      var selectedNodes = this.getSelectedNodes();\n\n      if (selectedNodes.length) {\n        return selectedNodes[0];\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getSelectedNodes\",\n    value: function getSelectedNodes() {\n      var _this = this;\n\n      if (this.selectedSingleNode) {\n        return [this.selectedSingleNode];\n      } else {\n        var selectedNodes = [];\n        this.selectedNodes.forEach(function (id) {\n          var node = _this.treeWidget.getNodeById(id);\n\n          if (node) {\n            selectedNodes.push(node);\n          }\n        });\n        return selectedNodes;\n      }\n    }\n  }, {\n    key: \"getSelectedNodesUnder\",\n    value: function getSelectedNodesUnder(parent) {\n      if (this.selectedSingleNode) {\n        if (parent.isParentOf(this.selectedSingleNode)) {\n          return [this.selectedSingleNode];\n        } else {\n          return [];\n        }\n      } else {\n        var selectedNodes = [];\n\n        for (var id in this.selectedNodes) {\n          if (Object.prototype.hasOwnProperty.call(this.selectedNodes, id)) {\n            var node = this.treeWidget.getNodeById(id);\n\n            if (node && parent.isParentOf(node)) {\n              selectedNodes.push(node);\n            }\n          }\n        }\n\n        return selectedNodes;\n      }\n    }\n  }, {\n    key: \"isNodeSelected\",\n    value: function isNodeSelected(node) {\n      if (node.id != null) {\n        return this.selectedNodes.has(node.id);\n      } else if (this.selectedSingleNode) {\n        return this.selectedSingleNode.element === node.element;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.selectedNodes.clear();\n      this.selectedSingleNode = null;\n    }\n  }, {\n    key: \"removeFromSelection\",\n    value: function removeFromSelection(node) {\n      var _this2 = this;\n\n      var includeChildren = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (node.id == null) {\n        if (this.selectedSingleNode && node.element === this.selectedSingleNode.element) {\n          this.selectedSingleNode = null;\n        }\n      } else {\n        this.selectedNodes[\"delete\"](node.id);\n\n        if (includeChildren) {\n          node.iterate(function () {\n            if (node.id != null) {\n              _this2.selectedNodes[\"delete\"](node.id);\n            }\n\n            return true;\n          });\n        }\n      }\n    }\n  }, {\n    key: \"addToSelection\",\n    value: function addToSelection(node) {\n      if (node.id != null) {\n        this.selectedNodes.add(node.id);\n      } else {\n        this.selectedSingleNode = node;\n      }\n    }\n  }, {\n    key: \"isFocusOnTree\",\n    value: function isFocusOnTree() {\n      var activeElement = document.activeElement;\n      return Boolean(activeElement && activeElement.tagName === \"SPAN\" && this.treeWidget._containsElement(activeElement));\n    }\n  }]);\n\n  return SelectNodeHandler;\n}();\n\nexports[\"default\"] = SelectNodeHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar _register = function register(widgetClass, widgetName) {\n  var getDataKey = function getDataKey() {\n    return \"simple_widget_\".concat(widgetName);\n  };\n\n  var getWidgetData = function getWidgetData(el, dataKey) {\n    var widget = jQuery.data(el, dataKey);\n\n    if (widget && widget instanceof SimpleWidget) {\n      return widget;\n    } else {\n      return null;\n    }\n  };\n\n  var createWidget = function createWidget($el, options) {\n    var dataKey = getDataKey();\n\n    var _iterator = _createForOfIteratorHelper($el.get()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var el = _step.value;\n        var existingWidget = getWidgetData(el, dataKey);\n\n        if (!existingWidget) {\n          var simpleWidgetClass = widgetClass;\n          var widget = new simpleWidgetClass(el, options);\n\n          if (!jQuery.data(el, dataKey)) {\n            jQuery.data(el, dataKey, widget);\n          } // Call init after setting data, so we can call methods\n\n\n          widget.init();\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return $el;\n  };\n\n  var destroyWidget = function destroyWidget($el) {\n    var dataKey = getDataKey();\n\n    var _iterator2 = _createForOfIteratorHelper($el.get()),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var el = _step2.value;\n        var widget = getWidgetData(el, dataKey);\n\n        if (widget) {\n          widget.destroy();\n        }\n\n        jQuery.removeData(el, dataKey);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n\n  var callFunction = function callFunction($el, functionName, args) {\n    var result = null;\n\n    var _iterator3 = _createForOfIteratorHelper($el.get()),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var el = _step3.value;\n        var widget = jQuery.data(el, getDataKey());\n\n        if (widget && widget instanceof SimpleWidget) {\n          var simpleWidget = widget;\n          var widgetFunction = simpleWidget[functionName];\n\n          if (widgetFunction && typeof widgetFunction === \"function\") {\n            result = widgetFunction.apply(widget, args);\n          }\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    return result;\n  }; // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\n\n  jQuery.fn[widgetName] = function (argument1) {\n    if (!argument1) {\n      return createWidget(this, null);\n    } else if (_typeof(argument1) === \"object\") {\n      var options = argument1;\n      return createWidget(this, options);\n    } else if (typeof argument1 === \"string\" && argument1[0] !== \"_\") {\n      var functionName = argument1;\n\n      if (functionName === \"destroy\") {\n        return destroyWidget(this);\n      } else if (functionName === \"get_widget_class\") {\n        return widgetClass;\n      } else {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        return callFunction(this, functionName, args);\n      }\n    }\n  };\n};\n\nvar SimpleWidget = /*#__PURE__*/function () {\n  function SimpleWidget(el, options) {\n    _classCallCheck(this, SimpleWidget);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"$el\", void 0);\n\n    this.$el = jQuery(el); // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\n    var defaults = this.constructor[\"defaults\"];\n    this.options = _objectSpread(_objectSpread({}, defaults), options);\n  }\n\n  _createClass(SimpleWidget, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.deinit();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {//\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {//\n    }\n  }], [{\n    key: \"register\",\n    value: function register(widgetClass, widgetName) {\n      _register(widgetClass, widgetName);\n    }\n  }]);\n\n  return SimpleWidget;\n}();\n\nexports[\"default\"] = SimpleWidget;\n\n_defineProperty(SimpleWidget, \"defaults\", {});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JqTreeWidget = void 0;\n\nvar _version = _interopRequireDefault(require(\"./version\"));\n\nvar _dragAndDropHandler = require(\"./dragAndDropHandler\");\n\nvar _elementsRenderer = _interopRequireDefault(require(\"./elementsRenderer\"));\n\nvar _dataLoader = _interopRequireDefault(require(\"./dataLoader\"));\n\nvar _keyHandler = _interopRequireDefault(require(\"./keyHandler\"));\n\nvar _mouse = _interopRequireDefault(require(\"./mouse.widget\"));\n\nvar _saveStateHandler = _interopRequireDefault(require(\"./saveStateHandler\"));\n\nvar _scrollHandler = _interopRequireDefault(require(\"./scrollHandler\"));\n\nvar _selectNodeHandler = _interopRequireDefault(require(\"./selectNodeHandler\"));\n\nvar _simple = _interopRequireDefault(require(\"./simple.widget\"));\n\nvar _node6 = require(\"./node\");\n\nvar _util = require(\"./util\");\n\nvar _nodeElement = require(\"./nodeElement\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } Object.defineProperty(subClass, \"prototype\", { value: Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }), writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NODE_PARAM_IS_EMPTY = \"Node parameter is empty\";\nvar PARAM_IS_EMPTY = \"Parameter is empty: \";\n\nvar JqTreeWidget = /*#__PURE__*/function (_MouseWidget) {\n  _inherits(JqTreeWidget, _MouseWidget);\n\n  var _super = _createSuper(JqTreeWidget);\n\n  function JqTreeWidget() {\n    var _this;\n\n    _classCallCheck(this, JqTreeWidget);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"element\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"tree\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dndHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"renderer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"dataLoader\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"selectNodeHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"isInitialized\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"saveStateHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"keyHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      var clickTarget = _this.getClickTarget(e.target);\n\n      if (clickTarget) {\n        if (clickTarget.type === \"button\") {\n          _this.toggle(clickTarget.node, _this.options.slide);\n\n          e.preventDefault();\n          e.stopPropagation();\n        } else if (clickTarget.type === \"label\") {\n          var _node2 = clickTarget.node;\n\n          var event = _this._triggerEvent(\"tree.click\", {\n            node: _node2,\n            click_event: e\n          });\n\n          if (!event.isDefaultPrevented()) {\n            _this.doSelectNode(_node2);\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDblclick\", function (e) {\n      var clickTarget = _this.getClickTarget(e.target);\n\n      if ((clickTarget === null || clickTarget === void 0 ? void 0 : clickTarget.type) === \"label\") {\n        _this._triggerEvent(\"tree.dblclick\", {\n          node: clickTarget.node,\n          click_event: e\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleContextmenu\", function (e) {\n      var $div = jQuery(e.target).closest(\"ul.jqtree-tree .jqtree-element\");\n\n      if ($div.length) {\n        var _node3 = _this.getNode($div);\n\n        if (_node3) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          _this._triggerEvent(\"tree.contextmenu\", {\n            node: _node3,\n            click_event: e\n          });\n\n          return false;\n        }\n      }\n\n      return null;\n    });\n\n    return _this;\n  }\n\n  _createClass(JqTreeWidget, [{\n    key: \"toggle\",\n    value: function toggle(node) {\n      var slideParam = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var slide = slideParam !== null && slideParam !== void 0 ? slideParam : this.options.slide;\n\n      if (node.is_open) {\n        this.closeNode(node, slide);\n      } else {\n        this.openNode(node, slide);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"getTree\",\n    value: function getTree() {\n      return this.tree;\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(node, optionsParam) {\n      this.doSelectNode(node, optionsParam);\n      return this.element;\n    }\n  }, {\n    key: \"getSelectedNode\",\n    value: function getSelectedNode() {\n      return this.selectNodeHandler.getSelectedNode();\n    }\n  }, {\n    key: \"toJson\",\n    value: function toJson() {\n      return JSON.stringify(this.tree.getData());\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData(data, parentNode) {\n      this.doLoadData(data, parentNode);\n      return this.element;\n    }\n    /*\n    signatures:\n    - loadDataFromUrl(url, parent_node=null, on_finished=null)\n        loadDataFromUrl('/my_data');\n        loadDataFromUrl('/my_data', node1);\n        loadDataFromUrl('/my_data', node1, function() { console.log('finished'); });\n        loadDataFromUrl('/my_data', null, function() { console.log('finished'); });\n     - loadDataFromUrl(parent_node=null, on_finished=null)\n        loadDataFromUrl();\n        loadDataFromUrl(node1);\n        loadDataFromUrl(null, function() { console.log('finished'); });\n        loadDataFromUrl(node1, function() { console.log('finished'); });\n    */\n\n  }, {\n    key: \"loadDataFromUrl\",\n    value: function loadDataFromUrl(param1, param2, param3) {\n      if (typeof param1 === \"string\") {\n        // first parameter is url\n        this.doLoadDataFromUrl(param1, param2, param3 !== null && param3 !== void 0 ? param3 : null);\n      } else {\n        // first parameter is not url\n        this.doLoadDataFromUrl(null, param1, param2);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(onFinished) {\n      this.doLoadDataFromUrl(null, null, onFinished);\n      return this.element;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this._refreshElements(null);\n\n      return this.element;\n    }\n  }, {\n    key: \"getNodeById\",\n    value: function getNodeById(nodeId) {\n      return this.tree.getNodeById(nodeId);\n    }\n  }, {\n    key: \"getNodeByName\",\n    value: function getNodeByName(name) {\n      return this.tree.getNodeByName(name);\n    }\n  }, {\n    key: \"getNodeByNameMustExist\",\n    value: function getNodeByNameMustExist(name) {\n      return this.tree.getNodeByNameMustExist(name);\n    }\n  }, {\n    key: \"getNodesByProperty\",\n    value: function getNodesByProperty(key, value) {\n      return this.tree.getNodesByProperty(key, value);\n    }\n  }, {\n    key: \"getNodeByHtmlElement\",\n    value: function getNodeByHtmlElement(element) {\n      return this.getNode(jQuery(element));\n    }\n  }, {\n    key: \"getNodeByCallback\",\n    value: function getNodeByCallback(callback) {\n      return this.tree.getNodeByCallback(callback);\n    }\n  }, {\n    key: \"openNode\",\n    value: function openNode(node, param1, param2) {\n      var _this2 = this;\n\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var parseParams = function parseParams() {\n        var onFinished;\n        var slide;\n\n        if ((0, _util.isFunction)(param1)) {\n          onFinished = param1;\n          slide = null;\n        } else {\n          slide = param1;\n          onFinished = param2;\n        }\n\n        if (slide == null) {\n          var _this2$options$slide;\n\n          slide = (_this2$options$slide = _this2.options.slide) !== null && _this2$options$slide !== void 0 ? _this2$options$slide : false;\n        }\n\n        return [slide, onFinished];\n      };\n\n      var _parseParams = parseParams(),\n          _parseParams2 = _slicedToArray(_parseParams, 2),\n          slide = _parseParams2[0],\n          onFinished = _parseParams2[1];\n\n      this._openNode(node, slide, onFinished);\n\n      return this.element;\n    }\n  }, {\n    key: \"closeNode\",\n    value: function closeNode(node, slideParam) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var slide = slideParam !== null && slideParam !== void 0 ? slideParam : this.options.slide;\n\n      if (node.isFolder() || node.isEmptyFolder) {\n        new _nodeElement.FolderElement(node, this).close(slide, this.options.animationSpeed);\n        this.saveState();\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this.dndHandler.isDragging;\n    }\n  }, {\n    key: \"refreshHitAreas\",\n    value: function refreshHitAreas() {\n      this.dndHandler.refresh();\n      return this.element;\n    }\n  }, {\n    key: \"addNodeAfter\",\n    value: function addNodeAfter(newNodeInfo, existingNode) {\n      var newNode = existingNode.addAfter(newNodeInfo);\n\n      if (newNode) {\n        this._refreshElements(existingNode.parent);\n      }\n\n      return newNode;\n    }\n  }, {\n    key: \"addNodeBefore\",\n    value: function addNodeBefore(newNodeInfo, existingNode) {\n      if (!existingNode) {\n        throw Error(PARAM_IS_EMPTY + \"existingNode\");\n      }\n\n      var newNode = existingNode.addBefore(newNodeInfo);\n\n      if (newNode) {\n        this._refreshElements(existingNode.parent);\n      }\n\n      return newNode;\n    }\n  }, {\n    key: \"addParentNode\",\n    value: function addParentNode(newNodeInfo, existingNode) {\n      if (!existingNode) {\n        throw Error(PARAM_IS_EMPTY + \"existingNode\");\n      }\n\n      var newNode = existingNode.addParent(newNodeInfo);\n\n      if (newNode) {\n        this._refreshElements(newNode.parent);\n      }\n\n      return newNode;\n    }\n  }, {\n    key: \"removeNode\",\n    value: function removeNode(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      if (!node.parent) {\n        throw Error(\"Node has no parent\");\n      }\n\n      this.selectNodeHandler.removeFromSelection(node, true); // including children\n\n      var parent = node.parent;\n      node.remove();\n\n      this._refreshElements(parent);\n\n      return this.element;\n    }\n  }, {\n    key: \"appendNode\",\n    value: function appendNode(newNodeInfo, parentNodeParam) {\n      var parentNode = parentNodeParam || this.tree;\n      var node = parentNode.append(newNodeInfo);\n\n      this._refreshElements(parentNode);\n\n      return node;\n    }\n  }, {\n    key: \"prependNode\",\n    value: function prependNode(newNodeInfo, parentNodeParam) {\n      var parentNode = parentNodeParam !== null && parentNodeParam !== void 0 ? parentNodeParam : this.tree;\n      var node = parentNode.prepend(newNodeInfo);\n\n      this._refreshElements(parentNode);\n\n      return node;\n    }\n  }, {\n    key: \"updateNode\",\n    value: function updateNode(node, data) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var idIsChanged = _typeof(data) === \"object\" && data.id && data.id !== node.id;\n\n      if (idIsChanged) {\n        this.tree.removeNodeFromIndex(node);\n      }\n\n      node.setData(data);\n\n      if (idIsChanged) {\n        this.tree.addNodeToIndex(node);\n      }\n\n      if (_typeof(data) === \"object\" && data[\"children\"] && data[\"children\"] instanceof Array) {\n        node.removeChildren();\n\n        if (data.children.length) {\n          node.loadFromData(data.children);\n        }\n      }\n\n      this._refreshElements(node);\n\n      return this.element;\n    }\n  }, {\n    key: \"isSelectedNodeInSubtree\",\n    value: function isSelectedNodeInSubtree(subtree) {\n      var selectedNode = this.getSelectedNode();\n\n      if (!selectedNode) {\n        return false;\n      } else {\n        return subtree === selectedNode || subtree.isParentOf(selectedNode);\n      }\n    }\n  }, {\n    key: \"moveNode\",\n    value: function moveNode(node, targetNode, position) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      if (!targetNode) {\n        throw Error(PARAM_IS_EMPTY + \"targetNode\");\n      }\n\n      var positionIndex = (0, _node6.getPosition)(position);\n\n      if (positionIndex !== undefined) {\n        this.tree.moveNode(node, targetNode, positionIndex);\n\n        this._refreshElements(null);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"getStateFromStorage\",\n    value: function getStateFromStorage() {\n      return this.saveStateHandler.getStateFromStorage();\n    }\n  }, {\n    key: \"addToSelection\",\n    value: function addToSelection(node, mustSetFocus) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      this.selectNodeHandler.addToSelection(node);\n\n      this._getNodeElementForNode(node).select(mustSetFocus === undefined ? true : mustSetFocus);\n\n      this.saveState();\n      return this.element;\n    }\n  }, {\n    key: \"getSelectedNodes\",\n    value: function getSelectedNodes() {\n      return this.selectNodeHandler.getSelectedNodes();\n    }\n  }, {\n    key: \"isNodeSelected\",\n    value: function isNodeSelected(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      return this.selectNodeHandler.isNodeSelected(node);\n    }\n  }, {\n    key: \"removeFromSelection\",\n    value: function removeFromSelection(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      this.selectNodeHandler.removeFromSelection(node);\n\n      this._getNodeElementForNode(node).deselect();\n\n      this.saveState();\n      return this.element;\n    }\n  }, {\n    key: \"scrollToNode\",\n    value: function scrollToNode(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n\n      var nodeOffset = jQuery(node.element).offset();\n      var nodeTop = nodeOffset ? nodeOffset.top : 0;\n      var treeOffset = this.$el.offset();\n      var treeTop = treeOffset ? treeOffset.top : 0;\n      var top = nodeTop - treeTop;\n      this.scrollHandler.scrollToY(top);\n      return this.element;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.saveStateHandler.getState();\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(state) {\n      this.saveStateHandler.setInitialState(state);\n\n      this._refreshElements(null);\n\n      return this.element;\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption(option, value) {\n      this.options[option] = value;\n      return this.element;\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      var selectedNode = this.getSelectedNode();\n\n      if (selectedNode) {\n        this.keyHandler.moveDown(selectedNode);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      var selectedNode = this.getSelectedNode();\n\n      if (selectedNode) {\n        this.keyHandler.moveUp(selectedNode);\n      }\n\n      return this.element;\n    }\n  }, {\n    key: \"getVersion\",\n    value: function getVersion() {\n      return _version[\"default\"];\n    }\n  }, {\n    key: \"_triggerEvent\",\n    value: function _triggerEvent(eventName, values) {\n      var event = jQuery.Event(eventName, values);\n      this.element.trigger(event);\n      return event;\n    }\n  }, {\n    key: \"_openNode\",\n    value: function _openNode(node) {\n      var _this3 = this;\n\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onFinished = arguments.length > 2 ? arguments[2] : undefined;\n\n      var doOpenNode = function doOpenNode(_node, _slide, _onFinished) {\n        var folderElement = new _nodeElement.FolderElement(_node, _this3);\n        folderElement.open(_onFinished, _slide, _this3.options.animationSpeed);\n      };\n\n      if (node.isFolder() || node.isEmptyFolder) {\n        if (node.load_on_demand) {\n          this.loadFolderOnDemand(node, slide, onFinished);\n        } else {\n          var parent = node.parent;\n\n          while (parent) {\n            // nb: do not open root element\n            if (parent.parent) {\n              doOpenNode(parent, false, null);\n            }\n\n            parent = parent.parent;\n          }\n\n          doOpenNode(node, slide, onFinished);\n          this.saveState();\n        }\n      }\n    }\n    /*\n    Redraw the tree or part of the tree.\n     from_node: redraw this subtree\n    */\n\n  }, {\n    key: \"_refreshElements\",\n    value: function _refreshElements(fromNode) {\n      var mustSetFocus = this.selectNodeHandler.isFocusOnTree();\n      var mustSelect = fromNode ? this.isSelectedNodeInSubtree(fromNode) : false;\n      this.renderer.render(fromNode);\n\n      if (mustSelect) {\n        this.selectCurrentNode(mustSetFocus);\n      }\n\n      this._triggerEvent(\"tree.refresh\");\n    }\n  }, {\n    key: \"_getNodeElementForNode\",\n    value: function _getNodeElementForNode(node) {\n      if (node.isFolder()) {\n        return new _nodeElement.FolderElement(node, this);\n      } else {\n        return new _nodeElement.NodeElement(node, this);\n      }\n    }\n  }, {\n    key: \"_getNodeElement\",\n    value: function _getNodeElement($element) {\n      var node = this.getNode($element);\n\n      if (node) {\n        return this._getNodeElementForNode(node);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"_containsElement\",\n    value: function _containsElement(element) {\n      var node = this.getNode(jQuery(element));\n      return node != null && node.tree === this.tree;\n    }\n  }, {\n    key: \"_getScrollLeft\",\n    value: function _getScrollLeft() {\n      return this.scrollHandler.getScrollLeft();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      _get(_getPrototypeOf(JqTreeWidget.prototype), \"init\", this).call(this);\n\n      this.element = this.$el;\n      this.isInitialized = false;\n      this.options.rtl = this.getRtlOption();\n\n      if (this.options.closedIcon == null) {\n        this.options.closedIcon = this.getDefaultClosedIcon();\n      }\n\n      this.renderer = new _elementsRenderer[\"default\"](this);\n      this.dataLoader = new _dataLoader[\"default\"](this);\n      this.saveStateHandler = new _saveStateHandler[\"default\"](this);\n      this.selectNodeHandler = new _selectNodeHandler[\"default\"](this);\n      this.dndHandler = new _dragAndDropHandler.DragAndDropHandler(this);\n      this.scrollHandler = new _scrollHandler[\"default\"](this);\n      this.keyHandler = new _keyHandler[\"default\"](this);\n      this.initData();\n      this.element.on(\"click\", this.handleClick);\n      this.element.on(\"dblclick\", this.handleDblclick);\n\n      if (this.options.useContextMenu) {\n        this.element.on(\"contextmenu\", this.handleContextmenu);\n      }\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      this.element.empty();\n      this.element.off();\n      this.keyHandler.deinit();\n      this.tree = new _node6.Node({}, true);\n\n      _get(_getPrototypeOf(JqTreeWidget.prototype), \"deinit\", this).call(this);\n    }\n  }, {\n    key: \"mouseCapture\",\n    value: function mouseCapture(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseCapture(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseStart\",\n    value: function mouseStart(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseStart(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseDrag\",\n    value: function mouseDrag(positionInfo) {\n      if (this.options.dragAndDrop) {\n        var result = this.dndHandler.mouseDrag(positionInfo);\n        this.scrollHandler.checkScrolling();\n        return result;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseStop\",\n    value: function mouseStop(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseStop(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getMouseDelay\",\n    value: function getMouseDelay() {\n      var _this$options$startDn;\n\n      return (_this$options$startDn = this.options.startDndDelay) !== null && _this$options$startDn !== void 0 ? _this$options$startDn : 0;\n    }\n  }, {\n    key: \"initData\",\n    value: function initData() {\n      if (this.options.data) {\n        this.doLoadData(this.options.data, null);\n      } else {\n        var dataUrl = this.getDataUrlInfo(null);\n\n        if (dataUrl) {\n          this.doLoadDataFromUrl(null, null, null);\n        } else {\n          this.doLoadData([], null);\n        }\n      }\n    }\n  }, {\n    key: \"getDataUrlInfo\",\n    value: function getDataUrlInfo(node) {\n      var _this4 = this;\n\n      var dataUrl = this.options.dataUrl || this.element.data(\"url\");\n\n      var getUrlFromString = function getUrlFromString(url) {\n        var urlInfo = {\n          url: url\n        };\n        setUrlInfoData(urlInfo);\n        return urlInfo;\n      };\n\n      var setUrlInfoData = function setUrlInfoData(urlInfo) {\n        if (node !== null && node !== void 0 && node.id) {\n          // Load on demand of a subtree; add node parameter\n          var data = {\n            node: node.id\n          };\n          urlInfo[\"data\"] = data;\n        } else {\n          // Add selected_node parameter\n          var selectedNodeId = _this4.getNodeIdToBeSelected();\n\n          if (selectedNodeId) {\n            var _data = {\n              selected_node: selectedNodeId\n            };\n            urlInfo[\"data\"] = _data;\n          }\n        }\n      };\n\n      if (typeof dataUrl === \"function\") {\n        return dataUrl(node);\n      } else if (typeof dataUrl === \"string\") {\n        return getUrlFromString(dataUrl);\n      } else if (dataUrl && _typeof(dataUrl) === \"object\") {\n        setUrlInfoData(dataUrl);\n        return dataUrl;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getNodeIdToBeSelected\",\n    value: function getNodeIdToBeSelected() {\n      if (this.options.saveState) {\n        return this.saveStateHandler.getNodeIdToBeSelected();\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"initTree\",\n    value: function initTree(data) {\n      var _this5 = this;\n\n      var doInit = function doInit() {\n        if (!_this5.isInitialized) {\n          _this5.isInitialized = true;\n\n          _this5._triggerEvent(\"tree.init\");\n        }\n      };\n\n      if (!this.options.nodeClass) {\n        return;\n      }\n\n      this.tree = new this.options.nodeClass(null, true, this.options.nodeClass);\n      this.selectNodeHandler.clear();\n      this.tree.loadFromData(data);\n      var mustLoadOnDemand = this.setInitialState();\n\n      this._refreshElements(null);\n\n      if (!mustLoadOnDemand) {\n        doInit();\n      } else {\n        // Load data on demand and then init the tree\n        this.setInitialStateOnDemand(doInit);\n      }\n    } // Set initial state, either by restoring the state or auto-opening nodes\n    // result: must load nodes on demand?\n\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState() {\n      var _this6 = this;\n\n      var restoreState = function restoreState() {\n        // result: is state restored, must load on demand?\n        if (!_this6.options.saveState) {\n          return [false, false];\n        } else {\n          var state = _this6.saveStateHandler.getStateFromStorage();\n\n          if (!state) {\n            return [false, false];\n          } else {\n            var _mustLoadOnDemand = _this6.saveStateHandler.setInitialState(state); // return true: the state is restored\n\n\n            return [true, _mustLoadOnDemand];\n          }\n        }\n      };\n\n      var autoOpenNodes = function autoOpenNodes() {\n        // result: must load on demand?\n        if (_this6.options.autoOpen === false) {\n          return false;\n        }\n\n        var maxLevel = _this6.getAutoOpenMaxLevel();\n\n        var mustLoadOnDemand = false;\n\n        _this6.tree.iterate(function (node, level) {\n          if (node.load_on_demand) {\n            mustLoadOnDemand = true;\n            return false;\n          } else if (!node.hasChildren()) {\n            return false;\n          } else {\n            node.is_open = true;\n            return level !== maxLevel;\n          }\n        });\n\n        return mustLoadOnDemand;\n      };\n\n      var _restoreState = restoreState(),\n          _restoreState2 = _slicedToArray(_restoreState, 2),\n          isRestored = _restoreState2[0],\n          mustLoadOnDemand = _restoreState2[1]; // eslint-disable-line prefer-const\n\n\n      if (!isRestored) {\n        mustLoadOnDemand = autoOpenNodes();\n      }\n\n      return mustLoadOnDemand;\n    } // Set the initial state for nodes that are loaded on demand\n    // Call cb_finished when done\n\n  }, {\n    key: \"setInitialStateOnDemand\",\n    value: function setInitialStateOnDemand(cbFinished) {\n      var _this7 = this;\n\n      var restoreState = function restoreState() {\n        if (!_this7.options.saveState) {\n          return false;\n        } else {\n          var state = _this7.saveStateHandler.getStateFromStorage();\n\n          if (!state) {\n            return false;\n          } else {\n            _this7.saveStateHandler.setInitialStateOnDemand(state, cbFinished);\n\n            return true;\n          }\n        }\n      };\n\n      var autoOpenNodes = function autoOpenNodes() {\n        var maxLevel = _this7.getAutoOpenMaxLevel();\n\n        var loadingCount = 0;\n\n        var loadAndOpenNode = function loadAndOpenNode(node) {\n          loadingCount += 1;\n\n          _this7._openNode(node, false, function () {\n            loadingCount -= 1;\n            openNodes();\n          });\n        };\n\n        var openNodes = function openNodes() {\n          _this7.tree.iterate(function (node, level) {\n            if (node.load_on_demand) {\n              if (!node.is_loading) {\n                loadAndOpenNode(node);\n              }\n\n              return false;\n            } else {\n              _this7._openNode(node, false, null);\n\n              return level !== maxLevel;\n            }\n          });\n\n          if (loadingCount === 0) {\n            cbFinished();\n          }\n        };\n\n        openNodes();\n      };\n\n      if (!restoreState()) {\n        autoOpenNodes();\n      }\n    }\n  }, {\n    key: \"getAutoOpenMaxLevel\",\n    value: function getAutoOpenMaxLevel() {\n      if (this.options.autoOpen === true) {\n        return -1;\n      } else if (typeof this.options.autoOpen === \"number\") {\n        return this.options.autoOpen;\n      } else if (typeof this.options.autoOpen === \"string\") {\n        return parseInt(this.options.autoOpen, 10);\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"getClickTarget\",\n    value: function getClickTarget(element) {\n      var $target = jQuery(element);\n      var $button = $target.closest(\".jqtree-toggler\");\n\n      if ($button.length) {\n        var _node4 = this.getNode($button);\n\n        if (_node4) {\n          return {\n            type: \"button\",\n            node: _node4\n          };\n        }\n      } else {\n        var $el = $target.closest(\".jqtree-element\");\n\n        if ($el.length) {\n          var _node5 = this.getNode($el);\n\n          if (_node5) {\n            return {\n              type: \"label\",\n              node: _node5\n            };\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode($element) {\n      var $li = $element.closest(\"li.jqtree_common\");\n\n      if ($li.length === 0) {\n        return null;\n      } else {\n        return $li.data(\"node\");\n      }\n    }\n  }, {\n    key: \"saveState\",\n    value: function saveState() {\n      if (this.options.saveState) {\n        this.saveStateHandler.saveState();\n      }\n    }\n  }, {\n    key: \"selectCurrentNode\",\n    value: function selectCurrentNode(mustSetFocus) {\n      var node = this.getSelectedNode();\n\n      if (node) {\n        var nodeElement = this._getNodeElementForNode(node);\n\n        if (nodeElement) {\n          nodeElement.select(mustSetFocus);\n        }\n      }\n    }\n  }, {\n    key: \"deselectCurrentNode\",\n    value: function deselectCurrentNode() {\n      var node = this.getSelectedNode();\n\n      if (node) {\n        this.removeFromSelection(node);\n      }\n    }\n  }, {\n    key: \"getDefaultClosedIcon\",\n    value: function getDefaultClosedIcon() {\n      if (this.options.rtl) {\n        // triangle to the left\n        return \"&#x25c0;\";\n      } else {\n        // triangle to the right\n        return \"&#x25ba;\";\n      }\n    }\n  }, {\n    key: \"getRtlOption\",\n    value: function getRtlOption() {\n      if (this.options.rtl != null) {\n        return this.options.rtl;\n      } else {\n        var dataRtl = this.element.data(\"rtl\");\n\n        if (dataRtl !== null && dataRtl !== false && dataRtl !== undefined) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"doSelectNode\",\n    value: function doSelectNode(node, optionsParam) {\n      var _this8 = this;\n\n      var saveState = function saveState() {\n        if (_this8.options.saveState) {\n          _this8.saveStateHandler.saveState();\n        }\n      };\n\n      if (!node) {\n        // Called with empty node -> deselect current node\n        this.deselectCurrentNode();\n        saveState();\n        return;\n      }\n\n      var defaultOptions = {\n        mustSetFocus: true,\n        mustToggle: true\n      };\n\n      var selectOptions = _objectSpread(_objectSpread({}, defaultOptions), optionsParam || {});\n\n      var canSelect = function canSelect() {\n        if (_this8.options.onCanSelectNode) {\n          return _this8.options.selectable === true && _this8.options.onCanSelectNode(node);\n        } else {\n          return _this8.options.selectable === true;\n        }\n      };\n\n      var openParents = function openParents() {\n        var parent = node.parent;\n\n        if (parent && parent.parent && !parent.is_open) {\n          _this8.openNode(parent, false);\n        }\n      };\n\n      if (!canSelect()) {\n        return;\n      }\n\n      if (this.selectNodeHandler.isNodeSelected(node)) {\n        if (selectOptions.mustToggle) {\n          this.deselectCurrentNode();\n\n          this._triggerEvent(\"tree.select\", {\n            node: null,\n            previous_node: node\n          });\n        }\n      } else {\n        var deselectedNode = this.getSelectedNode() || null;\n        this.deselectCurrentNode();\n        this.addToSelection(node, selectOptions.mustSetFocus);\n\n        this._triggerEvent(\"tree.select\", {\n          node: node,\n          deselected_node: deselectedNode\n        });\n\n        openParents();\n      }\n\n      saveState();\n    }\n  }, {\n    key: \"doLoadData\",\n    value: function doLoadData(data, parentNode) {\n      if (!data) {\n        return;\n      } else {\n        this._triggerEvent(\"tree.load_data\", {\n          tree_data: data\n        });\n\n        if (parentNode) {\n          this.deselectNodes(parentNode);\n          this.loadSubtree(data, parentNode);\n        } else {\n          this.initTree(data);\n        }\n\n        if (this.isDragging()) {\n          this.dndHandler.refresh();\n        }\n      }\n    }\n  }, {\n    key: \"deselectNodes\",\n    value: function deselectNodes(parentNode) {\n      var selectedNodesUnderParent = this.selectNodeHandler.getSelectedNodesUnder(parentNode);\n\n      var _iterator = _createForOfIteratorHelper(selectedNodesUnderParent),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var n = _step.value;\n          this.selectNodeHandler.removeFromSelection(n);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"loadSubtree\",\n    value: function loadSubtree(data, parentNode) {\n      parentNode.loadFromData(data);\n      parentNode.load_on_demand = false;\n      parentNode.is_loading = false;\n\n      this._refreshElements(parentNode);\n    }\n  }, {\n    key: \"doLoadDataFromUrl\",\n    value: function doLoadDataFromUrl(urlInfoParam, parentNode, onFinished) {\n      var urlInfo = urlInfoParam || this.getDataUrlInfo(parentNode);\n      this.dataLoader.loadFromUrl(urlInfo, parentNode, onFinished);\n    }\n  }, {\n    key: \"loadFolderOnDemand\",\n    value: function loadFolderOnDemand(node) {\n      var _this9 = this;\n\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onFinished = arguments.length > 2 ? arguments[2] : undefined;\n      node.is_loading = true;\n      this.doLoadDataFromUrl(null, node, function () {\n        _this9._openNode(node, slide, onFinished);\n      });\n    }\n  }]);\n\n  return JqTreeWidget;\n}(_mouse[\"default\"]);\n\nexports.JqTreeWidget = JqTreeWidget;\n\n_defineProperty(JqTreeWidget, \"defaults\", {\n  animationSpeed: \"fast\",\n  autoEscape: true,\n  autoOpen: false,\n  // true / false / int (open n levels starting at 0)\n  buttonLeft: true,\n  // The symbol to use for a closed node -  BLACK RIGHT-POINTING POINTER\n  // http://www.fileformat.info/info/unicode/char/25ba/index.htm\n  closedIcon: undefined,\n  data: undefined,\n  dataFilter: undefined,\n  dataUrl: undefined,\n  dragAndDrop: false,\n  keyboardSupport: true,\n  nodeClass: _node6.Node,\n  onCanMove: undefined,\n  // Can this node be moved?\n  onCanMoveTo: undefined,\n  // Can this node be moved to this position? function(moved_node, target_node, position)\n  onCanSelectNode: undefined,\n  onCreateLi: undefined,\n  onDragMove: undefined,\n  onDragStop: undefined,\n  onGetStateFromStorage: undefined,\n  onIsMoveHandle: undefined,\n  onLoadFailed: undefined,\n  onLoading: undefined,\n  onSetStateFromStorage: undefined,\n  openedIcon: \"&#x25bc;\",\n  openFolderDelay: 500,\n  // The delay for opening a folder during drag and drop; the value is in milliseconds\n  // The symbol to use for an open node -  BLACK DOWN-POINTING TRIANGLE\n  // http://www.fileformat.info/info/unicode/char/25bc/index.htm\n  rtl: undefined,\n  // right-to-left support; true / false (default)\n  saveState: false,\n  // true / false / string (cookie name)\n  selectable: true,\n  showEmptyFolder: false,\n  slide: true,\n  // must display slide animation?\n  startDndDelay: 300,\n  // The delay for starting dnd (in milliseconds)\n  tabIndex: 0,\n  useContextMenu: true\n});\n\n_simple[\"default\"].register(JqTreeWidget, \"tree\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isInt = exports.isFunction = exports.getBoolString = void 0;\n\nvar isInt = function isInt(n) {\n  return typeof n === \"number\" && n % 1 === 0;\n};\n\nexports.isInt = isInt;\n\nvar isFunction = function isFunction(v) {\n  return typeof v === \"function\";\n};\n\nexports.isFunction = isFunction;\n\nvar getBoolString = function getBoolString(value) {\n  return value ? \"true\" : \"false\";\n};\n\nexports.getBoolString = getBoolString;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar version = \"1.6.2\";\nvar _default = version;\nexports[\"default\"] = _default;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","import \"jqtree\";\nimport { Spinner } from \"spin.js\";\nimport * as cookie from \"cookie\";\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\ninterface JQTreeMoveEvent extends JQuery.Event {\n    move_info: {\n        moved_node: INode;\n        position: string;\n        target_node: INode;\n        do_move: () => void;\n    };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\ninterface JQTreeSelectEvent extends JQuery.Event {\n    deselected_node: INode | null;\n    node: INode;\n}\n\ninterface Parameters {\n    animationSpeed: number | string | null;\n    autoOpen: boolean | number;\n    autoEscape: boolean;\n    csrfCookieName: string;\n    dragAndDrop: boolean;\n    mouseDelay: number | null;\n    rtl: boolean;\n}\n\nfunction initTree(\n    $tree: JQuery,\n    {\n        animationSpeed,\n        autoOpen,\n        autoEscape,\n        csrfCookieName,\n        dragAndDrop,\n        mouseDelay,\n        rtl,\n    }: Parameters\n) {\n    let errorNode: INode | null = null;\n    const baseUrl = \"http://example.com\";\n    const insertAtUrl = new URL($tree.data(\"insert_at_url\") as string, baseUrl);\n\n    function createLi(node: INode, $li: JQuery, isSelected: boolean) {\n        // Create edit link\n        const $title = $li.find(\".jqtree-title\");\n\n        insertAtUrl.searchParams.set(\n            \"insert_at\",\n            `${node.id as string | number}`\n        );\n\n        const insertUrlString = insertAtUrl\n            .toString()\n            .substring(baseUrl.length);\n\n        const tabindex = isSelected ? \"0\" : \"-1\";\n\n        $title.after(\n            `<a href=\"${\n                node.url as string\n            }\" class=\"edit\" tabindex=\"${tabindex}\">(${gettext(\"edit\")})</a>`,\n            `<a href=\"${insertUrlString}\" class=\"edit\" tabindex=\"${tabindex}\">(${gettext(\n                \"add\"\n            )})</a>`\n        );\n    }\n\n    function getCsrfToken() {\n        function getFromMiddleware() {\n            return (\n                document.querySelector(\n                    '[name=\"csrfmiddlewaretoken\"]'\n                ) as HTMLInputElement\n            ).value;\n        }\n\n        function getFromCookie() {\n            if (!csrfCookieName) {\n                return null;\n            } else {\n                return cookie.parse(document.cookie)[csrfCookieName];\n            }\n        }\n\n        return getFromCookie() || getFromMiddleware();\n    }\n\n    function handleMove(eventParam: JQuery.Event) {\n        const e = eventParam as JQTreeMoveEvent;\n        const info = e.move_info;\n        const data = {\n            target_id: info.target_node.id,\n            position: info.position,\n        };\n        const $el = jQuery(info.moved_node.element);\n\n        handleLoading(true, null, $el);\n\n        removeErrorMessage();\n\n        e.preventDefault();\n\n        void jQuery.ajax({\n            type: \"POST\",\n            url: info.moved_node.move_url as string,\n            data,\n            beforeSend: (xhr) => {\n                // Set Django csrf token\n                xhr.setRequestHeader(\"X-CSRFToken\", getCsrfToken());\n            },\n            success: () => {\n                info.do_move();\n                handleLoading(false, null, $el);\n            },\n            error: () => {\n                handleLoading(false, null, $el);\n                const $node = $el.find(\".jqtree-element\");\n                $node.append(\n                    `<span class=\"mptt-admin-error\">${gettext(\n                        \"move failed\"\n                    )}</span>`\n                );\n\n                errorNode = info.moved_node;\n            },\n        });\n\n        function removeErrorMessage() {\n            if (errorNode) {\n                jQuery(errorNode.element).find(\".mptt-admin-error\").remove();\n                errorNode = null;\n            }\n        }\n    }\n\n    function handleLoadFailed() {\n        $tree.html(gettext(\"Error while loading the data from the server\"));\n    }\n\n    const spinners: Record<number | string, Spinner | null> = {};\n\n    function handleLoading(\n        isLoading: boolean,\n        node: INode | null,\n        $el: JQuery\n    ) {\n        function getNodeId(): string | number {\n            if (!node) {\n                return \"__root__\";\n            } else {\n                return node.id as string | number;\n            }\n        }\n\n        function getContainer() {\n            if (node) {\n                return $el.find(\".jqtree-element\")[0];\n            } else {\n                return $el[0];\n            }\n        }\n\n        const nodeId = getNodeId();\n\n        if (isLoading) {\n            spinners[nodeId] = new Spinner().spin(getContainer());\n        } else {\n            const spinner = spinners[nodeId];\n\n            if (spinner) {\n                spinner.stop();\n                spinners[nodeId] = null;\n            }\n        }\n    }\n\n    function handleSelect(eventParam: JQuery.Event) {\n        const e = eventParam as JQTreeSelectEvent;\n        const { node, deselected_node } = e;\n\n        if (deselected_node) {\n            // deselected node: remove tabindex\n            jQuery(deselected_node.element).find(\".edit\").attr(\"tabindex\", -1);\n        }\n\n        if (node) {\n            // selected: add tabindex\n            jQuery(node.element).find(\".edit\").attr(\"tabindex\", 0);\n        }\n    }\n\n    const treeOptions: Record<string, unknown> = {\n        autoOpen,\n        autoEscape,\n        buttonLeft: rtl,\n        closedIcon: rtl ? \"&#x25c0;\" : \"&#x25ba;\",\n        dragAndDrop,\n        onCreateLi: createLi,\n        onLoadFailed: handleLoadFailed,\n        onLoading: handleLoading,\n        saveState: $tree.data(\"save_state\") as boolean,\n        useContextMenu: Boolean($tree.data(\"use_context_menu\")),\n    };\n\n    if (animationSpeed !== null) {\n        treeOptions[\"animationSpeed\"] = animationSpeed;\n    }\n\n    if (mouseDelay != null) {\n        treeOptions[\"startDndDelay\"] = mouseDelay;\n    }\n\n    $tree.tree(treeOptions);\n\n    $tree.on(\"tree.move\", handleMove);\n    $tree.on(\"tree.select\", handleSelect);\n}\n\njQuery(() => {\n    const $tree = jQuery(\"#tree\");\n\n    if ($tree.length) {\n        const animationSpeed = $tree.data(\"tree-animation-speed\") as\n            | number\n            | string\n            | null;\n        const autoOpen = $tree.data(\"auto_open\") as boolean | number;\n        const autoEscape = Boolean($tree.data(\"autoescape\"));\n        const mouseDelay = $tree.data(\"tree-mouse-delay\") as number | null;\n        const dragAndDrop = $tree.data(\"drag-and-drop\") as boolean;\n        const rtl = $tree.data(\"rtl\") === \"1\";\n        const csrfCookieName = $tree.data(\"csrf-cookie-name\") as string;\n\n        initTree($tree, {\n            animationSpeed,\n            autoOpen,\n            autoEscape,\n            csrfCookieName,\n            dragAndDrop,\n            mouseDelay,\n            rtl,\n        });\n    }\n});\n"],"names":["exports","str","options","TypeError","obj","opt","pairs","split","pairSplitRegExp","dec","decode","i","length","pair","eq_idx","indexOf","key","substr","trim","val","slice","undefined","tryDecode","decodeURIComponent","encodeURIComponent","e","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperties","target","props","descriptor","configurable","writable","defineProperty","_defineProperty","value","DataLoader","treeWidget","instance","Constructor","_classCallCheck","this","protoProps","urlInfo","parentNode","onFinished","_this","$el","getDomElement","addLoadingClass","notifyLoading","stopLoading","removeLoadingClass","submitRequest","data","loadData","parseData","jqXHR","onLoadFailed","addClass","removeClass","jQuery","element","isLoading","node","onLoading","_triggerEvent","urlInfoInput","handleSuccess","handleError","_ajaxSettings$method","ajaxSettings","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","method","cache","dataType","success","error","url","toUpperCase","ajax","dataFilter","parsedData","JSON","parse","prototype","_typeof","Symbol","iterator","constructor","HitAreasGenerator","DragAndDropHandler","_node","_arrayLikeToArray","arr","len","arr2","Array","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_getPrototypeOf","getPrototypeOf","_createClass","staticProps","hoveredArea","hitAreas","isDragging","currentItem","positionInfo","$element","mustCaptureElement","onIsMoveHandle","nodeElement","_getNodeElement","onCanMove","_this$treeWidget$opti","pageX","pageY","refresh","offset","left","top","dragElement","DragElement","name","autoEscape","move","area","findHoveredArea","canMoveToArea","isFolder","stopOpenFolderTimer","mustOpenFolderTimer","startOpenFolderTimer","updateDropHint","removeDropHint","onDragMove","originalEvent","moveItem","clear","removeHover","removeHitAreas","onDragStop","generateHitAreas","_getNodeElementForNode","hitAreasGenerator","tree","getTreeDimensions","bottom","generate","is","onCanMoveTo","positionName","getPositionName","position","remove","previousGhost","x","y","dimensions","right","low","high","mid","is_open","Position","Inside","addDropHint","folder","openFolderTimer","window","setTimeout","_openNode","slide","openFolderDelay","clearTimeout","_this2","None","movedNode","targetNode","previousParent","parent","doMove","moveNode","empty","_refreshElements","move_info","moved_node","target_node","previous_parent","do_move","original_event","isDefaultPrevented","el","width","height","_getScrollLeft","_VisibleNodeIterator","subClass","superClass","create","_inherits","Derived","hasNativeReflectConstruct","_super","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","currentNode","treeBottom","_this4","positions","lastTop","iterate","_step","previousTop","group","_iterator","allowArrayLike","it","isArray","minLen","n","toString","from","test","_unsupportedIterableToArray","F","s","done","_e","f","err","normalCompletion","didErr","step","next","_e2","_createForOfIteratorHelper","generateHitAreasForGroup","children","addPosition","getTop","nextNode","After","Before","positionsInGroup","positionCount","Math","min","areaHeight","round","areaTop","VisibleNodeIterator","_this3","isFirstNode","_iterateNode","mustIterateInside","hasChildren","handleFirstNode","handleOpenFolder","handleClosedFolder","handleNode","childrenLength","_","handleAfterOpenFolder","nodeName","offsetX","offsetY","$tree","text","html","css","append","_util","ElementsRenderer","openedIconElement","createButtonElement","openedIcon","closedIconElement","closedIcon","fromNode","renderFromNode","renderFromRoot","createDomElements","$previousLi","li","createLi","getLevel","attachNodeData","after","isRootNode","level","ul","createUl","appendChild","child","classString","role","rtl","dragAndDrop","document","createElement","className","concat","setAttribute","isSelected","selectNodeHandler","isNodeSelected","isEmptyFolder","showEmptyFolder","createFolderLi","createNodeLi","onCreateLi","buttonClasses","getButtonClasses","folderClasses","getFolderClasses","iconElement","div","buttonLink","cloneNode","buttonLeft","createTitleSpan","liClasses","join","isOpen","titleSpan","classes","getBoolString","tabIndex","textContent","innerHTML","is_loading","createTextNode","KeyHandler","canHandleKeyboard","selectedNode","getSelectedNode","which","DOWN","moveDown","UP","moveUp","RIGHT","moveRight","LEFT","moveLeft","keyboardSupport","on","handleKeyDown","off","selectNode","getNextNode","getPreviousNode","openNode","closeNode","getParent","scrollHandler","isScrolledIntoView","find","scrollToNode","isFocusOnTree","_simple","__esModule","getPositionInfoFromMouseEvent","getPositionInfoFromTouch","touch","_default","_SimpleWidget","MouseWidget","_len","args","_key","button","handleMouseDown","cancelable","preventDefault","handleMouseMove","handleMouseUp","touches","changedTouches","get","addEventListener","mouseDown","passive","touchStart","isMouseStarted","mouseDelayTimer","isMouseDelayMet","mouseDownInfo","removeEventListener","removeMouseMoveEventListeners","mouseCapture","handleStartMouse","mouseMove","touchMove","mouseUp","touchEnd","mouseDelay","getMouseDelay","startMouseDelayTimer","mouseDrag","mouseStart","mouseStop","getPosition","Node","positionNames","before","inside","none","hasOwnProperty","isNodeRecordWithChildren","isRoot","nodeClass","load_on_demand","setData","idMapping","Map","removeChildren","createNode","addChild","loadFromData","setParent","index","splice","doRemoveChild","callback","_iterate","_step2","_iterator2","isParentOf","addChildAtPosition","getChildIndex","includeParent","getDataFromNodes","nodes","map","tmpNode","k","v","getNodeByCallback","nodeInfo","_node2","childIndex","_node3","newParent","_step3","originalParent","_iterator3","removeChild","nodeId","id","set","_this$tree","removeNodeFromIndex","previousIndex","nextIndex","includeChildren","nextSibling","getNextSibling","previousSibling","getPreviousSibling","getLastChild","lastChild","nodeData","childrenData","_step4","_iterator4","_node4","initFromData","addChildren","_this$tree2","addNodeToIndex","_this$tree3","_this$tree4","getNodeClass","NodeElement","FolderElement","BorderDropHint","init","mustShowBorderDropHint","GhostDropHint","mustSetFocus","$li","getLi","attr","$span","getSpan","trigger","removeAttr","blur","_NodeElement","animationSpeed","$button","getButton","buttonEl","icon","renderer","doOpen","getUl","slideDown","show","doClose","slideUp","hide","scrollLeft","$div","elWidth","max","elHeight","outerHeight","$hint","$ghost","moveAfter","moveBefore","moveInsideOpenFolder","moveInside","childElement","SaveStateHandler","state","stringify","getState","onSetStateFromStorage","supportsLocalStorage","localStorage","setItem","getKeyName","jsonData","loadFromStorage","parseState","selectedNodeIds","openNodes","open_nodes","selected_node","getSelectedNodes","mustLoadOnDemand","openInitialNodes","resetSelection","selectInitialNodes","cbFinished","doSetInitialStateOnDemand","getStateFromStorage","isInt","onGetStateFromStorage","getItem","nodeIds","getNodeById","selectCount","addToSelection","removeFromSelection","nodeIdsParam","selectedNodes","loadingCount","newNodesIds","loadAndOpenNode","saveState","_supportsLocalStorage","sessionStorage","removeItem","testSupport","ScrollHandler","isInitialized","ensureInit","checkVerticalScrolling","checkHorizontalScrolling","$scrollParent","scrollTop","treeTop","elementBottom","viewBottom","elementTop","viewTop","scrollParentTop","_offset","setDocumentAsScrollParent","cssAttributes","hasOverFlow","overflowValue","parents","getParentWithOverflow","tagName","initScrollParent","scrollParent","offsetHeight","refreshHitAreas","dndHandler","handleVerticalScrollingWithScrollParent","handleVerticalScrollingWithDocument","handleHorizontalScrollingWithParent","handleHorizontalScrollingWithDocument","scrollParentOffset","canScrollRight","clientWidth","scrollWidth","canScrollLeft","rightEdge","leftEdge","isNearRightEdge","isNearLeftEdge","$document","windowWidth","SelectNodeHandler","Set","selectedSingleNode","has","add","activeElement","_containsElement","_register","widgetClass","widgetName","getDataKey","getWidgetData","dataKey","widget","SimpleWidget","createWidget","destroyWidget","destroy","removeData","callFunction","functionName","widgetFunction","fn","argument1","defaults","deinit","_version","_interopRequireDefault","_dragAndDropHandler","_elementsRenderer","_dataLoader","_keyHandler","_mouse","_saveStateHandler","_scrollHandler","_selectNodeHandler","_node6","_nodeElement","_slicedToArray","_arrayWithHoles","_i","_s","_arr","_n","_d","_iterableToArrayLimit","_nonIterableRest","_get","property","receiver","base","_superPropBase","desc","NODE_PARAM_IS_EMPTY","PARAM_IS_EMPTY","JqTreeWidget","_MouseWidget","clickTarget","getClickTarget","type","toggle","stopPropagation","click_event","doSelectNode","closest","getNode","slideParam","Error","optionsParam","getData","doLoadData","param1","param2","param3","doLoadDataFromUrl","getNodeByName","getNodeByNameMustExist","getNodesByProperty","_parseParams","_this2$options$slide","isFunction","parseParams","_parseParams2","close","newNodeInfo","existingNode","newNode","addAfter","addBefore","addParent","parentNodeParam","prepend","idIsChanged","subtree","positionIndex","saveStateHandler","select","deselect","nodeOffset","nodeTop","treeOffset","scrollToY","setInitialState","option","keyHandler","eventName","values","event","Event","doOpenNode","_slide","_onFinished","open","loadFolderOnDemand","mustSelect","isSelectedNodeInSubtree","render","selectCurrentNode","getScrollLeft","getRtlOption","getDefaultClosedIcon","dataLoader","initData","handleClick","handleDblclick","useContextMenu","handleContextmenu","checkScrolling","_this$options$startDn","startDndDelay","getDataUrlInfo","dataUrl","setUrlInfoData","selectedNodeId","getNodeIdToBeSelected","_data","_this5","doInit","setInitialStateOnDemand","_this6","_restoreState2","restoreState","isRestored","autoOpen","maxLevel","getAutoOpenMaxLevel","autoOpenNodes","_this7","parseInt","$target","_node5","dataRtl","_this8","deselectCurrentNode","selectOptions","mustToggle","onCanSelectNode","selectable","previous_node","deselectedNode","deselected_node","tree_data","deselectNodes","loadSubtree","initTree","_e3","getSelectedNodesUnder","urlInfoParam","loadFromUrl","_this9","register","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","__assign","assign","t","lines","radius","scale","corners","color","fadeColor","animation","rotate","direction","speed","zIndex","shadow","Spinner","opts","spin","stop","transform","insertBefore","firstChild","borderRadius","shadows","boxShadow","regex","_a","matches","match","xUnits","yUnits","prefix","end","parseBoxShadow","degrees","backgroundLine","background","getColor","transformOrigin","delay","line","normalizeShadow","drawLines","requestAnimationFrame","cancelAnimationFrame","animateId","prop","style","idx","normalized","shadows_1","xy","convertOffset","radians","PI","sin","cos","csrfCookieName","errorNode","baseUrl","insertAtUrl","URL","spinners","handleLoading","spinner","treeOptions","$title","searchParams","insertUrlString","substring","tabindex","gettext","eventParam","info","target_id","move_url","beforeSend","xhr","setRequestHeader","cookie","querySelector"],"sourceRoot":""}