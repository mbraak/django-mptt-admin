{"version":3,"file":"django_mptt_admin.js","mappings":"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","sources":["webpack://django-mptt-admin/./node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/dataLoader.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/dragAndDropHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/elementsRenderer.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/keyHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/mouse.widget.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/node.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/nodeElement.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/saveStateHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/scrollHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/selectNodeHandler.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/simple.widget.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/tree.jquery.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/util.js","webpack://django-mptt-admin/./node_modules/.pnpm/jqtree@1.7.1/node_modules/jqtree/lib/version.js","webpack://django-mptt-admin/webpack/bootstrap","webpack://django-mptt-admin/./node_modules/.pnpm/spin.js@4.1.1/node_modules/spin.js/spin.js","webpack://django-mptt-admin/./django_mptt_admin.ts"],"sourcesContent":["/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var dec = opt.decode || decode;\n\n  var index = 0\n  while (index < str.length) {\n    var eqIdx = str.indexOf('=', index)\n\n    // no more cookie pairs\n    if (eqIdx === -1) {\n      break\n    }\n\n    var endIdx = str.indexOf(';', index)\n\n    if (endIdx === -1) {\n      endIdx = str.length\n    } else if (endIdx < eqIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1\n      continue\n    }\n\n    var key = str.slice(index, eqIdx).trim()\n\n    // only assign once\n    if (undefined === obj[key]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim()\n\n      // quoted values\n      if (val.charCodeAt(0) === 0x22) {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase()\n      : opt.priority\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * URL-encode value.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction encode (val) {\n  return encodeURIComponent(val)\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]' ||\n    val instanceof Date\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar DataLoader = /*#__PURE__*/function () {\n  function DataLoader(treeWidget) {\n    _classCallCheck(this, DataLoader);\n    _defineProperty(this, \"treeWidget\", void 0);\n    this.treeWidget = treeWidget;\n  }\n  _createClass(DataLoader, [{\n    key: \"loadFromUrl\",\n    value: function loadFromUrl(urlInfo, parentNode, onFinished) {\n      var _this = this;\n      if (!urlInfo) {\n        return;\n      }\n      var $el = this.getDomElement(parentNode);\n      this.addLoadingClass($el);\n      this.notifyLoading(true, parentNode, $el);\n      var stopLoading = function stopLoading() {\n        _this.removeLoadingClass($el);\n        _this.notifyLoading(false, parentNode, $el);\n      };\n      var handleSuccess = function handleSuccess(data) {\n        stopLoading();\n        _this.treeWidget.loadData(_this.parseData(data), parentNode);\n        if (onFinished && typeof onFinished === \"function\") {\n          onFinished();\n        }\n      };\n      var handleError = function handleError(jqXHR) {\n        stopLoading();\n        if (_this.treeWidget.options.onLoadFailed) {\n          _this.treeWidget.options.onLoadFailed(jqXHR);\n        }\n      };\n      this.submitRequest(urlInfo, handleSuccess, handleError);\n    }\n  }, {\n    key: \"addLoadingClass\",\n    value: function addLoadingClass($el) {\n      if ($el) {\n        $el.addClass(\"jqtree-loading\");\n      }\n    }\n  }, {\n    key: \"removeLoadingClass\",\n    value: function removeLoadingClass($el) {\n      if ($el) {\n        $el.removeClass(\"jqtree-loading\");\n      }\n    }\n  }, {\n    key: \"getDomElement\",\n    value: function getDomElement(parentNode) {\n      if (parentNode) {\n        return jQuery(parentNode.element);\n      } else {\n        return this.treeWidget.element;\n      }\n    }\n  }, {\n    key: \"notifyLoading\",\n    value: function notifyLoading(isLoading, node, $el) {\n      if (this.treeWidget.options.onLoading) {\n        this.treeWidget.options.onLoading(isLoading, node, $el);\n      }\n      this.treeWidget._triggerEvent(\"tree.loading_data\", {\n        isLoading: isLoading,\n        node: node,\n        $el: $el\n      });\n    }\n  }, {\n    key: \"submitRequest\",\n    value: function submitRequest(urlInfoInput, handleSuccess, handleError) {\n      var _ajaxSettings$method;\n      var urlInfo = typeof urlInfoInput === \"string\" ? {\n        url: urlInfoInput\n      } : urlInfoInput;\n      var ajaxSettings = _objectSpread({\n        method: \"GET\",\n        cache: false,\n        dataType: \"json\",\n        success: handleSuccess,\n        error: handleError\n      }, urlInfo);\n      ajaxSettings.method = ((_ajaxSettings$method = ajaxSettings.method) === null || _ajaxSettings$method === void 0 ? void 0 : _ajaxSettings$method.toUpperCase()) || \"GET\";\n      void jQuery.ajax(ajaxSettings);\n    }\n  }, {\n    key: \"parseData\",\n    value: function parseData(data) {\n      var dataFilter = this.treeWidget.options.dataFilter;\n      var getParsedData = function getParsedData() {\n        if (typeof data === \"string\") {\n          return JSON.parse(data);\n        } else {\n          return data;\n        }\n      };\n      var parsedData = getParsedData();\n      if (dataFilter) {\n        return dataFilter(parsedData);\n      } else {\n        return parsedData;\n      }\n    }\n  }]);\n  return DataLoader;\n}();\nexports[\"default\"] = DataLoader;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HitAreasGenerator = exports.DragAndDropHandler = void 0;\nvar _node = require(\"./node\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar DragAndDropHandler = /*#__PURE__*/function () {\n  function DragAndDropHandler(treeWidget) {\n    _classCallCheck(this, DragAndDropHandler);\n    _defineProperty(this, \"hitAreas\", void 0);\n    _defineProperty(this, \"isDragging\", void 0);\n    _defineProperty(this, \"currentItem\", void 0);\n    _defineProperty(this, \"hoveredArea\", void 0);\n    _defineProperty(this, \"positionInfo\", void 0);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"dragElement\", void 0);\n    _defineProperty(this, \"previousGhost\", void 0);\n    _defineProperty(this, \"openFolderTimer\", void 0);\n    this.treeWidget = treeWidget;\n    this.hoveredArea = null;\n    this.hitAreas = [];\n    this.isDragging = false;\n    this.currentItem = null;\n    this.positionInfo = null;\n  }\n  _createClass(DragAndDropHandler, [{\n    key: \"mouseCapture\",\n    value: function mouseCapture(positionInfo) {\n      var $element = jQuery(positionInfo.target);\n      if (!this.mustCaptureElement($element)) {\n        return null;\n      }\n      if (this.treeWidget.options.onIsMoveHandle && !this.treeWidget.options.onIsMoveHandle($element)) {\n        return null;\n      }\n      var nodeElement = this.treeWidget._getNodeElement($element);\n      if (nodeElement && this.treeWidget.options.onCanMove) {\n        if (!this.treeWidget.options.onCanMove(nodeElement.node)) {\n          nodeElement = null;\n        }\n      }\n      this.currentItem = nodeElement;\n      return this.currentItem != null;\n    }\n  }, {\n    key: \"mouseStart\",\n    value: function mouseStart(positionInfo) {\n      var _this$treeWidget$opti;\n      if (!this.currentItem || positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return false;\n      }\n      this.refresh();\n      var offset = jQuery(positionInfo.target).offset();\n      var left = offset ? offset.left : 0;\n      var top = offset ? offset.top : 0;\n      var node = this.currentItem.node;\n      this.dragElement = new DragElement(node.name, positionInfo.pageX - left, positionInfo.pageY - top, this.treeWidget.element, (_this$treeWidget$opti = this.treeWidget.options.autoEscape) !== null && _this$treeWidget$opti !== void 0 ? _this$treeWidget$opti : true);\n      this.isDragging = true;\n      this.positionInfo = positionInfo;\n      this.currentItem.$element.addClass(\"jqtree-moving\");\n      return true;\n    }\n  }, {\n    key: \"mouseDrag\",\n    value: function mouseDrag(positionInfo) {\n      if (!this.currentItem || !this.dragElement || positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return false;\n      }\n      this.dragElement.move(positionInfo.pageX, positionInfo.pageY);\n      this.positionInfo = positionInfo;\n      var area = this.findHoveredArea(positionInfo.pageX, positionInfo.pageY);\n      if (area && this.canMoveToArea(area)) {\n        if (!area.node.isFolder()) {\n          this.stopOpenFolderTimer();\n        }\n        if (this.hoveredArea !== area) {\n          this.hoveredArea = area;\n\n          // If this is a closed folder, start timer to open it\n          if (this.mustOpenFolderTimer(area)) {\n            this.startOpenFolderTimer(area.node);\n          } else {\n            this.stopOpenFolderTimer();\n          }\n          this.updateDropHint();\n        }\n      } else {\n        this.removeDropHint();\n        this.stopOpenFolderTimer();\n        this.hoveredArea = area;\n      }\n      if (!area) {\n        if (this.treeWidget.options.onDragMove) {\n          this.treeWidget.options.onDragMove(this.currentItem.node, positionInfo.originalEvent);\n        }\n      }\n      return true;\n    }\n  }, {\n    key: \"mouseStop\",\n    value: function mouseStop(positionInfo) {\n      this.moveItem(positionInfo);\n      this.clear();\n      this.removeHover();\n      this.removeDropHint();\n      this.removeHitAreas();\n      var currentItem = this.currentItem;\n      if (this.currentItem) {\n        this.currentItem.$element.removeClass(\"jqtree-moving\");\n        this.currentItem = null;\n      }\n      this.isDragging = false;\n      this.positionInfo = null;\n      if (!this.hoveredArea && currentItem) {\n        if (this.treeWidget.options.onDragStop) {\n          this.treeWidget.options.onDragStop(currentItem.node, positionInfo.originalEvent);\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.removeHitAreas();\n      if (this.currentItem) {\n        this.generateHitAreas();\n        this.currentItem = this.treeWidget._getNodeElementForNode(this.currentItem.node);\n        if (this.isDragging) {\n          this.currentItem.$element.addClass(\"jqtree-moving\");\n        }\n      }\n    }\n  }, {\n    key: \"generateHitAreas\",\n    value: function generateHitAreas() {\n      if (!this.currentItem) {\n        this.hitAreas = [];\n      } else {\n        var hitAreasGenerator = new HitAreasGenerator(this.treeWidget.tree, this.currentItem.node, this.getTreeDimensions().bottom);\n        this.hitAreas = hitAreasGenerator.generate();\n      }\n    }\n  }, {\n    key: \"mustCaptureElement\",\n    value: function mustCaptureElement($element) {\n      return !$element.is(\"input,select,textarea\");\n    }\n  }, {\n    key: \"canMoveToArea\",\n    value: function canMoveToArea(area) {\n      if (!this.treeWidget.options.onCanMoveTo) {\n        return true;\n      }\n      if (!this.currentItem) {\n        return false;\n      }\n      var positionName = (0, _node.getPositionName)(area.position);\n      return this.treeWidget.options.onCanMoveTo(this.currentItem.node, area.node, positionName);\n    }\n  }, {\n    key: \"removeHitAreas\",\n    value: function removeHitAreas() {\n      this.hitAreas = [];\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.dragElement) {\n        this.dragElement.remove();\n        this.dragElement = null;\n      }\n    }\n  }, {\n    key: \"removeDropHint\",\n    value: function removeDropHint() {\n      if (this.previousGhost) {\n        this.previousGhost.remove();\n      }\n    }\n  }, {\n    key: \"removeHover\",\n    value: function removeHover() {\n      this.hoveredArea = null;\n    }\n  }, {\n    key: \"findHoveredArea\",\n    value: function findHoveredArea(x, y) {\n      var dimensions = this.getTreeDimensions();\n      if (x < dimensions.left || y < dimensions.top || x > dimensions.right || y > dimensions.bottom) {\n        return null;\n      }\n      var low = 0;\n      var high = this.hitAreas.length;\n      while (low < high) {\n        var mid = low + high >> 1;\n        var area = this.hitAreas[mid];\n        if (!area) {\n          return null;\n        }\n        if (y < area.top) {\n          high = mid;\n        } else if (y > area.bottom) {\n          low = mid + 1;\n        } else {\n          return area;\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"mustOpenFolderTimer\",\n    value: function mustOpenFolderTimer(area) {\n      var node = area.node;\n      return node.isFolder() && !node.is_open && area.position === _node.Position.Inside;\n    }\n  }, {\n    key: \"updateDropHint\",\n    value: function updateDropHint() {\n      if (!this.hoveredArea) {\n        return;\n      }\n\n      // remove previous drop hint\n      this.removeDropHint();\n\n      // add new drop hint\n      var nodeElement = this.treeWidget._getNodeElementForNode(this.hoveredArea.node);\n      this.previousGhost = nodeElement.addDropHint(this.hoveredArea.position);\n    }\n  }, {\n    key: \"startOpenFolderTimer\",\n    value: function startOpenFolderTimer(folder) {\n      var _this = this;\n      var openFolder = function openFolder() {\n        _this.treeWidget._openNode(folder, _this.treeWidget.options.slide, function () {\n          _this.refresh();\n          _this.updateDropHint();\n        });\n      };\n      this.stopOpenFolderTimer();\n      var openFolderDelay = this.treeWidget.options.openFolderDelay;\n      if (openFolderDelay !== false) {\n        this.openFolderTimer = window.setTimeout(openFolder, openFolderDelay);\n      }\n    }\n  }, {\n    key: \"stopOpenFolderTimer\",\n    value: function stopOpenFolderTimer() {\n      if (this.openFolderTimer) {\n        clearTimeout(this.openFolderTimer);\n        this.openFolderTimer = null;\n      }\n    }\n  }, {\n    key: \"moveItem\",\n    value: function moveItem(positionInfo) {\n      var _this2 = this;\n      if (this.currentItem && this.hoveredArea && this.hoveredArea.position !== _node.Position.None && this.canMoveToArea(this.hoveredArea)) {\n        var movedNode = this.currentItem.node;\n        var targetNode = this.hoveredArea.node;\n        var position = this.hoveredArea.position;\n        var previousParent = movedNode.parent;\n        if (position === _node.Position.Inside) {\n          this.hoveredArea.node.is_open = true;\n        }\n        var doMove = function doMove() {\n          _this2.treeWidget.tree.moveNode(movedNode, targetNode, position);\n          _this2.treeWidget.element.empty();\n          _this2.treeWidget._refreshElements(null);\n        };\n        var event = this.treeWidget._triggerEvent(\"tree.move\", {\n          move_info: {\n            moved_node: movedNode,\n            target_node: targetNode,\n            position: (0, _node.getPositionName)(position),\n            previous_parent: previousParent,\n            do_move: doMove,\n            original_event: positionInfo.originalEvent\n          }\n        });\n        if (!event.isDefaultPrevented()) {\n          doMove();\n        }\n      }\n    }\n  }, {\n    key: \"getTreeDimensions\",\n    value: function getTreeDimensions() {\n      // Return the dimensions of the tree. Add a margin to the bottom to allow\n      // to drag-and-drop after the last element.\n      var offset = this.treeWidget.element.offset();\n      if (!offset) {\n        return {\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0\n        };\n      } else {\n        var el = this.treeWidget.element;\n        var width = el.width() || 0;\n        var height = el.height() || 0;\n        var left = offset.left + this.treeWidget._getScrollLeft();\n        return {\n          left: left,\n          top: offset.top,\n          right: left + width,\n          bottom: offset.top + height + 16\n        };\n      }\n    }\n  }]);\n  return DragAndDropHandler;\n}();\nexports.DragAndDropHandler = DragAndDropHandler;\nvar VisibleNodeIterator = /*#__PURE__*/function () {\n  function VisibleNodeIterator(tree) {\n    _classCallCheck(this, VisibleNodeIterator);\n    _defineProperty(this, \"tree\", void 0);\n    this.tree = tree;\n  }\n  _createClass(VisibleNodeIterator, [{\n    key: \"iterate\",\n    value: function iterate() {\n      var _this3 = this;\n      var isFirstNode = true;\n      var _iterateNode = function _iterateNode(node, nextNode) {\n        var mustIterateInside = (node.is_open || !node.element) && node.hasChildren();\n        var $element = null;\n        if (node.element) {\n          $element = jQuery(node.element);\n          if (!$element.is(\":visible\")) {\n            return;\n          }\n          if (isFirstNode) {\n            _this3.handleFirstNode(node);\n            isFirstNode = false;\n          }\n          if (!node.hasChildren()) {\n            _this3.handleNode(node, nextNode, $element);\n          } else if (node.is_open) {\n            if (!_this3.handleOpenFolder(node, $element)) {\n              mustIterateInside = false;\n            }\n          } else {\n            _this3.handleClosedFolder(node, nextNode, $element);\n          }\n        }\n        if (mustIterateInside) {\n          var childrenLength = node.children.length;\n          node.children.forEach(function (_, i) {\n            var child = node.children[i];\n            if (child) {\n              if (i === childrenLength - 1) {\n                _iterateNode(child, null);\n              } else {\n                var nextChild = node.children[i + 1];\n                if (nextChild) {\n                  _iterateNode(child, nextChild);\n                }\n              }\n            }\n          });\n          if (node.is_open && $element) {\n            _this3.handleAfterOpenFolder(node, nextNode);\n          }\n        }\n      };\n      _iterateNode(this.tree, null);\n    }\n  }]);\n  return VisibleNodeIterator;\n}();\nvar HitAreasGenerator = /*#__PURE__*/function (_VisibleNodeIterator) {\n  _inherits(HitAreasGenerator, _VisibleNodeIterator);\n  var _super = _createSuper(HitAreasGenerator);\n  function HitAreasGenerator(tree, currentNode, treeBottom) {\n    var _this4;\n    _classCallCheck(this, HitAreasGenerator);\n    _this4 = _super.call(this, tree);\n    _defineProperty(_assertThisInitialized(_this4), \"currentNode\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"treeBottom\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"positions\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"lastTop\", void 0);\n    _this4.currentNode = currentNode;\n    _this4.treeBottom = treeBottom;\n    return _this4;\n  }\n  _createClass(HitAreasGenerator, [{\n    key: \"generate\",\n    value: function generate() {\n      this.positions = [];\n      this.lastTop = 0;\n      this.iterate();\n      return this.generateHitAreas(this.positions);\n    }\n  }, {\n    key: \"generateHitAreas\",\n    value: function generateHitAreas(positions) {\n      var previousTop = -1;\n      var group = [];\n      var hitAreas = [];\n      var _iterator = _createForOfIteratorHelper(positions),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var position = _step.value;\n          if (position.top !== previousTop && group.length) {\n            if (group.length) {\n              this.generateHitAreasForGroup(hitAreas, group, previousTop, position.top);\n            }\n            previousTop = position.top;\n            group = [];\n          }\n          group.push(position);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.generateHitAreasForGroup(hitAreas, group, previousTop, this.treeBottom);\n      return hitAreas;\n    }\n  }, {\n    key: \"handleOpenFolder\",\n    value: function handleOpenFolder(node, $element) {\n      if (node === this.currentNode) {\n        // Cannot move inside current item\n        // Stop iterating\n        return false;\n      }\n\n      // Cannot move before current item\n      if (node.children[0] !== this.currentNode) {\n        this.addPosition(node, _node.Position.Inside, this.getTop($element));\n      }\n\n      // Continue iterating\n      return true;\n    }\n  }, {\n    key: \"handleClosedFolder\",\n    value: function handleClosedFolder(node, nextNode, $element) {\n      var top = this.getTop($element);\n      if (node === this.currentNode) {\n        // Cannot move after current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.Inside, top);\n\n        // Cannot move before current item\n        if (nextNode !== this.currentNode) {\n          this.addPosition(node, _node.Position.After, top);\n        }\n      }\n    }\n  }, {\n    key: \"handleFirstNode\",\n    value: function handleFirstNode(node) {\n      if (node !== this.currentNode) {\n        this.addPosition(node, _node.Position.Before, this.getTop(jQuery(node.element)));\n      }\n    }\n  }, {\n    key: \"handleAfterOpenFolder\",\n    value: function handleAfterOpenFolder(node, nextNode) {\n      if (node === this.currentNode || nextNode === this.currentNode) {\n        // Cannot move before or after current item\n        this.addPosition(node, _node.Position.None, this.lastTop);\n      } else {\n        this.addPosition(node, _node.Position.After, this.lastTop);\n      }\n    }\n  }, {\n    key: \"handleNode\",\n    value: function handleNode(node, nextNode, $element) {\n      var top = this.getTop($element);\n      if (node === this.currentNode) {\n        // Cannot move inside current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.Inside, top);\n      }\n      if (nextNode === this.currentNode || node === this.currentNode) {\n        // Cannot move before or after current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.After, top);\n      }\n    }\n  }, {\n    key: \"getTop\",\n    value: function getTop($element) {\n      var offset = $element.offset();\n      return offset ? offset.top : 0;\n    }\n  }, {\n    key: \"addPosition\",\n    value: function addPosition(node, position, top) {\n      var area = {\n        top: top,\n        bottom: 0,\n        node: node,\n        position: position\n      };\n      this.positions.push(area);\n      this.lastTop = top;\n    }\n  }, {\n    key: \"generateHitAreasForGroup\",\n    value: function generateHitAreasForGroup(hitAreas, positionsInGroup, top, bottom) {\n      // limit positions in group\n      var positionCount = Math.min(positionsInGroup.length, 4);\n      var areaHeight = Math.round((bottom - top) / positionCount);\n      var areaTop = top;\n      var i = 0;\n      while (i < positionCount) {\n        var position = positionsInGroup[i];\n        if (position) {\n          hitAreas.push({\n            top: areaTop,\n            bottom: areaTop + areaHeight,\n            node: position.node,\n            position: position.position\n          });\n        }\n        areaTop += areaHeight;\n        i += 1;\n      }\n    }\n  }]);\n  return HitAreasGenerator;\n}(VisibleNodeIterator);\nexports.HitAreasGenerator = HitAreasGenerator;\nvar DragElement = /*#__PURE__*/function () {\n  function DragElement(nodeName, offsetX, offsetY, $tree, autoEscape) {\n    _classCallCheck(this, DragElement);\n    _defineProperty(this, \"offsetX\", void 0);\n    _defineProperty(this, \"offsetY\", void 0);\n    _defineProperty(this, \"$element\", void 0);\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    this.$element = jQuery(\"<span>\").addClass(\"jqtree-title jqtree-dragging\");\n    if (autoEscape) {\n      this.$element.text(nodeName);\n    } else {\n      this.$element.html(nodeName);\n    }\n    this.$element.css(\"position\", \"absolute\");\n    $tree.append(this.$element);\n  }\n  _createClass(DragElement, [{\n    key: \"move\",\n    value: function move(pageX, pageY) {\n      this.$element.offset({\n        left: pageX - this.offsetX,\n        top: pageY - this.offsetY\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      this.$element.remove();\n    }\n  }]);\n  return DragElement;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _util = require(\"./util\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar ElementsRenderer = /*#__PURE__*/function () {\n  function ElementsRenderer(treeWidget) {\n    _classCallCheck(this, ElementsRenderer);\n    _defineProperty(this, \"openedIconElement\", void 0);\n    _defineProperty(this, \"closedIconElement\", void 0);\n    _defineProperty(this, \"treeWidget\", void 0);\n    this.treeWidget = treeWidget;\n    this.openedIconElement = this.createButtonElement(treeWidget.options.openedIcon || \"+\");\n    this.closedIconElement = this.createButtonElement(treeWidget.options.closedIcon || \"-\");\n  }\n  _createClass(ElementsRenderer, [{\n    key: \"render\",\n    value: function render(fromNode) {\n      if (fromNode && fromNode.parent) {\n        this.renderFromNode(fromNode);\n      } else {\n        this.renderFromRoot();\n      }\n    }\n  }, {\n    key: \"renderFromRoot\",\n    value: function renderFromRoot() {\n      var $element = this.treeWidget.element;\n      $element.empty();\n      if ($element[0]) {\n        this.createDomElements($element[0], this.treeWidget.tree.children, true, 1);\n      }\n    }\n  }, {\n    key: \"renderFromNode\",\n    value: function renderFromNode(node) {\n      // remember current li\n      var $previousLi = jQuery(node.element);\n\n      // create element\n      var li = this.createLi(node, node.getLevel());\n      this.attachNodeData(node, li);\n\n      // add element to dom\n      $previousLi.after(li);\n\n      // remove previous li\n      $previousLi.remove();\n\n      // create children\n      if (node.children) {\n        this.createDomElements(li, node.children, false, node.getLevel() + 1);\n      }\n    }\n  }, {\n    key: \"createDomElements\",\n    value: function createDomElements(element, children, isRootNode, level) {\n      var ul = this.createUl(isRootNode);\n      element.appendChild(ul);\n      var _iterator = _createForOfIteratorHelper(children),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n          var li = this.createLi(child, level);\n          ul.appendChild(li);\n          this.attachNodeData(child, li);\n          if (child.hasChildren()) {\n            this.createDomElements(li, child.children, false, level + 1);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"attachNodeData\",\n    value: function attachNodeData(node, li) {\n      node.element = li;\n      jQuery(li).data(\"node\", node);\n    }\n  }, {\n    key: \"createUl\",\n    value: function createUl(isRootNode) {\n      var classString;\n      var role;\n      if (!isRootNode) {\n        classString = \"\";\n        role = \"group\";\n      } else {\n        classString = \"jqtree-tree\";\n        role = \"tree\";\n        if (this.treeWidget.options.rtl) {\n          classString += \" jqtree-rtl\";\n        }\n      }\n      if (this.treeWidget.options.dragAndDrop) {\n        classString += \" jqtree-dnd\";\n      }\n      var ul = document.createElement(\"ul\");\n      ul.className = \"jqtree_common \".concat(classString);\n      ul.setAttribute(\"role\", role);\n      return ul;\n    }\n  }, {\n    key: \"createLi\",\n    value: function createLi(node, level) {\n      var isSelected = Boolean(this.treeWidget.selectNodeHandler.isNodeSelected(node));\n      var mustShowFolder = node.isFolder() || node.isEmptyFolder && this.treeWidget.options.showEmptyFolder;\n      var li = mustShowFolder ? this.createFolderLi(node, level, isSelected) : this.createNodeLi(node, level, isSelected);\n      if (this.treeWidget.options.onCreateLi) {\n        this.treeWidget.options.onCreateLi(node, jQuery(li), isSelected);\n      }\n      return li;\n    }\n  }, {\n    key: \"setTreeItemAriaAttributes\",\n    value: function setTreeItemAriaAttributes(element, name, level, isSelected) {\n      element.setAttribute(\"aria-label\", name);\n      element.setAttribute(\"aria-level\", \"\".concat(level));\n      element.setAttribute(\"aria-selected\", (0, _util.getBoolString)(isSelected));\n      element.setAttribute(\"role\", \"treeitem\");\n    }\n  }, {\n    key: \"createFolderLi\",\n    value: function createFolderLi(node, level, isSelected) {\n      var buttonClasses = this.getButtonClasses(node);\n      var folderClasses = this.getFolderClasses(node, isSelected);\n      var iconElement = node.is_open ? this.openedIconElement : this.closedIconElement;\n\n      // li\n      var li = document.createElement(\"li\");\n      li.className = \"jqtree_common \".concat(folderClasses);\n      li.setAttribute(\"role\", \"none\");\n\n      // div\n      var div = document.createElement(\"div\");\n      div.className = \"jqtree-element jqtree_common\";\n      div.setAttribute(\"role\", \"none\");\n      li.appendChild(div);\n\n      // button link\n      var buttonLink = document.createElement(\"a\");\n      buttonLink.className = buttonClasses;\n      if (iconElement) {\n        buttonLink.appendChild(iconElement.cloneNode(true));\n      }\n      if (this.treeWidget.options.buttonLeft) {\n        div.appendChild(buttonLink);\n      }\n\n      // title span\n      var titleSpan = this.createTitleSpan(node.name, isSelected, true, level);\n      titleSpan.setAttribute(\"aria-expanded\", (0, _util.getBoolString)(node.is_open));\n      div.appendChild(titleSpan);\n      if (!this.treeWidget.options.buttonLeft) {\n        div.appendChild(buttonLink);\n      }\n      return li;\n    }\n  }, {\n    key: \"createNodeLi\",\n    value: function createNodeLi(node, level, isSelected) {\n      var liClasses = [\"jqtree_common\"];\n      if (isSelected) {\n        liClasses.push(\"jqtree-selected\");\n      }\n      var classString = liClasses.join(\" \");\n\n      // li\n      var li = document.createElement(\"li\");\n      li.className = classString;\n      li.setAttribute(\"role\", \"none\");\n\n      // div\n      var div = document.createElement(\"div\");\n      div.className = \"jqtree-element jqtree_common\";\n      div.setAttribute(\"role\", \"none\");\n      li.appendChild(div);\n\n      // title span\n      var titleSpan = this.createTitleSpan(node.name, isSelected, false, level);\n      div.appendChild(titleSpan);\n      return li;\n    }\n  }, {\n    key: \"createTitleSpan\",\n    value: function createTitleSpan(nodeName, isSelected, isFolder, level) {\n      var titleSpan = document.createElement(\"span\");\n      var classes = \"jqtree-title jqtree_common\";\n      if (isFolder) {\n        classes += \" jqtree-title-folder\";\n      }\n      classes += \" jqtree-title-button-\".concat(this.treeWidget.options.buttonLeft ? \"left\" : \"right\");\n      titleSpan.className = classes;\n      if (isSelected) {\n        var tabIndex = this.treeWidget.options.tabIndex;\n        if (tabIndex !== undefined) {\n          titleSpan.setAttribute(\"tabindex\", \"\".concat(tabIndex));\n        }\n      }\n      this.setTreeItemAriaAttributes(titleSpan, nodeName, level, isSelected);\n      if (this.treeWidget.options.autoEscape) {\n        titleSpan.textContent = nodeName;\n      } else {\n        titleSpan.innerHTML = nodeName;\n      }\n      return titleSpan;\n    }\n  }, {\n    key: \"getButtonClasses\",\n    value: function getButtonClasses(node) {\n      var classes = [\"jqtree-toggler\", \"jqtree_common\"];\n      if (!node.is_open) {\n        classes.push(\"jqtree-closed\");\n      }\n      if (this.treeWidget.options.buttonLeft) {\n        classes.push(\"jqtree-toggler-left\");\n      } else {\n        classes.push(\"jqtree-toggler-right\");\n      }\n      return classes.join(\" \");\n    }\n  }, {\n    key: \"getFolderClasses\",\n    value: function getFolderClasses(node, isSelected) {\n      var classes = [\"jqtree-folder\"];\n      if (!node.is_open) {\n        classes.push(\"jqtree-closed\");\n      }\n      if (isSelected) {\n        classes.push(\"jqtree-selected\");\n      }\n      if (node.is_loading) {\n        classes.push(\"jqtree-loading\");\n      }\n      return classes.join(\" \");\n    }\n  }, {\n    key: \"createButtonElement\",\n    value: function createButtonElement(value) {\n      if (typeof value === \"string\") {\n        // convert value to html\n        var div = document.createElement(\"div\");\n        div.innerHTML = value;\n        return document.createTextNode(div.innerHTML);\n      } else {\n        return jQuery(value)[0];\n      }\n    }\n  }]);\n  return ElementsRenderer;\n}();\nexports[\"default\"] = ElementsRenderer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar KeyHandler = /*#__PURE__*/function () {\n  function KeyHandler(treeWidget) {\n    var _this = this;\n    _classCallCheck(this, KeyHandler);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"handleKeyDown\", function (e) {\n      if (!_this.canHandleKeyboard()) {\n        return true;\n      }\n      var selectedNode = _this.treeWidget.getSelectedNode();\n      if (!selectedNode) {\n        return true;\n      }\n      var key = e.which;\n      switch (key) {\n        case KeyHandler.DOWN:\n          return _this.moveDown(selectedNode);\n        case KeyHandler.UP:\n          return _this.moveUp(selectedNode);\n        case KeyHandler.RIGHT:\n          return _this.moveRight(selectedNode);\n        case KeyHandler.LEFT:\n          return _this.moveLeft(selectedNode);\n        default:\n          return true;\n      }\n    });\n    this.treeWidget = treeWidget;\n    if (treeWidget.options.keyboardSupport) {\n      jQuery(document).on(\"keydown.jqtree\", this.handleKeyDown);\n    }\n  }\n  _createClass(KeyHandler, [{\n    key: \"deinit\",\n    value: function deinit() {\n      jQuery(document).off(\"keydown.jqtree\");\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown(selectedNode) {\n      return this.selectNode(selectedNode.getNextVisibleNode());\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp(selectedNode) {\n      return this.selectNode(selectedNode.getPreviousVisibleNode());\n    }\n  }, {\n    key: \"moveRight\",\n    value: function moveRight(selectedNode) {\n      if (!selectedNode.isFolder()) {\n        return true;\n      } else {\n        // folder node\n        if (selectedNode.is_open) {\n          // Right moves to the first child of an open node\n          return this.selectNode(selectedNode.getNextVisibleNode());\n        } else {\n          // Right expands a closed node\n          this.treeWidget.openNode(selectedNode);\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"moveLeft\",\n    value: function moveLeft(selectedNode) {\n      if (selectedNode.isFolder() && selectedNode.is_open) {\n        // Left on an open node closes the node\n        this.treeWidget.closeNode(selectedNode);\n        return false;\n      } else {\n        // Left on a closed or end node moves focus to the node's parent\n        return this.selectNode(selectedNode.getParent());\n      }\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(node) {\n      if (!node) {\n        return true;\n      } else {\n        this.treeWidget.selectNode(node);\n        if (!this.treeWidget.scrollHandler.isScrolledIntoView(jQuery(node.element).find(\".jqtree-element\"))) {\n          this.treeWidget.scrollToNode(node);\n        }\n        return false;\n      }\n    }\n  }, {\n    key: \"canHandleKeyboard\",\n    value: function canHandleKeyboard() {\n      return (this.treeWidget.options.keyboardSupport || false) && this.treeWidget.selectNodeHandler.isFocusOnTree();\n    }\n  }]);\n  return KeyHandler;\n}();\nexports[\"default\"] = KeyHandler;\n_defineProperty(KeyHandler, \"LEFT\", 37);\n_defineProperty(KeyHandler, \"UP\", 38);\n_defineProperty(KeyHandler, \"RIGHT\", 39);\n_defineProperty(KeyHandler, \"DOWN\", 40);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _simple = _interopRequireDefault(require(\"./simple.widget\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); } /*\n                                                                                                                                                                                                                                                                                                                                                                                              This widget does the same a the mouse widget in jqueryui.\n                                                                                                                                                                                                                                                                                                                                                                                              */\nvar getPositionInfoFromMouseEvent = function getPositionInfoFromMouseEvent(e) {\n  return {\n    pageX: e.pageX,\n    pageY: e.pageY,\n    target: e.target,\n    originalEvent: e\n  };\n};\nvar getPositionInfoFromTouch = function getPositionInfoFromTouch(touch, e) {\n  return {\n    pageX: touch.pageX,\n    pageY: touch.pageY,\n    target: touch.target,\n    originalEvent: e\n  };\n};\nvar MouseWidget = /*#__PURE__*/function (_SimpleWidget) {\n  _inherits(MouseWidget, _SimpleWidget);\n  var _super = _createSuper(MouseWidget);\n  function MouseWidget() {\n    var _this;\n    _classCallCheck(this, MouseWidget);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"isMouseStarted\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mouseDownInfo\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mouseDelayTimer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"isMouseDelayMet\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mouseDown\", function (e) {\n      // Left mouse button?\n      if (e.button !== 0) {\n        return;\n      }\n      var result = _this.handleMouseDown(getPositionInfoFromMouseEvent(e));\n      if (result && e.cancelable) {\n        e.preventDefault();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"mouseMove\", function (e) {\n      _this.handleMouseMove(e, getPositionInfoFromMouseEvent(e));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"mouseUp\", function (e) {\n      _this.handleMouseUp(getPositionInfoFromMouseEvent(e));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"touchStart\", function (e) {\n      if (!e) {\n        return;\n      }\n      if (e.touches.length > 1) {\n        return;\n      }\n      var touch = e.changedTouches[0];\n      if (!touch) {\n        return;\n      }\n      _this.handleMouseDown(getPositionInfoFromTouch(touch, e));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"touchMove\", function (e) {\n      if (!e) {\n        return;\n      }\n      if (e.touches.length > 1) {\n        return;\n      }\n      var touch = e.changedTouches[0];\n      if (!touch) {\n        return;\n      }\n      _this.handleMouseMove(e, getPositionInfoFromTouch(touch, e));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"touchEnd\", function (e) {\n      if (!e) {\n        return;\n      }\n      if (e.touches.length > 1) {\n        return;\n      }\n      var touch = e.changedTouches[0];\n      if (!touch) {\n        return;\n      }\n      _this.handleMouseUp(getPositionInfoFromTouch(touch, e));\n    });\n    return _this;\n  }\n  _createClass(MouseWidget, [{\n    key: \"init\",\n    value: function init() {\n      var element = this.$el.get(0);\n      if (element) {\n        element.addEventListener(\"mousedown\", this.mouseDown, {\n          passive: false\n        });\n        element.addEventListener(\"touchstart\", this.touchStart, {\n          passive: false\n        });\n      }\n      this.isMouseStarted = false;\n      this.mouseDelayTimer = null;\n      this.isMouseDelayMet = false;\n      this.mouseDownInfo = null;\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      var el = this.$el.get(0);\n      if (el) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n        el.removeEventListener(\"mousedown\", this.mouseDown, {\n          passive: false\n        });\n\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n        el.removeEventListener(\"touchstart\", this.touchStart, {\n          passive: false\n        });\n      }\n      this.removeMouseMoveEventListeners();\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(positionInfo) {\n      // We may have missed mouseup (out of window)\n      if (this.isMouseStarted) {\n        this.handleMouseUp(positionInfo);\n      }\n      this.mouseDownInfo = positionInfo;\n      if (!this.mouseCapture(positionInfo)) {\n        return false;\n      }\n      this.handleStartMouse();\n      return true;\n    }\n  }, {\n    key: \"handleStartMouse\",\n    value: function handleStartMouse() {\n      document.addEventListener(\"mousemove\", this.mouseMove, {\n        passive: false\n      });\n      document.addEventListener(\"touchmove\", this.touchMove, {\n        passive: false\n      });\n      document.addEventListener(\"mouseup\", this.mouseUp, {\n        passive: false\n      });\n      document.addEventListener(\"touchend\", this.touchEnd, {\n        passive: false\n      });\n      var mouseDelay = this.getMouseDelay();\n      if (mouseDelay) {\n        this.startMouseDelayTimer(mouseDelay);\n      } else {\n        this.isMouseDelayMet = true;\n      }\n    }\n  }, {\n    key: \"startMouseDelayTimer\",\n    value: function startMouseDelayTimer(mouseDelay) {\n      var _this2 = this;\n      if (this.mouseDelayTimer) {\n        clearTimeout(this.mouseDelayTimer);\n      }\n      this.mouseDelayTimer = window.setTimeout(function () {\n        if (_this2.mouseDownInfo) {\n          _this2.isMouseDelayMet = true;\n        }\n      }, mouseDelay);\n      this.isMouseDelayMet = false;\n    }\n  }, {\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(e, positionInfo) {\n      if (this.isMouseStarted) {\n        this.mouseDrag(positionInfo);\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n        return;\n      }\n      if (!this.isMouseDelayMet) {\n        return;\n      }\n      if (this.mouseDownInfo) {\n        this.isMouseStarted = this.mouseStart(this.mouseDownInfo) !== false;\n      }\n      if (this.isMouseStarted) {\n        this.mouseDrag(positionInfo);\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n      } else {\n        this.handleMouseUp(positionInfo);\n      }\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp(positionInfo) {\n      this.removeMouseMoveEventListeners();\n      this.isMouseDelayMet = false;\n      this.mouseDownInfo = null;\n      if (this.isMouseStarted) {\n        this.isMouseStarted = false;\n        this.mouseStop(positionInfo);\n      }\n    }\n  }, {\n    key: \"removeMouseMoveEventListeners\",\n    value: function removeMouseMoveEventListeners() {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"mousemove\", this.mouseMove, {\n        passive: false\n      });\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"touchmove\", this.touchMove, {\n        passive: false\n      });\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"mouseup\", this.mouseUp, {\n        passive: false\n      });\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"touchend\", this.touchEnd, {\n        passive: false\n      });\n    }\n  }]);\n  return MouseWidget;\n}(_simple[\"default\"]);\nvar _default = MouseWidget;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPositionName = exports.getPosition = exports.Position = exports.Node = void 0;\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar Position = /*#__PURE__*/function (Position) {\n  Position[Position[\"Before\"] = 1] = \"Before\";\n  Position[Position[\"After\"] = 2] = \"After\";\n  Position[Position[\"Inside\"] = 3] = \"Inside\";\n  Position[Position[\"None\"] = 4] = \"None\";\n  return Position;\n}({});\nexports.Position = Position;\nvar positionNames = {\n  before: Position.Before,\n  after: Position.After,\n  inside: Position.Inside,\n  none: Position.None\n};\nvar getPositionName = function getPositionName(position) {\n  for (var name in positionNames) {\n    if (Object.prototype.hasOwnProperty.call(positionNames, name)) {\n      if (positionNames[name] === position) {\n        return name;\n      }\n    }\n  }\n  return \"\";\n};\nexports.getPositionName = getPositionName;\nvar getPosition = function getPosition(name) {\n  return positionNames[name];\n};\nexports.getPosition = getPosition;\nvar isNodeRecordWithChildren = function isNodeRecordWithChildren(data) {\n  return _typeof(data) === \"object\" && \"children\" in data && data[\"children\"] instanceof Array;\n};\nvar Node = /*#__PURE__*/function () {\n  function Node() {\n    var o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var isRoot = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var nodeClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Node;\n    _classCallCheck(this, Node);\n    _defineProperty(this, \"id\", void 0);\n    _defineProperty(this, \"name\", void 0);\n    _defineProperty(this, \"children\", void 0);\n    _defineProperty(this, \"parent\", void 0);\n    _defineProperty(this, \"idMapping\", void 0);\n    _defineProperty(this, \"tree\", void 0);\n    _defineProperty(this, \"nodeClass\", void 0);\n    _defineProperty(this, \"load_on_demand\", void 0);\n    _defineProperty(this, \"is_open\", void 0);\n    _defineProperty(this, \"element\", void 0);\n    _defineProperty(this, \"is_loading\", void 0);\n    _defineProperty(this, \"isEmptyFolder\", void 0);\n    this.name = \"\";\n    this.isEmptyFolder = false;\n    this.load_on_demand = false;\n    this.setData(o);\n    this.children = [];\n    this.parent = null;\n    if (isRoot) {\n      this.idMapping = new Map();\n      this.tree = this;\n      this.nodeClass = nodeClass;\n    }\n  }\n\n  /*\n  Set the data of this node.\n   setData(string): set the name of the node\n  setdata(object): set attributes of the node\n   Examples:\n      setdata('node1')\n       setData({ name: 'node1', id: 1});\n       setData({ name: 'node2', id: 2, color: 'green'});\n   * This is an internal function; it is not in the docs\n  * Does not remove existing node values\n  */\n  _createClass(Node, [{\n    key: \"setData\",\n    value: function setData(o) {\n      if (!o) {\n        return;\n      } else if (typeof o === \"string\") {\n        this.name = o;\n      } else if (_typeof(o) === \"object\") {\n        for (var _key in o) {\n          if (Object.prototype.hasOwnProperty.call(o, _key)) {\n            var value = o[_key];\n            if (_key === \"label\" || _key === \"name\") {\n              // You can use the 'label' key instead of 'name'; this is a legacy feature\n              if (typeof value === \"string\") {\n                this.name = value;\n              }\n            } else if (_key !== \"children\" && _key !== \"parent\") {\n              // You can't update the children or the parent using this function\n              this[_key] = value;\n            }\n          }\n        }\n      }\n    }\n\n    /*\n    Create tree from data.\n     Structure of data is:\n    [\n        {\n            name: 'node1',\n            children: [\n                { name: 'child1' },\n                { name: 'child2' }\n            ]\n        },\n        {\n            name: 'node2'\n        }\n    ]\n    */\n  }, {\n    key: \"loadFromData\",\n    value: function loadFromData(data) {\n      this.removeChildren();\n      var _iterator = _createForOfIteratorHelper(data),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var o = _step.value;\n          var _node = this.createNode(o);\n          this.addChild(_node);\n          if (isNodeRecordWithChildren(o)) {\n            if (o.children.length === 0) {\n              _node.isEmptyFolder = true;\n            } else {\n              _node.loadFromData(o.children);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return this;\n    }\n\n    /*\n    Add child.\n     tree.addChild(\n        new Node('child1')\n    );\n    */\n  }, {\n    key: \"addChild\",\n    value: function addChild(node) {\n      this.children.push(node);\n      node.setParent(this);\n    }\n\n    /*\n    Add child at position. Index starts at 0.\n     tree.addChildAtPosition(\n        new Node('abc'),\n        1\n    );\n    */\n  }, {\n    key: \"addChildAtPosition\",\n    value: function addChildAtPosition(node, index) {\n      this.children.splice(index, 0, node);\n      node.setParent(this);\n    }\n\n    /*\n    Remove child. This also removes the children of the node.\n     tree.removeChild(tree.children[0]);\n    */\n  }, {\n    key: \"removeChild\",\n    value: function removeChild(node) {\n      // remove children from the index\n      node.removeChildren();\n      this.doRemoveChild(node);\n    }\n\n    /*\n    Get child index.\n     var index = getChildIndex(node);\n    */\n  }, {\n    key: \"getChildIndex\",\n    value: function getChildIndex(node) {\n      return this.children.indexOf(node);\n    }\n\n    /*\n    Does the tree have children?\n     if (tree.hasChildren()) {\n        //\n    }\n    */\n  }, {\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return this.children.length !== 0;\n    }\n  }, {\n    key: \"isFolder\",\n    value: function isFolder() {\n      return this.hasChildren() || this.load_on_demand;\n    }\n\n    /*\n    Iterate over all the nodes in the tree.\n     Calls callback with (node, level).\n     The callback must return true to continue the iteration on current node.\n     tree.iterate(\n        function(node, level) {\n           console.log(node.name);\n            // stop iteration after level 2\n           return (level <= 2);\n        }\n    );\n     */\n  }, {\n    key: \"iterate\",\n    value: function iterate(callback) {\n      var _iterate = function _iterate(node, level) {\n        if (node.children) {\n          var _iterator2 = _createForOfIteratorHelper(node.children),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var child = _step2.value;\n              var result = callback(child, level);\n              if (result && child.hasChildren()) {\n                _iterate(child, level + 1);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      };\n      _iterate(this, 0);\n    }\n\n    /*\n    Move node relative to another node.\n     Argument position: Position.BEFORE, Position.AFTER or Position.Inside\n     // move node1 after node2\n    tree.moveNode(node1, node2, Position.AFTER);\n    */\n  }, {\n    key: \"moveNode\",\n    value: function moveNode(movedNode, targetNode, position) {\n      if (!movedNode.parent || movedNode.isParentOf(targetNode)) {\n        // - Node is parent of target node\n        // - Or, parent is empty\n        return false;\n      } else {\n        movedNode.parent.doRemoveChild(movedNode);\n        switch (position) {\n          case Position.After:\n            {\n              if (targetNode.parent) {\n                targetNode.parent.addChildAtPosition(movedNode, targetNode.parent.getChildIndex(targetNode) + 1);\n                return true;\n              }\n              return false;\n            }\n          case Position.Before:\n            {\n              if (targetNode.parent) {\n                targetNode.parent.addChildAtPosition(movedNode, targetNode.parent.getChildIndex(targetNode));\n                return true;\n              }\n              return false;\n            }\n          case Position.Inside:\n            {\n              // move inside as first child\n              targetNode.addChildAtPosition(movedNode, 0);\n              return true;\n            }\n          default:\n            return false;\n        }\n      }\n    }\n\n    /*\n    Get the tree as data.\n    */\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var includeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var getDataFromNodes = function getDataFromNodes(nodes) {\n        return nodes.map(function (node) {\n          var tmpNode = {};\n          for (var k in node) {\n            if ([\"parent\", \"children\", \"element\", \"idMapping\", \"load_on_demand\", \"nodeClass\", \"tree\", \"isEmptyFolder\"].indexOf(k) === -1 && Object.prototype.hasOwnProperty.call(node, k)) {\n              var v = node[k];\n              tmpNode[k] = v;\n            }\n          }\n          if (node.hasChildren()) {\n            tmpNode[\"children\"] = getDataFromNodes(node.children);\n          }\n          return tmpNode;\n        });\n      };\n      if (includeParent) {\n        return getDataFromNodes([this]);\n      } else {\n        return getDataFromNodes(this.children);\n      }\n    }\n  }, {\n    key: \"getNodeByName\",\n    value: function getNodeByName(name) {\n      return this.getNodeByCallback(function (node) {\n        return node.name === name;\n      });\n    }\n  }, {\n    key: \"getNodeByNameMustExist\",\n    value: function getNodeByNameMustExist(name) {\n      var node = this.getNodeByCallback(function (n) {\n        return n.name === name;\n      });\n      if (!node) {\n        throw \"Node with name \".concat(name, \" not found\");\n      }\n      return node;\n    }\n  }, {\n    key: \"getNodeByCallback\",\n    value: function getNodeByCallback(callback) {\n      var result = null;\n      this.iterate(function (node) {\n        if (result) {\n          return false;\n        } else if (callback(node)) {\n          result = node;\n          return false;\n        } else {\n          return true;\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"addAfter\",\n    value: function addAfter(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var _node2 = this.createNode(nodeInfo);\n        var childIndex = this.parent.getChildIndex(this);\n        this.parent.addChildAtPosition(_node2, childIndex + 1);\n        if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n          _node2.loadFromData(nodeInfo.children);\n        }\n        return _node2;\n      }\n    }\n  }, {\n    key: \"addBefore\",\n    value: function addBefore(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var _node3 = this.createNode(nodeInfo);\n        var childIndex = this.parent.getChildIndex(this);\n        this.parent.addChildAtPosition(_node3, childIndex);\n        if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n          _node3.loadFromData(nodeInfo.children);\n        }\n        return _node3;\n      }\n    }\n  }, {\n    key: \"addParent\",\n    value: function addParent(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var newParent = this.createNode(nodeInfo);\n        if (this.tree) {\n          newParent.setParent(this.tree);\n        }\n        var originalParent = this.parent;\n        var _iterator3 = _createForOfIteratorHelper(originalParent.children),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var child = _step3.value;\n            newParent.addChild(child);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        originalParent.children = [];\n        originalParent.addChild(newParent);\n        return newParent;\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n        this.parent = null;\n      }\n    }\n  }, {\n    key: \"append\",\n    value: function append(nodeInfo) {\n      var node = this.createNode(nodeInfo);\n      this.addChild(node);\n      if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n        node.loadFromData(nodeInfo.children);\n      }\n      return node;\n    }\n  }, {\n    key: \"prepend\",\n    value: function prepend(nodeInfo) {\n      var node = this.createNode(nodeInfo);\n      this.addChildAtPosition(node, 0);\n      if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n        node.loadFromData(nodeInfo.children);\n      }\n      return node;\n    }\n  }, {\n    key: \"isParentOf\",\n    value: function isParentOf(node) {\n      var parent = node.parent;\n      while (parent) {\n        if (parent === this) {\n          return true;\n        }\n        parent = parent.parent;\n      }\n      return false;\n    }\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      var level = 0;\n      var node = this; // eslint-disable-line @typescript-eslint/no-this-alias\n\n      while (node.parent) {\n        level += 1;\n        node = node.parent;\n      }\n      return level;\n    }\n  }, {\n    key: \"getNodeById\",\n    value: function getNodeById(nodeId) {\n      return this.idMapping.get(nodeId) || null;\n    }\n  }, {\n    key: \"addNodeToIndex\",\n    value: function addNodeToIndex(node) {\n      if (node.id != null) {\n        this.idMapping.set(node.id, node);\n      }\n    }\n  }, {\n    key: \"removeNodeFromIndex\",\n    value: function removeNodeFromIndex(node) {\n      if (node.id != null) {\n        this.idMapping[\"delete\"](node.id);\n      }\n    }\n  }, {\n    key: \"removeChildren\",\n    value: function removeChildren() {\n      var _this = this;\n      this.iterate(function (child) {\n        var _this$tree;\n        (_this$tree = _this.tree) === null || _this$tree === void 0 ? void 0 : _this$tree.removeNodeFromIndex(child);\n        return true;\n      });\n      this.children = [];\n    }\n  }, {\n    key: \"getPreviousSibling\",\n    value: function getPreviousSibling() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousIndex = this.parent.getChildIndex(this) - 1;\n        if (previousIndex >= 0) {\n          return this.parent.children[previousIndex] || null;\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"getNextSibling\",\n    value: function getNextSibling() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var nextIndex = this.parent.getChildIndex(this) + 1;\n        if (nextIndex < this.parent.children.length) {\n          return this.parent.children[nextIndex] || null;\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"getNodesByProperty\",\n    value: function getNodesByProperty(key, value) {\n      return this.filter(function (node) {\n        return node[key] === value;\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(f) {\n      var result = [];\n      this.iterate(function (node) {\n        if (f(node)) {\n          result.push(node);\n        }\n        return true;\n      });\n      return result;\n    }\n  }, {\n    key: \"getNextNode\",\n    value: function getNextNode() {\n      var includeChildren = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (includeChildren && this.hasChildren()) {\n        return this.children[0] || null;\n      } else if (!this.parent) {\n        return null;\n      } else {\n        var nextSibling = this.getNextSibling();\n        if (nextSibling) {\n          return nextSibling;\n        } else {\n          return this.parent.getNextNode(false);\n        }\n      }\n    }\n  }, {\n    key: \"getNextVisibleNode\",\n    value: function getNextVisibleNode() {\n      if (this.hasChildren() && this.is_open) {\n        // First child\n        return this.children[0] || null;\n      } else {\n        if (!this.parent) {\n          return null;\n        } else {\n          var nextSibling = this.getNextSibling();\n          if (nextSibling) {\n            // Next sibling\n            return nextSibling;\n          } else {\n            // Next node of parent\n            return this.parent.getNextNode(false);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getPreviousNode\",\n    value: function getPreviousNode() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousSibling = this.getPreviousSibling();\n        if (!previousSibling) {\n          return this.getParent();\n        } else if (previousSibling.hasChildren()) {\n          return previousSibling.getLastChild();\n        } else {\n          return previousSibling;\n        }\n      }\n    }\n  }, {\n    key: \"getPreviousVisibleNode\",\n    value: function getPreviousVisibleNode() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousSibling = this.getPreviousSibling();\n        if (!previousSibling) {\n          return this.getParent();\n        } else if (!previousSibling.hasChildren() || !previousSibling.is_open) {\n          // Previous sibling\n          return previousSibling;\n        } else {\n          // Last child of previous sibling\n          return previousSibling.getLastChild();\n        }\n      }\n    }\n  }, {\n    key: \"getParent\",\n    value: function getParent() {\n      // Return parent except if it is the root node\n      if (!this.parent) {\n        return null;\n      } else if (!this.parent.parent) {\n        // Root node -> null\n        return null;\n      } else {\n        return this.parent;\n      }\n    }\n  }, {\n    key: \"getLastChild\",\n    value: function getLastChild() {\n      if (!this.hasChildren()) {\n        return null;\n      } else {\n        var lastChild = this.children[this.children.length - 1];\n        if (!lastChild) {\n          return null;\n        }\n        if (!(lastChild.hasChildren() && lastChild.is_open)) {\n          return lastChild;\n        } else {\n          return lastChild === null || lastChild === void 0 ? void 0 : lastChild.getLastChild();\n        }\n      }\n    }\n\n    // Init Node from data without making it the root of the tree\n  }, {\n    key: \"initFromData\",\n    value: function initFromData(data) {\n      var _this2 = this;\n      var addNode = function addNode(nodeData) {\n        _this2.setData(nodeData);\n        if (isNodeRecordWithChildren(nodeData) && nodeData.children.length) {\n          addChildren(nodeData.children);\n        }\n      };\n      var addChildren = function addChildren(childrenData) {\n        var _iterator4 = _createForOfIteratorHelper(childrenData),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var child = _step4.value;\n            var _node4 = _this2.createNode();\n            _node4.initFromData(child);\n            _this2.addChild(_node4);\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      };\n      addNode(data);\n    }\n  }, {\n    key: \"setParent\",\n    value: function setParent(parent) {\n      var _this$tree2;\n      this.parent = parent;\n      this.tree = parent.tree;\n      (_this$tree2 = this.tree) === null || _this$tree2 === void 0 ? void 0 : _this$tree2.addNodeToIndex(this);\n    }\n  }, {\n    key: \"doRemoveChild\",\n    value: function doRemoveChild(node) {\n      var _this$tree3;\n      this.children.splice(this.getChildIndex(node), 1);\n      (_this$tree3 = this.tree) === null || _this$tree3 === void 0 ? void 0 : _this$tree3.removeNodeFromIndex(node);\n    }\n  }, {\n    key: \"getNodeClass\",\n    value: function getNodeClass() {\n      var _this$tree4;\n      return this.nodeClass || (this === null || this === void 0 || (_this$tree4 = this.tree) === null || _this$tree4 === void 0 ? void 0 : _this$tree4.nodeClass) || Node;\n    }\n  }, {\n    key: \"createNode\",\n    value: function createNode(nodeData) {\n      var nodeClass = this.getNodeClass();\n      return new nodeClass(nodeData);\n    }\n  }]);\n  return Node;\n}();\nexports.Node = Node;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NodeElement = exports.FolderElement = exports.BorderDropHint = void 0;\nvar _node = require(\"./node\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar NodeElement = /*#__PURE__*/function () {\n  function NodeElement(node, treeWidget) {\n    _classCallCheck(this, NodeElement);\n    _defineProperty(this, \"node\", void 0);\n    _defineProperty(this, \"$element\", void 0);\n    _defineProperty(this, \"treeWidget\", void 0);\n    this.init(node, treeWidget);\n  }\n  _createClass(NodeElement, [{\n    key: \"init\",\n    value: function init(node, treeWidget) {\n      this.node = node;\n      this.treeWidget = treeWidget;\n      if (!node.element) {\n        var element = this.treeWidget.element.get(0);\n        if (element) {\n          node.element = element;\n        }\n      }\n      if (node.element) {\n        this.$element = jQuery(node.element);\n      }\n    }\n  }, {\n    key: \"addDropHint\",\n    value: function addDropHint(position) {\n      if (this.mustShowBorderDropHint(position)) {\n        return new BorderDropHint(this.$element, this.treeWidget._getScrollLeft());\n      } else {\n        return new GhostDropHint(this.node, this.$element, position);\n      }\n    }\n  }, {\n    key: \"select\",\n    value: function select(mustSetFocus) {\n      var _this$treeWidget$opti;\n      var $li = this.getLi();\n      $li.addClass(\"jqtree-selected\");\n      var $span = this.getSpan();\n      $span.attr(\"tabindex\", (_this$treeWidget$opti = this.treeWidget.options.tabIndex) !== null && _this$treeWidget$opti !== void 0 ? _this$treeWidget$opti : null);\n      $span.attr(\"aria-selected\", \"true\");\n      if (mustSetFocus) {\n        $span.trigger(\"focus\");\n      }\n    }\n  }, {\n    key: \"deselect\",\n    value: function deselect() {\n      var $li = this.getLi();\n      $li.removeClass(\"jqtree-selected\");\n      var $span = this.getSpan();\n      $span.removeAttr(\"tabindex\");\n      $span.attr(\"aria-selected\", \"false\");\n      $span.trigger(\"blur\");\n    }\n  }, {\n    key: \"getUl\",\n    value: function getUl() {\n      return this.$element.children(\"ul:first\");\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan() {\n      return this.$element.children(\".jqtree-element\").find(\"span.jqtree-title\");\n    }\n  }, {\n    key: \"getLi\",\n    value: function getLi() {\n      return this.$element;\n    }\n  }, {\n    key: \"mustShowBorderDropHint\",\n    value: function mustShowBorderDropHint(position) {\n      return position === _node.Position.Inside;\n    }\n  }]);\n  return NodeElement;\n}();\nexports.NodeElement = NodeElement;\nvar FolderElement = /*#__PURE__*/function (_NodeElement) {\n  _inherits(FolderElement, _NodeElement);\n  var _super = _createSuper(FolderElement);\n  function FolderElement() {\n    _classCallCheck(this, FolderElement);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FolderElement, [{\n    key: \"open\",\n    value: function open(onFinished) {\n      var _this = this;\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var animationSpeed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"fast\";\n      if (this.node.is_open) {\n        return;\n      }\n      this.node.is_open = true;\n      var $button = this.getButton();\n      $button.removeClass(\"jqtree-closed\");\n      $button.html(\"\");\n      var buttonEl = $button.get(0);\n      if (buttonEl) {\n        var openedIconElement = this.treeWidget.renderer.openedIconElement;\n        if (openedIconElement) {\n          var icon = openedIconElement.cloneNode(true);\n          buttonEl.appendChild(icon);\n        }\n      }\n      var doOpen = function doOpen() {\n        var $li = _this.getLi();\n        $li.removeClass(\"jqtree-closed\");\n        var $titleSpan = _this.getSpan();\n        $titleSpan.attr(\"aria-expanded\", \"true\");\n        if (onFinished) {\n          onFinished(_this.node);\n        }\n        _this.treeWidget._triggerEvent(\"tree.open\", {\n          node: _this.node\n        });\n      };\n      if (slide) {\n        this.getUl().slideDown(animationSpeed, doOpen);\n      } else {\n        this.getUl().show();\n        doOpen();\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this2 = this;\n      var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var animationSpeed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"fast\";\n      if (!this.node.is_open) {\n        return;\n      }\n      this.node.is_open = false;\n      var $button = this.getButton();\n      $button.addClass(\"jqtree-closed\");\n      $button.html(\"\");\n      var buttonEl = $button.get(0);\n      if (buttonEl) {\n        var closedIconElement = this.treeWidget.renderer.closedIconElement;\n        if (closedIconElement) {\n          var icon = closedIconElement.cloneNode(true);\n          buttonEl.appendChild(icon);\n        }\n      }\n      var doClose = function doClose() {\n        var $li = _this2.getLi();\n        $li.addClass(\"jqtree-closed\");\n        var $titleSpan = _this2.getSpan();\n        $titleSpan.attr(\"aria-expanded\", \"false\");\n        _this2.treeWidget._triggerEvent(\"tree.close\", {\n          node: _this2.node\n        });\n      };\n      if (slide) {\n        this.getUl().slideUp(animationSpeed, doClose);\n      } else {\n        this.getUl().hide();\n        doClose();\n      }\n    }\n  }, {\n    key: \"mustShowBorderDropHint\",\n    value: function mustShowBorderDropHint(position) {\n      return !this.node.is_open && position === _node.Position.Inside;\n    }\n  }, {\n    key: \"getButton\",\n    value: function getButton() {\n      return this.$element.children(\".jqtree-element\").find(\"a.jqtree-toggler\");\n    }\n  }]);\n  return FolderElement;\n}(NodeElement);\nexports.FolderElement = FolderElement;\nvar BorderDropHint = /*#__PURE__*/function () {\n  function BorderDropHint($element, scrollLeft) {\n    _classCallCheck(this, BorderDropHint);\n    _defineProperty(this, \"$hint\", void 0);\n    var $div = $element.children(\".jqtree-element\");\n    var elWidth = $element.width() || 0;\n    var width = Math.max(elWidth + scrollLeft - 4, 0);\n    var elHeight = $div.outerHeight() || 0;\n    var height = Math.max(elHeight - 4, 0);\n    this.$hint = jQuery('<span class=\"jqtree-border\"></span>');\n    $div.append(this.$hint);\n    this.$hint.css({\n      width: width,\n      height: height\n    });\n  }\n  _createClass(BorderDropHint, [{\n    key: \"remove\",\n    value: function remove() {\n      this.$hint.remove();\n    }\n  }]);\n  return BorderDropHint;\n}();\nexports.BorderDropHint = BorderDropHint;\nvar GhostDropHint = /*#__PURE__*/function () {\n  function GhostDropHint(node, $element, position) {\n    _classCallCheck(this, GhostDropHint);\n    _defineProperty(this, \"$element\", void 0);\n    _defineProperty(this, \"node\", void 0);\n    _defineProperty(this, \"$ghost\", void 0);\n    this.$element = $element;\n    this.node = node;\n    this.$ghost = jQuery(\"<li class=\\\"jqtree_common jqtree-ghost\\\"><span class=\\\"jqtree_common jqtree-circle\\\"></span>\\n            <span class=\\\"jqtree_common jqtree-line\\\"></span></li>\");\n    if (position === _node.Position.After) {\n      this.moveAfter();\n    } else if (position === _node.Position.Before) {\n      this.moveBefore();\n    } else if (position === _node.Position.Inside) {\n      if (node.isFolder() && node.is_open) {\n        this.moveInsideOpenFolder();\n      } else {\n        this.moveInside();\n      }\n    }\n  }\n  _createClass(GhostDropHint, [{\n    key: \"remove\",\n    value: function remove() {\n      this.$ghost.remove();\n    }\n  }, {\n    key: \"moveAfter\",\n    value: function moveAfter() {\n      this.$element.after(this.$ghost);\n    }\n  }, {\n    key: \"moveBefore\",\n    value: function moveBefore() {\n      this.$element.before(this.$ghost);\n    }\n  }, {\n    key: \"moveInsideOpenFolder\",\n    value: function moveInsideOpenFolder() {\n      var _this$node$children$;\n      var childElement = (_this$node$children$ = this.node.children[0]) === null || _this$node$children$ === void 0 ? void 0 : _this$node$children$.element;\n      if (childElement) {\n        jQuery(childElement).before(this.$ghost);\n      }\n    }\n  }, {\n    key: \"moveInside\",\n    value: function moveInside() {\n      this.$element.after(this.$ghost);\n      this.$ghost.addClass(\"jqtree-inside\");\n    }\n  }]);\n  return GhostDropHint;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _util = require(\"./util\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar SaveStateHandler = /*#__PURE__*/function () {\n  function SaveStateHandler(treeWidget) {\n    _classCallCheck(this, SaveStateHandler);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"_supportsLocalStorage\", void 0);\n    this.treeWidget = treeWidget;\n  }\n  _createClass(SaveStateHandler, [{\n    key: \"saveState\",\n    value: function saveState() {\n      var state = JSON.stringify(this.getState());\n      if (this.treeWidget.options.onSetStateFromStorage) {\n        this.treeWidget.options.onSetStateFromStorage(state);\n      } else if (this.supportsLocalStorage()) {\n        localStorage.setItem(this.getKeyName(), state);\n      }\n    }\n  }, {\n    key: \"getStateFromStorage\",\n    value: function getStateFromStorage() {\n      var jsonData = this.loadFromStorage();\n      if (jsonData) {\n        return this.parseState(jsonData);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      var _this = this;\n      var getOpenNodeIds = function getOpenNodeIds() {\n        var openNodes = [];\n        _this.treeWidget.tree.iterate(function (node) {\n          if (node.is_open && node.id && node.hasChildren()) {\n            openNodes.push(node.id);\n          }\n          return true;\n        });\n        return openNodes;\n      };\n      var getSelectedNodeIds = function getSelectedNodeIds() {\n        var selectedNodeIds = [];\n        _this.treeWidget.getSelectedNodes().forEach(function (node) {\n          if (node.id != null) {\n            selectedNodeIds.push(node.id);\n          }\n        });\n        return selectedNodeIds;\n      };\n      return {\n        open_nodes: getOpenNodeIds(),\n        selected_node: getSelectedNodeIds()\n      };\n    }\n\n    /*\n    Set initial state\n    Don't handle nodes that are loaded on demand\n     result: must load on demand\n    */\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState(state) {\n      if (!state) {\n        return false;\n      } else {\n        var mustLoadOnDemand = false;\n        if (state.open_nodes) {\n          mustLoadOnDemand = this.openInitialNodes(state.open_nodes);\n        }\n        if (state.selected_node) {\n          this.resetSelection();\n          this.selectInitialNodes(state.selected_node);\n        }\n        return mustLoadOnDemand;\n      }\n    }\n  }, {\n    key: \"setInitialStateOnDemand\",\n    value: function setInitialStateOnDemand(state, cbFinished) {\n      if (state) {\n        this.doSetInitialStateOnDemand(state.open_nodes, state.selected_node, cbFinished);\n      } else {\n        cbFinished();\n      }\n    }\n  }, {\n    key: \"getNodeIdToBeSelected\",\n    value: function getNodeIdToBeSelected() {\n      var state = this.getStateFromStorage();\n      if (state && state.selected_node) {\n        return state.selected_node[0] || null;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"parseState\",\n    value: function parseState(jsonData) {\n      var state = JSON.parse(jsonData);\n\n      // Check if selected_node is an int (instead of an array)\n      if (state && state.selected_node && (0, _util.isInt)(state.selected_node)) {\n        // Convert to array\n        state.selected_node = [state.selected_node];\n      }\n      return state;\n    }\n  }, {\n    key: \"loadFromStorage\",\n    value: function loadFromStorage() {\n      if (this.treeWidget.options.onGetStateFromStorage) {\n        return this.treeWidget.options.onGetStateFromStorage();\n      } else if (this.supportsLocalStorage()) {\n        return localStorage.getItem(this.getKeyName());\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"openInitialNodes\",\n    value: function openInitialNodes(nodeIds) {\n      var mustLoadOnDemand = false;\n      var _iterator = _createForOfIteratorHelper(nodeIds),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var nodeId = _step.value;\n          var node = this.treeWidget.getNodeById(nodeId);\n          if (node) {\n            if (!node.load_on_demand) {\n              node.is_open = true;\n            } else {\n              mustLoadOnDemand = true;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return mustLoadOnDemand;\n    }\n  }, {\n    key: \"selectInitialNodes\",\n    value: function selectInitialNodes(nodeIds) {\n      var selectCount = 0;\n      var _iterator2 = _createForOfIteratorHelper(nodeIds),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var nodeId = _step2.value;\n          var node = this.treeWidget.getNodeById(nodeId);\n          if (node) {\n            selectCount += 1;\n            this.treeWidget.selectNodeHandler.addToSelection(node);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return selectCount !== 0;\n    }\n  }, {\n    key: \"resetSelection\",\n    value: function resetSelection() {\n      var selectNodeHandler = this.treeWidget.selectNodeHandler;\n      var selectedNodes = selectNodeHandler.getSelectedNodes();\n      selectedNodes.forEach(function (node) {\n        selectNodeHandler.removeFromSelection(node);\n      });\n    }\n  }, {\n    key: \"doSetInitialStateOnDemand\",\n    value: function doSetInitialStateOnDemand(nodeIdsParam, selectedNodes, cbFinished) {\n      var _this2 = this;\n      var loadingCount = 0;\n      var nodeIds = nodeIdsParam;\n      var openNodes = function openNodes() {\n        var newNodesIds = [];\n        var _iterator3 = _createForOfIteratorHelper(nodeIds),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var nodeId = _step3.value;\n            var node = _this2.treeWidget.getNodeById(nodeId);\n            if (!node) {\n              newNodesIds.push(nodeId);\n            } else {\n              if (!node.is_loading) {\n                if (node.load_on_demand) {\n                  loadAndOpenNode(node);\n                } else {\n                  _this2.treeWidget._openNode(node, false, null);\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        nodeIds = newNodesIds;\n        if (_this2.selectInitialNodes(selectedNodes)) {\n          _this2.treeWidget._refreshElements(null);\n        }\n        if (loadingCount === 0) {\n          cbFinished();\n        }\n      };\n      var loadAndOpenNode = function loadAndOpenNode(node) {\n        loadingCount += 1;\n        _this2.treeWidget._openNode(node, false, function () {\n          loadingCount -= 1;\n          openNodes();\n        });\n      };\n      openNodes();\n    }\n  }, {\n    key: \"getKeyName\",\n    value: function getKeyName() {\n      if (typeof this.treeWidget.options.saveState === \"string\") {\n        return this.treeWidget.options.saveState;\n      } else {\n        return \"tree\";\n      }\n    }\n  }, {\n    key: \"supportsLocalStorage\",\n    value: function supportsLocalStorage() {\n      var testSupport = function testSupport() {\n        // Is local storage supported?\n        if (localStorage == null) {\n          return false;\n        } else {\n          // Check if it's possible to store an item. Safari does not allow this in private browsing mode.\n          try {\n            var key = \"_storage_test\";\n            sessionStorage.setItem(key, \"value\");\n            sessionStorage.removeItem(key);\n          } catch (error) {\n            return false;\n          }\n          return true;\n        }\n      };\n      if (this._supportsLocalStorage == null) {\n        this._supportsLocalStorage = testSupport();\n      }\n      return this._supportsLocalStorage;\n    }\n  }]);\n  return SaveStateHandler;\n}();\nexports[\"default\"] = SaveStateHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar ScrollHandler = /*#__PURE__*/function () {\n  function ScrollHandler(treeWidget) {\n    _classCallCheck(this, ScrollHandler);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"previousTop\", void 0);\n    _defineProperty(this, \"isInitialized\", void 0);\n    _defineProperty(this, \"$scrollParent\", void 0);\n    _defineProperty(this, \"scrollParentTop\", void 0);\n    this.treeWidget = treeWidget;\n    this.previousTop = -1;\n    this.isInitialized = false;\n  }\n  _createClass(ScrollHandler, [{\n    key: \"checkScrolling\",\n    value: function checkScrolling() {\n      this.ensureInit();\n      this.checkVerticalScrolling();\n      this.checkHorizontalScrolling();\n    }\n  }, {\n    key: \"scrollToY\",\n    value: function scrollToY(top) {\n      this.ensureInit();\n      if (this.$scrollParent && this.$scrollParent[0]) {\n        this.$scrollParent[0].scrollTop = top;\n      } else {\n        var offset = this.treeWidget.$el.offset();\n        var treeTop = offset ? offset.top : 0;\n        jQuery(document).scrollTop(top + treeTop);\n      }\n    }\n  }, {\n    key: \"isScrolledIntoView\",\n    value: function isScrolledIntoView($element) {\n      this.ensureInit();\n      var elementBottom;\n      var viewBottom;\n      var elementTop;\n      var viewTop;\n      var elHeight = $element.height() || 0;\n      if (this.$scrollParent) {\n        viewTop = 0;\n        viewBottom = this.$scrollParent.height() || 0;\n        var offset = $element.offset();\n        var originalTop = offset ? offset.top : 0;\n        elementTop = originalTop - this.scrollParentTop;\n        elementBottom = elementTop + elHeight;\n      } else {\n        viewTop = jQuery(window).scrollTop() || 0;\n        var windowHeight = jQuery(window).height() || 0;\n        viewBottom = viewTop + windowHeight;\n        var _offset = $element.offset();\n        elementTop = _offset ? _offset.top : 0;\n        elementBottom = elementTop + elHeight;\n      }\n      return elementBottom <= viewBottom && elementTop >= viewTop;\n    }\n  }, {\n    key: \"getScrollLeft\",\n    value: function getScrollLeft() {\n      if (!this.$scrollParent) {\n        return 0;\n      } else {\n        return this.$scrollParent.scrollLeft() || 0;\n      }\n    }\n  }, {\n    key: \"initScrollParent\",\n    value: function initScrollParent() {\n      var _this = this,\n        _$scrollParent$;\n      var getParentWithOverflow = function getParentWithOverflow() {\n        var cssAttributes = [\"overflow\", \"overflow-y\"];\n        var hasOverFlow = function hasOverFlow($el) {\n          for (var _i = 0, _cssAttributes = cssAttributes; _i < _cssAttributes.length; _i++) {\n            var attr = _cssAttributes[_i];\n            var overflowValue = $el.css(attr);\n            if (overflowValue === \"auto\" || overflowValue === \"scroll\") {\n              return true;\n            }\n          }\n          return false;\n        };\n        if (hasOverFlow(_this.treeWidget.$el)) {\n          return _this.treeWidget.$el;\n        }\n        var _iterator = _createForOfIteratorHelper(_this.treeWidget.$el.parents().get()),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var el = _step.value;\n            var $el = jQuery(el);\n            if (hasOverFlow($el)) {\n              return $el;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        return null;\n      };\n      var setDocumentAsScrollParent = function setDocumentAsScrollParent() {\n        _this.scrollParentTop = 0;\n        _this.$scrollParent = null;\n      };\n      if (this.treeWidget.$el.css(\"position\") === \"fixed\") {\n        setDocumentAsScrollParent();\n      }\n      var $scrollParent = getParentWithOverflow();\n      if ($scrollParent && $scrollParent.length && ((_$scrollParent$ = $scrollParent[0]) === null || _$scrollParent$ === void 0 ? void 0 : _$scrollParent$.tagName) !== \"HTML\") {\n        this.$scrollParent = $scrollParent;\n        var offset = this.$scrollParent.offset();\n        this.scrollParentTop = offset ? offset.top : 0;\n      } else {\n        setDocumentAsScrollParent();\n      }\n      this.isInitialized = true;\n    }\n  }, {\n    key: \"ensureInit\",\n    value: function ensureInit() {\n      if (!this.isInitialized) {\n        this.initScrollParent();\n      }\n    }\n  }, {\n    key: \"handleVerticalScrollingWithScrollParent\",\n    value: function handleVerticalScrollingWithScrollParent(area) {\n      var scrollParent = this.$scrollParent && this.$scrollParent[0];\n      if (!scrollParent) {\n        return;\n      }\n      var distanceBottom = this.scrollParentTop + scrollParent.offsetHeight - area.bottom;\n      if (distanceBottom < 20) {\n        scrollParent.scrollTop += 20;\n        this.treeWidget.refreshHitAreas();\n        this.previousTop = -1;\n      } else if (area.top - this.scrollParentTop < 20) {\n        scrollParent.scrollTop -= 20;\n        this.treeWidget.refreshHitAreas();\n        this.previousTop = -1;\n      }\n    }\n  }, {\n    key: \"handleVerticalScrollingWithDocument\",\n    value: function handleVerticalScrollingWithDocument(area) {\n      var scrollTop = jQuery(document).scrollTop() || 0;\n      var distanceTop = area.top - scrollTop;\n      if (distanceTop < 20) {\n        jQuery(document).scrollTop(scrollTop - 20);\n      } else {\n        var windowHeight = jQuery(window).height() || 0;\n        if (windowHeight - (area.bottom - scrollTop) < 20) {\n          jQuery(document).scrollTop(scrollTop + 20);\n        }\n      }\n    }\n  }, {\n    key: \"checkVerticalScrolling\",\n    value: function checkVerticalScrolling() {\n      var hoveredArea = this.treeWidget.dndHandler.hoveredArea;\n      if (hoveredArea && hoveredArea.top !== this.previousTop) {\n        this.previousTop = hoveredArea.top;\n        if (this.$scrollParent) {\n          this.handleVerticalScrollingWithScrollParent(hoveredArea);\n        } else {\n          this.handleVerticalScrollingWithDocument(hoveredArea);\n        }\n      }\n    }\n  }, {\n    key: \"checkHorizontalScrolling\",\n    value: function checkHorizontalScrolling() {\n      var positionInfo = this.treeWidget.dndHandler.positionInfo;\n      if (!positionInfo) {\n        return;\n      }\n      if (this.$scrollParent) {\n        this.handleHorizontalScrollingWithParent(positionInfo);\n      } else {\n        this.handleHorizontalScrollingWithDocument(positionInfo);\n      }\n    }\n  }, {\n    key: \"handleHorizontalScrollingWithParent\",\n    value: function handleHorizontalScrollingWithParent(positionInfo) {\n      if (positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return;\n      }\n      var $scrollParent = this.$scrollParent;\n      var scrollParentOffset = $scrollParent && $scrollParent.offset();\n      if (!($scrollParent && scrollParentOffset)) {\n        return;\n      }\n      var scrollParent = $scrollParent[0];\n      if (!scrollParent) {\n        return;\n      }\n      var canScrollRight = scrollParent.scrollLeft + scrollParent.clientWidth < scrollParent.scrollWidth;\n      var canScrollLeft = scrollParent.scrollLeft > 0;\n      var rightEdge = scrollParentOffset.left + scrollParent.clientWidth;\n      var leftEdge = scrollParentOffset.left;\n      var isNearRightEdge = positionInfo.pageX > rightEdge - 20;\n      var isNearLeftEdge = positionInfo.pageX < leftEdge + 20;\n      if (isNearRightEdge && canScrollRight) {\n        scrollParent.scrollLeft = Math.min(scrollParent.scrollLeft + 20, scrollParent.scrollWidth);\n      } else if (isNearLeftEdge && canScrollLeft) {\n        scrollParent.scrollLeft = Math.max(scrollParent.scrollLeft - 20, 0);\n      }\n    }\n  }, {\n    key: \"handleHorizontalScrollingWithDocument\",\n    value: function handleHorizontalScrollingWithDocument(positionInfo) {\n      if (positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return;\n      }\n      var $document = jQuery(document);\n      var scrollLeft = $document.scrollLeft() || 0;\n      var windowWidth = jQuery(window).width() || 0;\n      var canScrollLeft = scrollLeft > 0;\n      var isNearRightEdge = positionInfo.pageX > windowWidth - 20;\n      var isNearLeftEdge = positionInfo.pageX - scrollLeft < 20;\n      if (isNearRightEdge) {\n        $document.scrollLeft(scrollLeft + 20);\n      } else if (isNearLeftEdge && canScrollLeft) {\n        $document.scrollLeft(Math.max(scrollLeft - 20, 0));\n      }\n    }\n  }]);\n  return ScrollHandler;\n}();\nexports[\"default\"] = ScrollHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar SelectNodeHandler = /*#__PURE__*/function () {\n  function SelectNodeHandler(treeWidget) {\n    _classCallCheck(this, SelectNodeHandler);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"selectedNodes\", void 0);\n    _defineProperty(this, \"selectedSingleNode\", void 0);\n    this.treeWidget = treeWidget;\n    this.selectedNodes = new Set();\n    this.clear();\n  }\n  _createClass(SelectNodeHandler, [{\n    key: \"getSelectedNode\",\n    value: function getSelectedNode() {\n      var selectedNodes = this.getSelectedNodes();\n      if (selectedNodes.length) {\n        return selectedNodes[0] || false;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getSelectedNodes\",\n    value: function getSelectedNodes() {\n      var _this = this;\n      if (this.selectedSingleNode) {\n        return [this.selectedSingleNode];\n      } else {\n        var selectedNodes = [];\n        this.selectedNodes.forEach(function (id) {\n          var node = _this.treeWidget.getNodeById(id);\n          if (node) {\n            selectedNodes.push(node);\n          }\n        });\n        return selectedNodes;\n      }\n    }\n  }, {\n    key: \"getSelectedNodesUnder\",\n    value: function getSelectedNodesUnder(parent) {\n      if (this.selectedSingleNode) {\n        if (parent.isParentOf(this.selectedSingleNode)) {\n          return [this.selectedSingleNode];\n        } else {\n          return [];\n        }\n      } else {\n        var selectedNodes = [];\n        for (var id in this.selectedNodes) {\n          if (Object.prototype.hasOwnProperty.call(this.selectedNodes, id)) {\n            var node = this.treeWidget.getNodeById(id);\n            if (node && parent.isParentOf(node)) {\n              selectedNodes.push(node);\n            }\n          }\n        }\n        return selectedNodes;\n      }\n    }\n  }, {\n    key: \"isNodeSelected\",\n    value: function isNodeSelected(node) {\n      if (node.id != null) {\n        return this.selectedNodes.has(node.id);\n      } else if (this.selectedSingleNode) {\n        return this.selectedSingleNode.element === node.element;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.selectedNodes.clear();\n      this.selectedSingleNode = null;\n    }\n  }, {\n    key: \"removeFromSelection\",\n    value: function removeFromSelection(node) {\n      var _this2 = this;\n      var includeChildren = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (node.id == null) {\n        if (this.selectedSingleNode && node.element === this.selectedSingleNode.element) {\n          this.selectedSingleNode = null;\n        }\n      } else {\n        this.selectedNodes[\"delete\"](node.id);\n        if (includeChildren) {\n          node.iterate(function () {\n            if (node.id != null) {\n              _this2.selectedNodes[\"delete\"](node.id);\n            }\n            return true;\n          });\n        }\n      }\n    }\n  }, {\n    key: \"addToSelection\",\n    value: function addToSelection(node) {\n      if (node.id != null) {\n        this.selectedNodes.add(node.id);\n      } else {\n        this.selectedSingleNode = node;\n      }\n    }\n  }, {\n    key: \"isFocusOnTree\",\n    value: function isFocusOnTree() {\n      var activeElement = document.activeElement;\n      return Boolean(activeElement && activeElement.tagName === \"SPAN\" && this.treeWidget._containsElement(activeElement));\n    }\n  }]);\n  return SelectNodeHandler;\n}();\nexports[\"default\"] = SelectNodeHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar _register = function register(widgetClass, widgetName) {\n  var getDataKey = function getDataKey() {\n    return \"simple_widget_\".concat(widgetName);\n  };\n  var getWidgetData = function getWidgetData(el, dataKey) {\n    var widget = jQuery.data(el, dataKey);\n    if (widget && widget instanceof SimpleWidget) {\n      return widget;\n    } else {\n      return null;\n    }\n  };\n  var createWidget = function createWidget($el, options) {\n    var dataKey = getDataKey();\n    var _iterator = _createForOfIteratorHelper($el.get()),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var el = _step.value;\n        var existingWidget = getWidgetData(el, dataKey);\n        if (!existingWidget) {\n          var simpleWidgetClass = widgetClass;\n          var widget = new simpleWidgetClass(el, options);\n          if (!jQuery.data(el, dataKey)) {\n            jQuery.data(el, dataKey, widget);\n          }\n\n          // Call init after setting data, so we can call methods\n          widget.init();\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return $el;\n  };\n  var destroyWidget = function destroyWidget($el) {\n    var dataKey = getDataKey();\n    var _iterator2 = _createForOfIteratorHelper($el.get()),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var el = _step2.value;\n        var widget = getWidgetData(el, dataKey);\n        if (widget) {\n          widget.destroy();\n        }\n        jQuery.removeData(el, dataKey);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n  var callFunction = function callFunction($el, functionName, args) {\n    var result = null;\n    var _iterator3 = _createForOfIteratorHelper($el.get()),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var el = _step3.value;\n        var widget = jQuery.data(el, getDataKey());\n        if (widget && widget instanceof SimpleWidget) {\n          var simpleWidget = widget;\n          var widgetFunction = simpleWidget[functionName];\n          if (widgetFunction && typeof widgetFunction === \"function\") {\n            result = widgetFunction.apply(widget, args);\n          }\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    return result;\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  jQuery.fn[widgetName] = function (argument1) {\n    if (!argument1) {\n      return createWidget(this, null);\n    } else if (_typeof(argument1) === \"object\") {\n      var options = argument1;\n      return createWidget(this, options);\n    } else if (typeof argument1 === \"string\" && argument1[0] !== \"_\") {\n      var functionName = argument1;\n      if (functionName === \"destroy\") {\n        return destroyWidget(this);\n      } else if (functionName === \"get_widget_class\") {\n        return widgetClass;\n      } else {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return callFunction(this, functionName, args);\n      }\n    } else {\n      return undefined;\n    }\n  };\n};\nvar SimpleWidget = /*#__PURE__*/function () {\n  function SimpleWidget(el, options) {\n    _classCallCheck(this, SimpleWidget);\n    _defineProperty(this, \"options\", void 0);\n    _defineProperty(this, \"$el\", void 0);\n    this.$el = jQuery(el);\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    var defaults = this.constructor[\"defaults\"];\n    this.options = _objectSpread(_objectSpread({}, defaults), options);\n  }\n  _createClass(SimpleWidget, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.deinit();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      //\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      //\n    }\n  }], [{\n    key: \"register\",\n    value: function register(widgetClass, widgetName) {\n      _register(widgetClass, widgetName);\n    }\n  }]);\n  return SimpleWidget;\n}();\nexports[\"default\"] = SimpleWidget;\n_defineProperty(SimpleWidget, \"defaults\", {});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JqTreeWidget = void 0;\nvar _version = _interopRequireDefault(require(\"./version\"));\nvar _dragAndDropHandler = require(\"./dragAndDropHandler\");\nvar _elementsRenderer = _interopRequireDefault(require(\"./elementsRenderer\"));\nvar _dataLoader = _interopRequireDefault(require(\"./dataLoader\"));\nvar _keyHandler = _interopRequireDefault(require(\"./keyHandler\"));\nvar _mouse = _interopRequireDefault(require(\"./mouse.widget\"));\nvar _saveStateHandler = _interopRequireDefault(require(\"./saveStateHandler\"));\nvar _scrollHandler = _interopRequireDefault(require(\"./scrollHandler\"));\nvar _selectNodeHandler = _interopRequireDefault(require(\"./selectNodeHandler\"));\nvar _simple = _interopRequireDefault(require(\"./simple.widget\"));\nvar _node6 = require(\"./node\");\nvar _util = require(\"./util\");\nvar _nodeElement = require(\"./nodeElement\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar NODE_PARAM_IS_EMPTY = \"Node parameter is empty\";\nvar PARAM_IS_EMPTY = \"Parameter is empty: \";\nvar JqTreeWidget = /*#__PURE__*/function (_MouseWidget) {\n  _inherits(JqTreeWidget, _MouseWidget);\n  var _super = _createSuper(JqTreeWidget);\n  function JqTreeWidget() {\n    var _this;\n    _classCallCheck(this, JqTreeWidget);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"element\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"tree\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"dndHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"renderer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"dataLoader\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"scrollHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"selectNodeHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"isInitialized\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"saveStateHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"keyHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      var clickTarget = _this.getClickTarget(e.target);\n      if (clickTarget) {\n        if (clickTarget.type === \"button\") {\n          _this.toggle(clickTarget.node, _this.options.slide);\n          e.preventDefault();\n          e.stopPropagation();\n        } else if (clickTarget.type === \"label\") {\n          var _node2 = clickTarget.node;\n          var event = _this._triggerEvent(\"tree.click\", {\n            node: _node2,\n            click_event: e\n          });\n          if (!event.isDefaultPrevented()) {\n            _this.doSelectNode(_node2);\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleDblclick\", function (e) {\n      var clickTarget = _this.getClickTarget(e.target);\n      if ((clickTarget === null || clickTarget === void 0 ? void 0 : clickTarget.type) === \"label\") {\n        _this._triggerEvent(\"tree.dblclick\", {\n          node: clickTarget.node,\n          click_event: e\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleContextmenu\", function (e) {\n      var $div = jQuery(e.target).closest(\"ul.jqtree-tree .jqtree-element\");\n      if ($div.length) {\n        var _node3 = _this.getNode($div);\n        if (_node3) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this._triggerEvent(\"tree.contextmenu\", {\n            node: _node3,\n            click_event: e\n          });\n          return false;\n        }\n      }\n      return null;\n    });\n    return _this;\n  }\n  _createClass(JqTreeWidget, [{\n    key: \"toggle\",\n    value: function toggle(node) {\n      var slideParam = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var slide = slideParam !== null && slideParam !== void 0 ? slideParam : this.options.slide;\n      if (node.is_open) {\n        this.closeNode(node, slide);\n      } else {\n        this.openNode(node, slide);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"getTree\",\n    value: function getTree() {\n      return this.tree;\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(node, optionsParam) {\n      this.doSelectNode(node, optionsParam);\n      return this.element;\n    }\n  }, {\n    key: \"getSelectedNode\",\n    value: function getSelectedNode() {\n      return this.selectNodeHandler.getSelectedNode();\n    }\n  }, {\n    key: \"toJson\",\n    value: function toJson() {\n      return JSON.stringify(this.tree.getData());\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData(data, parentNode) {\n      this.doLoadData(data, parentNode);\n      return this.element;\n    }\n\n    /*\n    signatures:\n    - loadDataFromUrl(url, parent_node=null, on_finished=null)\n        loadDataFromUrl('/my_data');\n        loadDataFromUrl('/my_data', node1);\n        loadDataFromUrl('/my_data', node1, function() { console.log('finished'); });\n        loadDataFromUrl('/my_data', null, function() { console.log('finished'); });\n     - loadDataFromUrl(parent_node=null, on_finished=null)\n        loadDataFromUrl();\n        loadDataFromUrl(node1);\n        loadDataFromUrl(null, function() { console.log('finished'); });\n        loadDataFromUrl(node1, function() { console.log('finished'); });\n    */\n  }, {\n    key: \"loadDataFromUrl\",\n    value: function loadDataFromUrl(param1, param2, param3) {\n      if (typeof param1 === \"string\") {\n        // first parameter is url\n        this.doLoadDataFromUrl(param1, param2, param3 !== null && param3 !== void 0 ? param3 : null);\n      } else {\n        // first parameter is not url\n        this.doLoadDataFromUrl(null, param1, param2);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(onFinished) {\n      this.doLoadDataFromUrl(null, null, onFinished);\n      return this.element;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this._refreshElements(null);\n      return this.element;\n    }\n  }, {\n    key: \"getNodeById\",\n    value: function getNodeById(nodeId) {\n      return this.tree.getNodeById(nodeId);\n    }\n  }, {\n    key: \"getNodeByName\",\n    value: function getNodeByName(name) {\n      return this.tree.getNodeByName(name);\n    }\n  }, {\n    key: \"getNodeByNameMustExist\",\n    value: function getNodeByNameMustExist(name) {\n      return this.tree.getNodeByNameMustExist(name);\n    }\n  }, {\n    key: \"getNodesByProperty\",\n    value: function getNodesByProperty(key, value) {\n      return this.tree.getNodesByProperty(key, value);\n    }\n  }, {\n    key: \"getNodeByHtmlElement\",\n    value: function getNodeByHtmlElement(element) {\n      return this.getNode(jQuery(element));\n    }\n  }, {\n    key: \"getNodeByCallback\",\n    value: function getNodeByCallback(callback) {\n      return this.tree.getNodeByCallback(callback);\n    }\n  }, {\n    key: \"openNode\",\n    value: function openNode(node, param1, param2) {\n      var _this2 = this;\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var parseParams = function parseParams() {\n        var onFinished;\n        var slide;\n        if ((0, _util.isFunction)(param1)) {\n          onFinished = param1;\n          slide = null;\n        } else {\n          slide = param1;\n          onFinished = param2;\n        }\n        if (slide == null) {\n          var _this2$options$slide;\n          slide = (_this2$options$slide = _this2.options.slide) !== null && _this2$options$slide !== void 0 ? _this2$options$slide : false;\n        }\n        return [slide, onFinished];\n      };\n      var _parseParams = parseParams(),\n        _parseParams2 = _slicedToArray(_parseParams, 2),\n        slide = _parseParams2[0],\n        onFinished = _parseParams2[1];\n      this._openNode(node, slide, onFinished);\n      return this.element;\n    }\n  }, {\n    key: \"closeNode\",\n    value: function closeNode(node, slideParam) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var slide = slideParam !== null && slideParam !== void 0 ? slideParam : this.options.slide;\n      if (node.isFolder() || node.isEmptyFolder) {\n        new _nodeElement.FolderElement(node, this).close(slide, this.options.animationSpeed);\n        this.saveState();\n      }\n      return this.element;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this.dndHandler.isDragging;\n    }\n  }, {\n    key: \"refreshHitAreas\",\n    value: function refreshHitAreas() {\n      this.dndHandler.refresh();\n      return this.element;\n    }\n  }, {\n    key: \"addNodeAfter\",\n    value: function addNodeAfter(newNodeInfo, existingNode) {\n      var newNode = existingNode.addAfter(newNodeInfo);\n      if (newNode) {\n        this._refreshElements(existingNode.parent);\n      }\n      return newNode;\n    }\n  }, {\n    key: \"addNodeBefore\",\n    value: function addNodeBefore(newNodeInfo, existingNode) {\n      if (!existingNode) {\n        throw Error(PARAM_IS_EMPTY + \"existingNode\");\n      }\n      var newNode = existingNode.addBefore(newNodeInfo);\n      if (newNode) {\n        this._refreshElements(existingNode.parent);\n      }\n      return newNode;\n    }\n  }, {\n    key: \"addParentNode\",\n    value: function addParentNode(newNodeInfo, existingNode) {\n      if (!existingNode) {\n        throw Error(PARAM_IS_EMPTY + \"existingNode\");\n      }\n      var newNode = existingNode.addParent(newNodeInfo);\n      if (newNode) {\n        this._refreshElements(newNode.parent);\n      }\n      return newNode;\n    }\n  }, {\n    key: \"removeNode\",\n    value: function removeNode(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      if (!node.parent) {\n        throw Error(\"Node has no parent\");\n      }\n      this.selectNodeHandler.removeFromSelection(node, true); // including children\n\n      var parent = node.parent;\n      node.remove();\n      this._refreshElements(parent);\n      return this.element;\n    }\n  }, {\n    key: \"appendNode\",\n    value: function appendNode(newNodeInfo, parentNodeParam) {\n      var parentNode = parentNodeParam || this.tree;\n      var node = parentNode.append(newNodeInfo);\n      this._refreshElements(parentNode);\n      return node;\n    }\n  }, {\n    key: \"prependNode\",\n    value: function prependNode(newNodeInfo, parentNodeParam) {\n      var parentNode = parentNodeParam !== null && parentNodeParam !== void 0 ? parentNodeParam : this.tree;\n      var node = parentNode.prepend(newNodeInfo);\n      this._refreshElements(parentNode);\n      return node;\n    }\n  }, {\n    key: \"updateNode\",\n    value: function updateNode(node, data) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var idIsChanged = _typeof(data) === \"object\" && data.id && data.id !== node.id;\n      if (idIsChanged) {\n        this.tree.removeNodeFromIndex(node);\n      }\n      node.setData(data);\n      if (idIsChanged) {\n        this.tree.addNodeToIndex(node);\n      }\n      if (_typeof(data) === \"object\" && data[\"children\"] && data[\"children\"] instanceof Array) {\n        node.removeChildren();\n        if (data.children.length) {\n          node.loadFromData(data.children);\n        }\n      }\n      this._refreshElements(node);\n      return this.element;\n    }\n  }, {\n    key: \"isSelectedNodeInSubtree\",\n    value: function isSelectedNodeInSubtree(subtree) {\n      var selectedNode = this.getSelectedNode();\n      if (!selectedNode) {\n        return false;\n      } else {\n        return subtree === selectedNode || subtree.isParentOf(selectedNode);\n      }\n    }\n  }, {\n    key: \"moveNode\",\n    value: function moveNode(node, targetNode, position) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      if (!targetNode) {\n        throw Error(PARAM_IS_EMPTY + \"targetNode\");\n      }\n      var positionIndex = (0, _node6.getPosition)(position);\n      if (positionIndex !== undefined) {\n        this.tree.moveNode(node, targetNode, positionIndex);\n        this._refreshElements(null);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"getStateFromStorage\",\n    value: function getStateFromStorage() {\n      return this.saveStateHandler.getStateFromStorage();\n    }\n  }, {\n    key: \"addToSelection\",\n    value: function addToSelection(node, mustSetFocus) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      this.selectNodeHandler.addToSelection(node);\n      this._getNodeElementForNode(node).select(mustSetFocus === undefined ? true : mustSetFocus);\n      this.saveState();\n      return this.element;\n    }\n  }, {\n    key: \"getSelectedNodes\",\n    value: function getSelectedNodes() {\n      return this.selectNodeHandler.getSelectedNodes();\n    }\n  }, {\n    key: \"isNodeSelected\",\n    value: function isNodeSelected(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      return this.selectNodeHandler.isNodeSelected(node);\n    }\n  }, {\n    key: \"removeFromSelection\",\n    value: function removeFromSelection(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      this.selectNodeHandler.removeFromSelection(node);\n      this._getNodeElementForNode(node).deselect();\n      this.saveState();\n      return this.element;\n    }\n  }, {\n    key: \"scrollToNode\",\n    value: function scrollToNode(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var nodeOffset = jQuery(node.element).offset();\n      var nodeTop = nodeOffset ? nodeOffset.top : 0;\n      var treeOffset = this.$el.offset();\n      var treeTop = treeOffset ? treeOffset.top : 0;\n      var top = nodeTop - treeTop;\n      this.scrollHandler.scrollToY(top);\n      return this.element;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.saveStateHandler.getState();\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(state) {\n      this.saveStateHandler.setInitialState(state);\n      this._refreshElements(null);\n      return this.element;\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption(option, value) {\n      this.options[option] = value;\n      return this.element;\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      var selectedNode = this.getSelectedNode();\n      if (selectedNode) {\n        this.keyHandler.moveDown(selectedNode);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      var selectedNode = this.getSelectedNode();\n      if (selectedNode) {\n        this.keyHandler.moveUp(selectedNode);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"getVersion\",\n    value: function getVersion() {\n      return _version[\"default\"];\n    }\n  }, {\n    key: \"_triggerEvent\",\n    value: function _triggerEvent(eventName, values) {\n      var event = jQuery.Event(eventName, values);\n      this.element.trigger(event);\n      return event;\n    }\n  }, {\n    key: \"_openNode\",\n    value: function _openNode(node) {\n      var _this3 = this;\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onFinished = arguments.length > 2 ? arguments[2] : undefined;\n      var doOpenNode = function doOpenNode(_node, _slide, _onFinished) {\n        var folderElement = new _nodeElement.FolderElement(_node, _this3);\n        folderElement.open(_onFinished, _slide, _this3.options.animationSpeed);\n      };\n      if (node.isFolder() || node.isEmptyFolder) {\n        if (node.load_on_demand) {\n          this.loadFolderOnDemand(node, slide, onFinished);\n        } else {\n          var parent = node.parent;\n          while (parent) {\n            // nb: do not open root element\n            if (parent.parent) {\n              doOpenNode(parent, false, null);\n            }\n            parent = parent.parent;\n          }\n          doOpenNode(node, slide, onFinished);\n          this.saveState();\n        }\n      }\n    }\n\n    /*\n    Redraw the tree or part of the tree.\n     from_node: redraw this subtree\n    */\n  }, {\n    key: \"_refreshElements\",\n    value: function _refreshElements(fromNode) {\n      var mustSetFocus = this.selectNodeHandler.isFocusOnTree();\n      var mustSelect = fromNode ? this.isSelectedNodeInSubtree(fromNode) : false;\n      this.renderer.render(fromNode);\n      if (mustSelect) {\n        this.selectCurrentNode(mustSetFocus);\n      }\n      this._triggerEvent(\"tree.refresh\");\n    }\n  }, {\n    key: \"_getNodeElementForNode\",\n    value: function _getNodeElementForNode(node) {\n      if (node.isFolder()) {\n        return new _nodeElement.FolderElement(node, this);\n      } else {\n        return new _nodeElement.NodeElement(node, this);\n      }\n    }\n  }, {\n    key: \"_getNodeElement\",\n    value: function _getNodeElement($element) {\n      var node = this.getNode($element);\n      if (node) {\n        return this._getNodeElementForNode(node);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"_containsElement\",\n    value: function _containsElement(element) {\n      var node = this.getNode(jQuery(element));\n      return node != null && node.tree === this.tree;\n    }\n  }, {\n    key: \"_getScrollLeft\",\n    value: function _getScrollLeft() {\n      return this.scrollHandler.getScrollLeft();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      _get(_getPrototypeOf(JqTreeWidget.prototype), \"init\", this).call(this);\n      this.element = this.$el;\n      this.isInitialized = false;\n      this.options.rtl = this.getRtlOption();\n      if (this.options.closedIcon == null) {\n        this.options.closedIcon = this.getDefaultClosedIcon();\n      }\n      this.renderer = new _elementsRenderer[\"default\"](this);\n      this.dataLoader = new _dataLoader[\"default\"](this);\n      this.saveStateHandler = new _saveStateHandler[\"default\"](this);\n      this.selectNodeHandler = new _selectNodeHandler[\"default\"](this);\n      this.dndHandler = new _dragAndDropHandler.DragAndDropHandler(this);\n      this.scrollHandler = new _scrollHandler[\"default\"](this);\n      this.keyHandler = new _keyHandler[\"default\"](this);\n      this.initData();\n      this.element.on(\"click\", this.handleClick);\n      this.element.on(\"dblclick\", this.handleDblclick);\n      if (this.options.useContextMenu) {\n        this.element.on(\"contextmenu\", this.handleContextmenu);\n      }\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      this.element.empty();\n      this.element.off();\n      this.keyHandler.deinit();\n      this.tree = new _node6.Node({}, true);\n      _get(_getPrototypeOf(JqTreeWidget.prototype), \"deinit\", this).call(this);\n    }\n  }, {\n    key: \"mouseCapture\",\n    value: function mouseCapture(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseCapture(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseStart\",\n    value: function mouseStart(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseStart(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseDrag\",\n    value: function mouseDrag(positionInfo) {\n      if (this.options.dragAndDrop) {\n        var result = this.dndHandler.mouseDrag(positionInfo);\n        this.scrollHandler.checkScrolling();\n        return result;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseStop\",\n    value: function mouseStop(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseStop(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getMouseDelay\",\n    value: function getMouseDelay() {\n      var _this$options$startDn;\n      return (_this$options$startDn = this.options.startDndDelay) !== null && _this$options$startDn !== void 0 ? _this$options$startDn : 0;\n    }\n  }, {\n    key: \"initData\",\n    value: function initData() {\n      if (this.options.data) {\n        this.doLoadData(this.options.data, null);\n      } else {\n        var dataUrl = this.getDataUrlInfo(null);\n        if (dataUrl) {\n          this.doLoadDataFromUrl(null, null, null);\n        } else {\n          this.doLoadData([], null);\n        }\n      }\n    }\n  }, {\n    key: \"getDataUrlInfo\",\n    value: function getDataUrlInfo(node) {\n      var _this4 = this;\n      var dataUrl = this.options.dataUrl || this.element.data(\"url\");\n      var getUrlFromString = function getUrlFromString(url) {\n        var urlInfo = {\n          url: url\n        };\n        setUrlInfoData(urlInfo);\n        return urlInfo;\n      };\n      var setUrlInfoData = function setUrlInfoData(urlInfo) {\n        if (node !== null && node !== void 0 && node.id) {\n          // Load on demand of a subtree; add node parameter\n          var data = {\n            node: node.id\n          };\n          urlInfo[\"data\"] = data;\n        } else {\n          // Add selected_node parameter\n          var selectedNodeId = _this4.getNodeIdToBeSelected();\n          if (selectedNodeId) {\n            var _data = {\n              selected_node: selectedNodeId\n            };\n            urlInfo[\"data\"] = _data;\n          }\n        }\n      };\n      if (typeof dataUrl === \"function\") {\n        return dataUrl(node);\n      } else if (typeof dataUrl === \"string\") {\n        return getUrlFromString(dataUrl);\n      } else if (dataUrl && _typeof(dataUrl) === \"object\") {\n        setUrlInfoData(dataUrl);\n        return dataUrl;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getNodeIdToBeSelected\",\n    value: function getNodeIdToBeSelected() {\n      if (this.options.saveState) {\n        return this.saveStateHandler.getNodeIdToBeSelected();\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"initTree\",\n    value: function initTree(data) {\n      var _this5 = this;\n      var doInit = function doInit() {\n        if (!_this5.isInitialized) {\n          _this5.isInitialized = true;\n          _this5._triggerEvent(\"tree.init\");\n        }\n      };\n      if (!this.options.nodeClass) {\n        return;\n      }\n      this.tree = new this.options.nodeClass(null, true, this.options.nodeClass);\n      this.selectNodeHandler.clear();\n      this.tree.loadFromData(data);\n      var mustLoadOnDemand = this.setInitialState();\n      this._refreshElements(null);\n      if (!mustLoadOnDemand) {\n        doInit();\n      } else {\n        // Load data on demand and then init the tree\n        this.setInitialStateOnDemand(doInit);\n      }\n    }\n\n    // Set initial state, either by restoring the state or auto-opening nodes\n    // result: must load nodes on demand?\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState() {\n      var _this6 = this;\n      var restoreState = function restoreState() {\n        // result: is state restored, must load on demand?\n        if (!_this6.options.saveState) {\n          return [false, false];\n        } else {\n          var state = _this6.saveStateHandler.getStateFromStorage();\n          if (!state) {\n            return [false, false];\n          } else {\n            var _mustLoadOnDemand = _this6.saveStateHandler.setInitialState(state);\n\n            // return true: the state is restored\n            return [true, _mustLoadOnDemand];\n          }\n        }\n      };\n      var autoOpenNodes = function autoOpenNodes() {\n        // result: must load on demand?\n        if (_this6.options.autoOpen === false) {\n          return false;\n        }\n        var maxLevel = _this6.getAutoOpenMaxLevel();\n        var mustLoadOnDemand = false;\n        _this6.tree.iterate(function (node, level) {\n          if (node.load_on_demand) {\n            mustLoadOnDemand = true;\n            return false;\n          } else if (!node.hasChildren()) {\n            return false;\n          } else {\n            node.is_open = true;\n            return level !== maxLevel;\n          }\n        });\n        return mustLoadOnDemand;\n      };\n      var _restoreState = restoreState(),\n        _restoreState2 = _slicedToArray(_restoreState, 2),\n        isRestored = _restoreState2[0],\n        mustLoadOnDemand = _restoreState2[1]; // eslint-disable-line prefer-const\n\n      if (!isRestored) {\n        mustLoadOnDemand = autoOpenNodes();\n      }\n      return mustLoadOnDemand;\n    }\n\n    // Set the initial state for nodes that are loaded on demand\n    // Call cb_finished when done\n  }, {\n    key: \"setInitialStateOnDemand\",\n    value: function setInitialStateOnDemand(cbFinished) {\n      var _this7 = this;\n      var restoreState = function restoreState() {\n        if (!_this7.options.saveState) {\n          return false;\n        } else {\n          var state = _this7.saveStateHandler.getStateFromStorage();\n          if (!state) {\n            return false;\n          } else {\n            _this7.saveStateHandler.setInitialStateOnDemand(state, cbFinished);\n            return true;\n          }\n        }\n      };\n      var autoOpenNodes = function autoOpenNodes() {\n        var maxLevel = _this7.getAutoOpenMaxLevel();\n        var loadingCount = 0;\n        var loadAndOpenNode = function loadAndOpenNode(node) {\n          loadingCount += 1;\n          _this7._openNode(node, false, function () {\n            loadingCount -= 1;\n            openNodes();\n          });\n        };\n        var openNodes = function openNodes() {\n          _this7.tree.iterate(function (node, level) {\n            if (node.load_on_demand) {\n              if (!node.is_loading) {\n                loadAndOpenNode(node);\n              }\n              return false;\n            } else {\n              _this7._openNode(node, false, null);\n              return level !== maxLevel;\n            }\n          });\n          if (loadingCount === 0) {\n            cbFinished();\n          }\n        };\n        openNodes();\n      };\n      if (!restoreState()) {\n        autoOpenNodes();\n      }\n    }\n  }, {\n    key: \"getAutoOpenMaxLevel\",\n    value: function getAutoOpenMaxLevel() {\n      if (this.options.autoOpen === true) {\n        return -1;\n      } else if (typeof this.options.autoOpen === \"number\") {\n        return this.options.autoOpen;\n      } else if (typeof this.options.autoOpen === \"string\") {\n        return parseInt(this.options.autoOpen, 10);\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"getClickTarget\",\n    value: function getClickTarget(element) {\n      var $target = jQuery(element);\n      var $button = $target.closest(\".jqtree-toggler\");\n      if ($button.length) {\n        var _node4 = this.getNode($button);\n        if (_node4) {\n          return {\n            type: \"button\",\n            node: _node4\n          };\n        }\n      } else {\n        var $el = $target.closest(\".jqtree-element\");\n        if ($el.length) {\n          var _node5 = this.getNode($el);\n          if (_node5) {\n            return {\n              type: \"label\",\n              node: _node5\n            };\n          }\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode($element) {\n      var $li = $element.closest(\"li.jqtree_common\");\n      if ($li.length === 0) {\n        return null;\n      } else {\n        return $li.data(\"node\");\n      }\n    }\n  }, {\n    key: \"saveState\",\n    value: function saveState() {\n      if (this.options.saveState) {\n        this.saveStateHandler.saveState();\n      }\n    }\n  }, {\n    key: \"selectCurrentNode\",\n    value: function selectCurrentNode(mustSetFocus) {\n      var node = this.getSelectedNode();\n      if (node) {\n        var nodeElement = this._getNodeElementForNode(node);\n        if (nodeElement) {\n          nodeElement.select(mustSetFocus);\n        }\n      }\n    }\n  }, {\n    key: \"deselectCurrentNode\",\n    value: function deselectCurrentNode() {\n      var node = this.getSelectedNode();\n      if (node) {\n        this.removeFromSelection(node);\n      }\n    }\n  }, {\n    key: \"getDefaultClosedIcon\",\n    value: function getDefaultClosedIcon() {\n      if (this.options.rtl) {\n        // triangle to the left\n        return \"&#x25c0;\";\n      } else {\n        // triangle to the right\n        return \"&#x25ba;\";\n      }\n    }\n  }, {\n    key: \"getRtlOption\",\n    value: function getRtlOption() {\n      if (this.options.rtl != null) {\n        return this.options.rtl;\n      } else {\n        var dataRtl = this.element.data(\"rtl\");\n        if (dataRtl !== null && dataRtl !== false && dataRtl !== undefined) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"doSelectNode\",\n    value: function doSelectNode(node, optionsParam) {\n      var _this8 = this;\n      var saveState = function saveState() {\n        if (_this8.options.saveState) {\n          _this8.saveStateHandler.saveState();\n        }\n      };\n      if (!node) {\n        // Called with empty node -> deselect current node\n        this.deselectCurrentNode();\n        saveState();\n        return;\n      }\n      var defaultOptions = {\n        mustSetFocus: true,\n        mustToggle: true\n      };\n      var selectOptions = _objectSpread(_objectSpread({}, defaultOptions), optionsParam || {});\n      var canSelect = function canSelect() {\n        if (_this8.options.onCanSelectNode) {\n          return _this8.options.selectable === true && _this8.options.onCanSelectNode(node);\n        } else {\n          return _this8.options.selectable === true;\n        }\n      };\n      var openParents = function openParents() {\n        var parent = node.parent;\n        if (parent && parent.parent && !parent.is_open) {\n          _this8.openNode(parent, false);\n        }\n      };\n      if (!canSelect()) {\n        return;\n      }\n      if (this.selectNodeHandler.isNodeSelected(node)) {\n        if (selectOptions.mustToggle) {\n          this.deselectCurrentNode();\n          this._triggerEvent(\"tree.select\", {\n            node: null,\n            previous_node: node\n          });\n        }\n      } else {\n        var deselectedNode = this.getSelectedNode() || null;\n        this.deselectCurrentNode();\n        this.addToSelection(node, selectOptions.mustSetFocus);\n        this._triggerEvent(\"tree.select\", {\n          node: node,\n          deselected_node: deselectedNode\n        });\n        openParents();\n      }\n      saveState();\n    }\n  }, {\n    key: \"doLoadData\",\n    value: function doLoadData(data, parentNode) {\n      if (data) {\n        if (parentNode) {\n          this.deselectNodes(parentNode);\n          this.loadSubtree(data, parentNode);\n        } else {\n          this.initTree(data);\n        }\n        if (this.isDragging()) {\n          this.dndHandler.refresh();\n        }\n      }\n      this._triggerEvent(\"tree.load_data\", {\n        tree_data: data,\n        parent_node: parentNode\n      });\n    }\n  }, {\n    key: \"deselectNodes\",\n    value: function deselectNodes(parentNode) {\n      var selectedNodesUnderParent = this.selectNodeHandler.getSelectedNodesUnder(parentNode);\n      var _iterator = _createForOfIteratorHelper(selectedNodesUnderParent),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var n = _step.value;\n          this.selectNodeHandler.removeFromSelection(n);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"loadSubtree\",\n    value: function loadSubtree(data, parentNode) {\n      parentNode.loadFromData(data);\n      parentNode.load_on_demand = false;\n      parentNode.is_loading = false;\n      this._refreshElements(parentNode);\n    }\n  }, {\n    key: \"doLoadDataFromUrl\",\n    value: function doLoadDataFromUrl(urlInfoParam, parentNode, onFinished) {\n      var urlInfo = urlInfoParam || this.getDataUrlInfo(parentNode);\n      this.dataLoader.loadFromUrl(urlInfo, parentNode, onFinished);\n    }\n  }, {\n    key: \"loadFolderOnDemand\",\n    value: function loadFolderOnDemand(node) {\n      var _this9 = this;\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onFinished = arguments.length > 2 ? arguments[2] : undefined;\n      node.is_loading = true;\n      this.doLoadDataFromUrl(null, node, function () {\n        _this9._openNode(node, slide, onFinished);\n      });\n    }\n  }]);\n  return JqTreeWidget;\n}(_mouse[\"default\"]);\nexports.JqTreeWidget = JqTreeWidget;\n_defineProperty(JqTreeWidget, \"defaults\", {\n  animationSpeed: \"fast\",\n  autoEscape: true,\n  autoOpen: false,\n  // true / false / int (open n levels starting at 0)\n  buttonLeft: true,\n  // The symbol to use for a closed node - ► BLACK RIGHT-POINTING POINTER\n  // http://www.fileformat.info/info/unicode/char/25ba/index.htm\n  closedIcon: undefined,\n  data: undefined,\n  dataFilter: undefined,\n  dataUrl: undefined,\n  dragAndDrop: false,\n  keyboardSupport: true,\n  nodeClass: _node6.Node,\n  onCanMove: undefined,\n  // Can this node be moved?\n  onCanMoveTo: undefined,\n  // Can this node be moved to this position? function(moved_node, target_node, position)\n  onCanSelectNode: undefined,\n  onCreateLi: undefined,\n  onDragMove: undefined,\n  onDragStop: undefined,\n  onGetStateFromStorage: undefined,\n  onIsMoveHandle: undefined,\n  onLoadFailed: undefined,\n  onLoading: undefined,\n  onSetStateFromStorage: undefined,\n  openedIcon: \"&#x25bc;\",\n  openFolderDelay: 500,\n  // The delay for opening a folder during drag and drop; the value is in milliseconds\n  // The symbol to use for an open node - ▼ BLACK DOWN-POINTING TRIANGLE\n  // http://www.fileformat.info/info/unicode/char/25bc/index.htm\n  rtl: undefined,\n  // right-to-left support; true / false (default)\n  saveState: false,\n  // true / false / string (cookie name)\n  selectable: true,\n  showEmptyFolder: false,\n  slide: true,\n  // must display slide animation?\n  startDndDelay: 300,\n  // The delay for starting dnd (in milliseconds)\n  tabIndex: 0,\n  useContextMenu: true\n});\n_simple[\"default\"].register(JqTreeWidget, \"tree\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isInt = exports.isFunction = exports.getBoolString = void 0;\nvar isInt = function isInt(n) {\n  return typeof n === \"number\" && n % 1 === 0;\n};\nexports.isInt = isInt;\nvar isFunction = function isFunction(v) {\n  return typeof v === \"function\";\n};\nexports.isFunction = isFunction;\nvar getBoolString = function getBoolString(value) {\n  return value ? \"true\" : \"false\";\n};\nexports.getBoolString = getBoolString;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar version = \"1.7.1\";\nvar _default = version;\nexports[\"default\"] = _default;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","import \"jqtree\";\nimport { Spinner } from \"spin.js\";\nimport * as cookie from \"cookie\";\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\ninterface JQTreeMoveEvent extends JQuery.Event {\n    move_info: {\n        moved_node: INode;\n        position: string;\n        target_node: INode;\n        do_move: () => void;\n    };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\ninterface JQTreeSelectEvent extends JQuery.Event {\n    deselected_node: INode | null;\n    node: INode;\n}\n\ninterface Parameters {\n    animationSpeed: number | string | null;\n    autoOpen: boolean | number;\n    autoEscape: boolean;\n    csrfCookieName: string;\n    dragAndDrop: boolean;\n    hasAddPermission: boolean;\n    hasChangePermission: boolean;\n    mouseDelay: number | null;\n    rtl: boolean;\n}\n\nfunction initTree(\n    $tree: JQuery,\n    {\n        animationSpeed,\n        autoOpen,\n        autoEscape,\n        csrfCookieName,\n        dragAndDrop,\n        hasAddPermission,\n        hasChangePermission,\n        mouseDelay,\n        rtl,\n    }: Parameters\n) {\n    let errorNode: INode | null = null;\n    const baseUrl = \"http://example.com\";\n    const insertAtUrl = new URL($tree.data(\"insert_at_url\") as string, baseUrl);\n\n    function createLi(node: INode, $li: JQuery, isSelected: boolean) {\n        // Create edit link\n        const $title = $li.find(\".jqtree-title\");\n\n        insertAtUrl.searchParams.set(\n            \"insert_at\",\n            `${node.id as string | number}`\n        );\n\n        const insertUrlString = insertAtUrl\n            .toString()\n            .substring(baseUrl.length);\n\n        const tabindex = isSelected ? \"0\" : \"-1\";\n        const editCaption = hasChangePermission\n            ? gettext(\"edit\")\n            : gettext(\"view\");\n\n        $title.after(\n            `<a href=\"${\n                node.url as string\n            }\" class=\"edit\" tabindex=\"${tabindex}\">(${editCaption})</a>`,\n            hasAddPermission\n                ? `<a href=\"${insertUrlString}\" class=\"edit\" tabindex=\"${tabindex}\">(${gettext(\n                      \"add\"\n                  )})</a>`\n                : \"\"\n        );\n    }\n\n    function getCsrfToken() {\n        function getFromMiddleware() {\n            return (\n                document.querySelector(\n                    '[name=\"csrfmiddlewaretoken\"]'\n                ) as HTMLInputElement\n            ).value;\n        }\n\n        function getFromCookie() {\n            if (!csrfCookieName) {\n                return null;\n            } else {\n                return cookie.parse(document.cookie)[csrfCookieName];\n            }\n        }\n\n        return getFromCookie() || getFromMiddleware();\n    }\n\n    function handleMove(eventParam: JQuery.Event) {\n        const e = eventParam as JQTreeMoveEvent;\n        const info = e.move_info;\n        const data = {\n            target_id: info.target_node.id,\n            position: info.position,\n        };\n        const $el = jQuery(info.moved_node.element);\n\n        handleLoading(true, null, $el);\n\n        removeErrorMessage();\n\n        e.preventDefault();\n\n        void jQuery.ajax({\n            type: \"POST\",\n            url: info.moved_node.move_url as string,\n            data,\n            beforeSend: (xhr) => {\n                // Set Django csrf token\n                xhr.setRequestHeader(\"X-CSRFToken\", getCsrfToken());\n            },\n            success: () => {\n                info.do_move();\n                handleLoading(false, null, $el);\n            },\n            error: () => {\n                handleLoading(false, null, $el);\n                const $node = $el.find(\".jqtree-element\");\n                $node.append(\n                    `<span class=\"mptt-admin-error\">${gettext(\n                        \"move failed\"\n                    )}</span>`\n                );\n\n                errorNode = info.moved_node;\n            },\n        });\n\n        function removeErrorMessage() {\n            if (errorNode) {\n                jQuery(errorNode.element).find(\".mptt-admin-error\").remove();\n                errorNode = null;\n            }\n        }\n    }\n\n    function handleLoadFailed() {\n        $tree.html(gettext(\"Error while loading the data from the server\"));\n    }\n\n    const spinners: Record<number | string, Spinner | null> = {};\n\n    function handleLoading(\n        isLoading: boolean,\n        node: INode | null,\n        $el: JQuery\n    ) {\n        function getNodeId(): string | number {\n            if (!node) {\n                return \"__root__\";\n            } else {\n                return node.id as string | number;\n            }\n        }\n\n        function getContainer() {\n            if (node) {\n                return $el.find(\".jqtree-element\")[0];\n            } else {\n                return $el[0];\n            }\n        }\n\n        const nodeId = getNodeId();\n\n        if (isLoading) {\n            spinners[nodeId] = new Spinner().spin(getContainer());\n        } else {\n            const spinner = spinners[nodeId];\n\n            if (spinner) {\n                spinner.stop();\n                spinners[nodeId] = null;\n            }\n        }\n    }\n\n    function handleSelect(eventParam: JQuery.Event) {\n        const e = eventParam as JQTreeSelectEvent;\n        const { node, deselected_node } = e;\n\n        if (deselected_node) {\n            // deselected node: remove tabindex\n            jQuery(deselected_node.element).find(\".edit\").attr(\"tabindex\", -1);\n        }\n\n        if (node) {\n            // selected: add tabindex\n            jQuery(node.element).find(\".edit\").attr(\"tabindex\", 0);\n        }\n    }\n\n    const treeOptions: Record<string, unknown> = {\n        autoOpen,\n        autoEscape,\n        buttonLeft: rtl,\n        closedIcon: rtl ? \"&#x25c0;\" : \"&#x25ba;\",\n        dragAndDrop: dragAndDrop && hasChangePermission,\n        onCreateLi: createLi,\n        onLoadFailed: handleLoadFailed,\n        onLoading: handleLoading,\n        saveState: $tree.data(\"save_state\") as boolean,\n        useContextMenu: Boolean($tree.data(\"use_context_menu\")),\n    };\n\n    if (animationSpeed !== null) {\n        treeOptions[\"animationSpeed\"] = animationSpeed;\n    }\n\n    if (mouseDelay != null) {\n        treeOptions[\"startDndDelay\"] = mouseDelay;\n    }\n\n    $tree.tree(treeOptions);\n\n    $tree.on(\"tree.move\", handleMove);\n    $tree.on(\"tree.select\", handleSelect);\n}\n\njQuery(() => {\n    const $tree = jQuery(\"#tree\");\n\n    if ($tree.length) {\n        const animationSpeed = $tree.data(\"tree-animation-speed\") as\n            | number\n            | string\n            | null;\n        const autoOpen = $tree.data(\"auto_open\") as boolean | number;\n        const autoEscape = Boolean($tree.data(\"autoescape\"));\n        const hasAddPermission = Boolean($tree.data(\"has-add-permission\"));\n        const hasChangePermission = Boolean(\n            $tree.data(\"has-change-permission\")\n        );\n        const mouseDelay = $tree.data(\"tree-mouse-delay\") as number | null;\n        const dragAndDrop = $tree.data(\"drag-and-drop\") as boolean;\n        const rtl = $tree.data(\"rtl\") === \"1\";\n        const csrfCookieName = $tree.data(\"csrf-cookie-name\") as string;\n\n        initTree($tree, {\n            animationSpeed,\n            autoOpen,\n            autoEscape,\n            csrfCookieName,\n            dragAndDrop,\n            hasAddPermission,\n            hasChangePermission,\n            mouseDelay,\n            rtl,\n        });\n    }\n});\n"],"names":["exports","str","options","TypeError","obj","dec","decode","index","length","eqIdx","indexOf","endIdx","lastIndexOf","key","slice","trim","undefined","val","charCodeAt","tryDecode","Object","prototype","toString","decodeURIComponent","e","_typeof","Symbol","iterator","constructor","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperties","target","props","i","descriptor","configurable","writable","defineProperty","_toPropertyKey","_defineProperty","value","arg","input","hint","prim","toPrimitive","res","call","String","_toPrimitive","DataLoader","treeWidget","instance","Constructor","_classCallCheck","this","protoProps","urlInfo","parentNode","onFinished","_this","$el","getDomElement","addLoadingClass","notifyLoading","stopLoading","removeLoadingClass","submitRequest","data","loadData","parseData","jqXHR","onLoadFailed","addClass","removeClass","jQuery","element","isLoading","node","onLoading","_triggerEvent","urlInfoInput","handleSuccess","handleError","_ajaxSettings$method","ajaxSettings","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","method","cache","dataType","success","error","url","toUpperCase","ajax","dataFilter","parsedData","JSON","parse","HitAreasGenerator","DragAndDropHandler","_node","_arrayLikeToArray","arr","len","arr2","Array","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_assertThisInitialized","self","ReferenceError","_getPrototypeOf","getPrototypeOf","_createClass","staticProps","hoveredArea","hitAreas","isDragging","currentItem","positionInfo","$element","mustCaptureElement","onIsMoveHandle","nodeElement","_getNodeElement","onCanMove","_this$treeWidget$opti","pageX","pageY","refresh","offset","left","top","dragElement","DragElement","name","autoEscape","move","area","findHoveredArea","canMoveToArea","isFolder","stopOpenFolderTimer","mustOpenFolderTimer","startOpenFolderTimer","updateDropHint","removeDropHint","onDragMove","originalEvent","moveItem","clear","removeHover","removeHitAreas","onDragStop","generateHitAreas","_getNodeElementForNode","hitAreasGenerator","tree","getTreeDimensions","bottom","generate","is","onCanMoveTo","positionName","getPositionName","position","remove","previousGhost","x","y","dimensions","right","low","high","mid","is_open","Position","Inside","addDropHint","folder","openFolderDelay","openFolderTimer","window","setTimeout","_openNode","slide","clearTimeout","_this2","None","movedNode","targetNode","previousParent","parent","doMove","moveNode","empty","_refreshElements","move_info","moved_node","target_node","previous_parent","do_move","original_event","isDefaultPrevented","el","width","height","_getScrollLeft","_VisibleNodeIterator","subClass","superClass","create","_inherits","Derived","hasNativeReflectConstruct","_super","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","_possibleConstructorReturn","currentNode","treeBottom","_this4","positions","lastTop","iterate","_step","previousTop","group","_iterator","allowArrayLike","it","isArray","minLen","n","from","test","_unsupportedIterableToArray","F","s","done","_e","f","err","normalCompletion","didErr","step","next","_e2","_createForOfIteratorHelper","generateHitAreasForGroup","children","addPosition","getTop","nextNode","After","Before","positionsInGroup","positionCount","Math","min","areaHeight","round","areaTop","VisibleNodeIterator","_this3","isFirstNode","_iterateNode","mustIterateInside","hasChildren","handleFirstNode","handleOpenFolder","handleClosedFolder","handleNode","childrenLength","_","child","nextChild","handleAfterOpenFolder","nodeName","offsetX","offsetY","$tree","text","html","css","append","_util","ElementsRenderer","openedIconElement","createButtonElement","openedIcon","closedIconElement","closedIcon","fromNode","renderFromNode","renderFromRoot","createDomElements","$previousLi","li","createLi","getLevel","attachNodeData","after","isRootNode","level","ul","createUl","appendChild","classString","role","rtl","dragAndDrop","document","createElement","className","concat","setAttribute","isSelected","selectNodeHandler","isNodeSelected","isEmptyFolder","showEmptyFolder","createFolderLi","createNodeLi","onCreateLi","getBoolString","buttonClasses","getButtonClasses","folderClasses","getFolderClasses","iconElement","div","buttonLink","cloneNode","buttonLeft","titleSpan","createTitleSpan","liClasses","join","classes","tabIndex","setTreeItemAriaAttributes","textContent","innerHTML","is_loading","createTextNode","KeyHandler","canHandleKeyboard","selectedNode","getSelectedNode","which","DOWN","moveDown","UP","moveUp","RIGHT","moveRight","LEFT","moveLeft","keyboardSupport","on","handleKeyDown","off","selectNode","getNextVisibleNode","getPreviousVisibleNode","openNode","closeNode","getParent","scrollHandler","isScrolledIntoView","find","scrollToNode","isFocusOnTree","_simple","__esModule","getPositionInfoFromMouseEvent","getPositionInfoFromTouch","touch","_default","_SimpleWidget","MouseWidget","_len","args","_key","button","handleMouseDown","cancelable","preventDefault","handleMouseMove","handleMouseUp","touches","changedTouches","get","addEventListener","mouseDown","passive","touchStart","isMouseStarted","mouseDelayTimer","isMouseDelayMet","mouseDownInfo","removeEventListener","removeMouseMoveEventListeners","mouseCapture","handleStartMouse","mouseMove","touchMove","mouseUp","touchEnd","mouseDelay","getMouseDelay","startMouseDelayTimer","mouseDrag","mouseStart","mouseStop","getPosition","Node","positionNames","before","inside","none","hasOwnProperty","isNodeRecordWithChildren","isRoot","nodeClass","load_on_demand","setData","idMapping","Map","removeChildren","createNode","addChild","loadFromData","setParent","splice","doRemoveChild","callback","_iterate","_step2","_iterator2","isParentOf","addChildAtPosition","getChildIndex","getDataFromNodes","nodes","map","tmpNode","k","v","getNodeByCallback","nodeInfo","_node2","childIndex","_node3","newParent","_step3","originalParent","_iterator3","removeChild","nodeId","id","set","_this$tree","removeNodeFromIndex","previousIndex","nextIndex","getNextSibling","getNextNode","previousSibling","getPreviousSibling","getLastChild","lastChild","nodeData","childrenData","_step4","_iterator4","_node4","initFromData","addChildren","_this$tree2","addNodeToIndex","_this$tree3","_this$tree4","getNodeClass","NodeElement","FolderElement","BorderDropHint","init","mustShowBorderDropHint","GhostDropHint","mustSetFocus","getLi","$span","getSpan","attr","trigger","removeAttr","_NodeElement","animationSpeed","$button","getButton","buttonEl","renderer","icon","doOpen","getUl","slideDown","show","doClose","slideUp","hide","scrollLeft","$div","elWidth","max","elHeight","outerHeight","$hint","$ghost","moveAfter","moveBefore","moveInsideOpenFolder","moveInside","_this$node$children$","childElement","SaveStateHandler","state","stringify","getState","onSetStateFromStorage","supportsLocalStorage","localStorage","setItem","getKeyName","jsonData","loadFromStorage","parseState","selectedNodeIds","openNodes","open_nodes","selected_node","getSelectedNodes","mustLoadOnDemand","openInitialNodes","resetSelection","selectInitialNodes","cbFinished","doSetInitialStateOnDemand","getStateFromStorage","isInt","onGetStateFromStorage","getItem","nodeIds","getNodeById","selectCount","addToSelection","removeFromSelection","nodeIdsParam","selectedNodes","loadingCount","newNodesIds","loadAndOpenNode","saveState","_supportsLocalStorage","sessionStorage","removeItem","testSupport","ScrollHandler","isInitialized","ensureInit","checkVerticalScrolling","checkHorizontalScrolling","$scrollParent","scrollTop","treeTop","elementBottom","viewBottom","elementTop","viewTop","scrollParentTop","_offset","_$scrollParent$","setDocumentAsScrollParent","cssAttributes","hasOverFlow","_i","_cssAttributes","overflowValue","parents","getParentWithOverflow","tagName","initScrollParent","scrollParent","offsetHeight","refreshHitAreas","dndHandler","handleVerticalScrollingWithScrollParent","handleVerticalScrollingWithDocument","handleHorizontalScrollingWithParent","handleHorizontalScrollingWithDocument","scrollParentOffset","canScrollRight","clientWidth","scrollWidth","canScrollLeft","rightEdge","leftEdge","isNearRightEdge","isNearLeftEdge","$document","windowWidth","SelectNodeHandler","Set","selectedSingleNode","has","includeChildren","add","activeElement","_containsElement","_register","widgetClass","widgetName","getDataKey","getWidgetData","dataKey","widget","SimpleWidget","createWidget","fn","argument1","functionName","destroy","removeData","destroyWidget","widgetFunction","callFunction","defaults","deinit","_version","_interopRequireDefault","_dragAndDropHandler","_elementsRenderer","_dataLoader","_keyHandler","_mouse","_saveStateHandler","_scrollHandler","_selectNodeHandler","_node6","_nodeElement","_slicedToArray","_arrayWithHoles","_s","_x","_r","_arr","_n","_d","_iterableToArrayLimit","_nonIterableRest","_get","property","receiver","base","_superPropBase","desc","NODE_PARAM_IS_EMPTY","PARAM_IS_EMPTY","JqTreeWidget","_MouseWidget","clickTarget","getClickTarget","type","toggle","stopPropagation","click_event","doSelectNode","closest","getNode","slideParam","Error","optionsParam","getData","doLoadData","param1","param2","param3","doLoadDataFromUrl","getNodeByName","getNodeByNameMustExist","getNodesByProperty","_parseParams","_this2$options$slide","isFunction","parseParams","_parseParams2","close","newNodeInfo","existingNode","newNode","addAfter","addBefore","addParent","parentNodeParam","prepend","idIsChanged","subtree","positionIndex","saveStateHandler","select","deselect","nodeOffset","nodeTop","treeOffset","scrollToY","setInitialState","option","keyHandler","eventName","values","event","Event","doOpenNode","_slide","_onFinished","open","loadFolderOnDemand","mustSelect","isSelectedNodeInSubtree","render","selectCurrentNode","getScrollLeft","getRtlOption","getDefaultClosedIcon","dataLoader","initData","handleClick","handleDblclick","useContextMenu","handleContextmenu","checkScrolling","_this$options$startDn","startDndDelay","getDataUrlInfo","dataUrl","setUrlInfoData","selectedNodeId","getNodeIdToBeSelected","_data","_this5","doInit","setInitialStateOnDemand","_this6","_restoreState2","restoreState","isRestored","autoOpen","maxLevel","getAutoOpenMaxLevel","autoOpenNodes","_this7","parseInt","$target","_node5","$li","dataRtl","_this8","deselectCurrentNode","selectOptions","mustToggle","onCanSelectNode","selectable","previous_node","deselectedNode","deselected_node","deselectNodes","loadSubtree","initTree","tree_data","parent_node","_e3","getSelectedNodesUnder","urlInfoParam","loadFromUrl","_this9","register","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","__assign","assign","t","lines","radius","scale","corners","color","fadeColor","animation","rotate","direction","speed","zIndex","shadow","Spinner","opts","spin","stop","transform","insertBefore","firstChild","borderRadius","shadows","boxShadow","regex","_a","split","matches","match","xUnits","yUnits","prefix","end","parseBoxShadow","degrees","backgroundLine","background","getColor","transformOrigin","delay","line","normalizeShadow","drawLines","requestAnimationFrame","cancelAnimationFrame","animateId","prop","style","idx","normalized","shadows_1","xy","convertOffset","radians","PI","sin","cos","hasAddPermission","hasChangePermission","csrfCookieName","_ref","errorNode","insertAtUrl","URL","spinners","handleLoading","spinner","treeOptions","$title","searchParams","insertUrlString","substring","baseUrl","tabindex","editCaption","gettext","eventParam","info","target_id","move_url","beforeSend","xhr","setRequestHeader","cookie","querySelector"],"sourceRoot":""}